<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Asst. Prof.&nbsp;Calvin J. Chiou">

<title>R Note 2 - Portfolio Formation using R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../..//img/nccu_logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/quarto-contrib/academicons-1.9.2/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/academicons-1.9.2/size.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="application/json" class="js-hypothesis-config">
{
  "theme": "clean"
}
</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<link href="../../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../../site_libs/datatables-binding-0.33/datatables.js"></script>
<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<script src="../../site_libs/proj4js-2.3.15/proj4.js"></script>
<link href="../../site_libs/highcharts-9.3.1/css/motion.css" rel="stylesheet">
<script src="../../site_libs/highcharts-9.3.1/highcharts.js"></script>
<script src="../../site_libs/highcharts-9.3.1/highcharts-3d.js"></script>
<script src="../../site_libs/highcharts-9.3.1/highcharts-more.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/stock.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/map.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/data.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/exporting.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/offline-exporting.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/drilldown.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/item-series.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/annotations.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/export-data.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/funnel.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/heatmap.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/treemap.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/sankey.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/dependency-wheel.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/organization.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/solid-gauge.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/streamgraph.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/sunburst.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/vector.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/wordcloud.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/xrange.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/tilemap.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/venn.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/gantt.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/timeline.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/bullet.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/coloraxis.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/dumbbell.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/lollipop.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/series-label.js"></script>
<script src="../../site_libs/highcharts-9.3.1/plugins/motion.js"></script>
<script src="../../site_libs/highcharts-9.3.1/custom/reset.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/boost.js"></script>
<script src="../../site_libs/highchart-binding-0.9.4/highchart.js"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../img/nccu_logo.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">Resume</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources.html"> 
<span class="menu-text">Resources</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/calvinchiou1992/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/calvinchiou"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:jjchiou@nccu.edu.tw"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://scholar.google.com.tw/citations?user=WvORrXMAAAAJ&amp;hl=en"> 
<span class="menu-text"><i class="ai  ai-google-scholar"></i></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#course-information" id="toc-course-information" class="nav-link active" data-scroll-target="#course-information">Course Information</a></li>
  <li><a href="#fetching-stock-data" id="toc-fetching-stock-data" class="nav-link" data-scroll-target="#fetching-stock-data">1. Fetching Stock Data</a></li>
  <li><a href="#constructing-an-equally-weighted-portfolio" id="toc-constructing-an-equally-weighted-portfolio" class="nav-link" data-scroll-target="#constructing-an-equally-weighted-portfolio">2. Constructing an Equally Weighted Portfolio</a></li>
  <li><a href="#portfolio-valuation-and-return-calculation" id="toc-portfolio-valuation-and-return-calculation" class="nav-link" data-scroll-target="#portfolio-valuation-and-return-calculation">3. Portfolio Valuation and Return Calculation</a>
  <ul class="collapse">
  <li><a href="#portfolio-value" id="toc-portfolio-value" class="nav-link" data-scroll-target="#portfolio-value">Portfolio Value</a></li>
  <li><a href="#portfolio-returns" id="toc-portfolio-returns" class="nav-link" data-scroll-target="#portfolio-returns">Portfolio Returns</a></li>
  <li><a href="#a.-calculating-returns-from-the-net-value-of-portfolio" id="toc-a.-calculating-returns-from-the-net-value-of-portfolio" class="nav-link" data-scroll-target="#a.-calculating-returns-from-the-net-value-of-portfolio">A. Calculating returns from the net value of portfolio</a></li>
  <li><a href="#b.-calculating-returns-directly-from-portfolio-securities" id="toc-b.-calculating-returns-directly-from-portfolio-securities" class="nav-link" data-scroll-target="#b.-calculating-returns-directly-from-portfolio-securities">B. Calculating returns directly from portfolio securities</a></li>
  <li><a href="#portfolio-volatility" id="toc-portfolio-volatility" class="nav-link" data-scroll-target="#portfolio-volatility">Portfolio Volatility</a></li>
  </ul></li>
  <li><a href="#visualizing-portfolio-value-with-highcharter" id="toc-visualizing-portfolio-value-with-highcharter" class="nav-link" data-scroll-target="#visualizing-portfolio-value-with-highcharter">4. Visualizing Portfolio Value with <code>highcharter</code></a></li>
  <li><a href="#buy-and-hold-returns" id="toc-buy-and-hold-returns" class="nav-link" data-scroll-target="#buy-and-hold-returns">5. Buy-and-Hold Returns</a>
  <ul class="collapse">
  <li><a href="#calculation" id="toc-calculation" class="nav-link" data-scroll-target="#calculation">Calculation</a></li>
  </ul></li>
  <li><a href="#portfolio-comparison-equally-weighted-portfolio-vs.-100-nvda-portfolio" id="toc-portfolio-comparison-equally-weighted-portfolio-vs.-100-nvda-portfolio" class="nav-link" data-scroll-target="#portfolio-comparison-equally-weighted-portfolio-vs.-100-nvda-portfolio">6. Portfolio Comparison: Equally Weighted Portfolio vs.&nbsp;100% NVDA Portfolio</a>
  <ul class="collapse">
  <li><a href="#visualization-of-both-portfolios" id="toc-visualization-of-both-portfolios" class="nav-link" data-scroll-target="#visualization-of-both-portfolios">Visualization of Both Portfolios</a></li>
  </ul></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">R Note 2 - Portfolio Formation using R</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Asst. Prof.&nbsp;Calvin J. Chiou <a href="mailto:jjchiou@nccu.edu.tw" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            National Chengchi University (NCCU)
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  


</header>


<section id="course-information" class="level2">
<h2 class="anchored" data-anchor-id="course-information">Course Information</h2>
<ul>
<li><p><strong>Course Name:</strong> Investments | 000351051</p></li>
<li><p><strong>Semester:</strong> Spring 2025</p></li>
</ul>
</section>
<section id="fetching-stock-data" class="level2">
<h2 class="anchored" data-anchor-id="fetching-stock-data">1. Fetching Stock Data</h2>
<p>We use R to create an equally weighted portfolio consisting of four stocks: ExxonMobil (XOM), Walmart (WMT), NVIDIA (NVDA), and Apple (AAPL). Using <code>tidyquant</code> to fetch stock prices via <a href="https://finance.yahoo.com/">Yahoo Finance</a>. Note that the corresponding ticker for a given stock can be found on its website.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyquant)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define stock tickers and date range</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>stocks <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"XOM"</span>, <span class="st">"WMT"</span>, <span class="st">"NVDA"</span>, <span class="st">"AAPL"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>start_date <span class="ot">&lt;-</span> <span class="st">"2023-01-01"</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>end_date <span class="ot">&lt;-</span> <span class="st">"2023-04-30"</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Download stock prices</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>prices <span class="ot">&lt;-</span> <span class="fu">tq_get</span>(stocks, <span class="at">from =</span> start_date, <span class="at">to =</span> end_date)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print out interactive table</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(prices) <span class="sc">|&gt;</span> </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"open"</span>,<span class="st">"high"</span>,<span class="st">"low"</span>,<span class="st">"close"</span>,<span class="st">"adjusted"</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-ed8f2827efe1214fea9b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ed8f2827efe1214fea9b">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324"],["XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL"],["2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28"],[109.7799987792969,104.8000030517578,106.3399963378906,110.0800018310547,111.6399993896484,109.7900009155273,110.9899978637695,111.8199996948242,113.1100006103516,113.4100036621094,113.2600021362305,110.0699996948242,111.3600006103516,113.6399993896484,109.1600036621094,113.2300033569336,114.7200012207031,116.9499969482422,115.0899963378906,112.0999984741211,115.8300018310547,114.8499984741211,111.9000015258789,112.3600006103516,112.3899993896484,115.0500030517578,114.620002746582,116.5100021362305,117.7200012207031,117.0100021362305,115.7200012207031,115.3099975585938,114.1900024414062,110.8099975585938,110.4800033569336,110.7300033569336,109.3300018310547,110.8000030517578,111.2399978637695,109.3099975585938,110.620002746582,110.0500030517578,111.9899978637695,112.8099975585938,111.2300033569336,110.870002746582,109.5599975585938,105.3399963378906,106.3499984741211,102.8199996948242,99.11000061035156,100.5999984741211,99.62999725341797,104.1699981689453,106.8000030517578,105.3600006103516,101.4700012207031,104.7399978637695,105.4400024414062,108.0599975585938,109.5500030517578,109.6800003051758,113.3899993896484,116.2600021362305,115.3499984741211,116.8600006103516,114.7799987792969,114.9599990844727,116.1600036621094,114.5999984741211,115.9000015258789,115.4899978637695,114.3899993896484,116.0800018310547,115.129997253418,116.4899978637695,115.9199981689453,117.5500030517578,116.0299987792969,115.620002746582,117.25,47.51666641235352,47.80666732788086,47.81999969482422,48.20000076293945,48.77333450317383,48.31333160400391,48.58000183105469,48.8033332824707,48.5099983215332,48.43000030517578,48.06666564941406,47.13000106811523,46.46666717529297,46.81999969482422,48.84999847412109,47.41333389282227,47.67666625976562,47.53333282470703,47.37333297729492,47.43999862670898,47.88666534423828,48.13666534423828,47.78666687011719,47.27333450317383,46.59000015258789,46.77666854858398,46.95666885375977,47.6966667175293,48.23666763305664,48.57666778564453,48.31999969482422,48.49333190917969,48.36999893188477,47.62666702270508,48.92333221435547,48.12333297729492,46.9466667175293,47.56999969482422,47,47.02000045776367,46.61333465576172,47.01333236694336,46.83333206176758,47.06000137329102,46.18666839599609,46.27666854858398,45.67333221435547,45.56000137329102,45.89666748046875,45.63000106811523,46.47666549682617,46.06333160400391,46.70000076293945,47.13000106811523,46.88000106811523,46.73333358764648,47.00333404541016,47.5966682434082,47.88333129882812,48.12333297729492,48.5,48.86000061035156,49.24333190917969,49.5099983215332,49.05666732788086,49.59999847412109,50.11999893188477,50.33333206176758,49.93000030517578,49.88333129882812,49.67666625976562,49.54666519165039,49.92666625976562,50.27999877929688,50.06999969482422,50.6533317565918,50.56999969482422,51.0966682434082,50.32666778564453,50.2599983215332,50.43000030517578,14.85099983215332,14.56700038909912,14.49100017547607,14.47399997711182,15.28400039672852,15.50699996948242,15.84000015258789,16.10000038146973,16.27799987792969,16.89900016784668,17.66699981689453,17.0359992980957,17.01099967956543,18.06399917602539,18.82699966430664,18.91300010681152,19.70100021362305,19.46199989318848,19.95000076293945,19.17000007629395,19.69099998474121,21,21,20.80599975585938,21.38199996948242,22.38699913024902,22.60600090026855,21.69000053405762,21.53800010681152,21.57799911499023,22.54899978637695,22.13299942016602,21.63100051879883,21,20.70700073242188,23.44000053405762,23.22500038146973,23.67000007629395,23.37199974060059,23.1919994354248,22.48800086975098,23.31999969482422,23.89100074768066,23.60000038146973,23.48699951171875,24.17499923706055,23.40900039672852,22.75200080871582,23.49600028991699,23.76099967956543,24.02700042724609,25.98200035095215,25.61499977111816,26.18000030517578,26.42499923706055,27.11499977111816,27.0310001373291,26.83699989318848,26.44700050354004,26.82500076293945,27.22900009155273,27.13999938964844,27.50900077819824,27.96599960327148,26.82900047302246,26.58399963378906,26.82299995422363,27.72400093078613,27.3700008392334,26.73399925231934,26.50399971008301,26.56500053405762,27.53300094604492,27.36100006103516,27.67099952697754,26.95199966430664,27.01300048828125,27.07799911499023,27.00200080871582,27.36300086975098,27.22500038146973,130.2799987792969,126.8899993896484,127.129997253418,126.0100021362305,130.4700012207031,130.2599945068359,131.25,133.8800048828125,132.0299987792969,134.8300018310547,136.8200073242188,134.0800018310547,135.2799987792969,138.1199951171875,140.3099975585938,140.8899993896484,143.1699981689453,143.1600036621094,144.9600067138672,142.6999969482422,143.9700012207031,148.8999938964844,148.0299987792969,152.5700073242188,150.6399993896484,153.8800048828125,153.7799987792969,149.4600067138672,150.9499969482422,152.1199951171875,153.1100006103516,153.5099945068359,152.3500061035156,150.1999969482422,148.8699951171875,150.0899963378906,147.1100006103516,147.7100067138672,147.0500030517578,146.8300018310547,144.3800048828125,148.0399932861328,153.7899932861328,153.6999969482422,152.8099975585938,153.5599975585938,150.2100067138672,147.8099975585938,151.2799987792969,151.1900024414062,152.1600036621094,156.0800018310547,155.0700073242188,157.3200073242188,159.3000030517578,158.8300018310547,158.8600006103516,159.9400024414062,157.9700012207031,159.3699951171875,161.5299987792969,162.4400024414062,164.2700042724609,166.6000061035156,164.7400054931641,162.4299926757812,161.4199981689453,162.3500061035156,161.2200012207031,161.6300048828125,164.5899963378906,165.0899963378906,166.1000061035156,165.8000030517578,166.0899963378906,165.0500030517578,165,165.1900024414062,163.0599975585938,165.1900024414062,168.4900054931641],[110.0199966430664,107.1600036621094,109.9499969482422,111.9899978637695,111.6399993896484,110.3300018310547,111.4499969482422,113.7399978637695,113.4899978637695,114.0800018310547,114.120002746582,112.129997253418,113.4400024414062,114.5899963378906,114.0199966430664,113.6500015258789,117.7799987792969,117.6699981689453,115.4899978637695,116.4000015258789,117.379997253418,115.0699996948242,114.1100006103516,113.0899963378906,115.3099975585938,115.8300018310547,116.2399978637695,119.629997253418,118.1800003051758,117.8099975585938,116.0899963378906,116.7799987792969,114.1900024414062,112.379997253418,110.9700012207031,111.8300018310547,110.9599990844727,111.2600021362305,111.3600006103516,111.8600006103516,111.6999969482422,113.370002746582,113.8399963378906,113.1699981689453,112.4199981689453,112.2300033569336,111.0400009155273,107.8600006103516,109.0100021362305,104.1999969482422,101.6800003051758,101.6100006103516,102.4800033569336,107.2799987792969,107.1800003051758,106.3399963378906,103.8499984741211,106.4800033569336,107.6500015258789,109.1600036621094,109.5699996948242,110.1699981689453,116.8499984741211,116.6999969482422,117,117.1800003051758,116.1800003051758,116.1999969482422,116.5899963378906,115.8899993896484,116.6600036621094,116.5100021362305,117.2099990844727,116.9000015258789,115.6800003051758,116.879997253418,118.8899993896484,117.7399978637695,117.0899963378906,117.0100021362305,119.9199981689453,47.9033317565918,48.01666641235352,48.04333114624023,49.18333435058594,49.28666687011719,48.48333358764648,48.72666549682617,48.80666732788086,48.60666656494141,48.56999969482422,48.08333206176758,47.17666625976562,46.92666625976562,47.66999816894531,48.84999847412109,47.61333465576172,47.91666793823242,48.15666580200195,47.48333358764648,47.95999908447266,48.53666687011719,48.28666687011719,47.98666763305664,47.36666870117188,47.09999847412109,47.03333282470703,47.31333160400391,47.97999954223633,48.70666885375977,49.04333114624023,48.86666870117188,48.66333389282227,48.89666748046875,49.4466667175293,49.18999862670898,48.12333297729492,47.58000183105469,47.6966667175293,47.54999923706055,47.09333419799805,46.91333389282227,47.06333160400391,46.99333190917969,47.22666549682617,46.30666732788086,46.32666778564453,46.09333419799805,46.16666793823242,46.09000015258789,46.60333251953125,46.54999923706055,46.49666595458984,47.30666732788086,47.13000106811523,47.07333374023438,47.20333480834961,47.4900016784668,48.32666778564453,48.13666534423828,48.31999969482422,48.86666870117188,49.47999954223633,49.65000152587891,49.5966682434082,49.95999908447266,50.3466682434082,50.37333297729492,50.33333206176758,50.32333374023438,50,49.96333312988281,49.88999938964844,50.11333465576172,50.47000122070312,50.46333312988281,50.76666641235352,50.98333358764648,51.25,50.47000122070312,50.64666748046875,50.72333145141602,14.99600028991699,14.85299968719482,14.56400012969971,15.01000022888184,16.05599975585938,15.96199989318848,16.02799987792969,16.63699913024902,16.92200088500977,17.72800064086914,17.87299919128418,17.19700050354004,17.85600090026855,19.2450008392334,19.4950008392334,19.3700008392334,20.16600036621094,20.62800025939941,20.13999938964844,19.6870002746582,21.1919994354248,21.94899940490723,21.7450008392334,21.56999969482422,22.25900077819824,22.87800025939941,23.02000045776367,22.07799911499023,22.04800033569336,23.04899978637695,22.85499954223633,22.54999923706055,21.73999977111816,21.49399948120117,21.10400009155273,23.88800048828125,23.47400093078613,23.8799991607666,23.82500076293945,23.25600051879883,23.3799991607666,23.89999961853027,24.24799919128418,24.125,24.20000076293945,24.45400047302246,23.62700080871582,23.29800033569336,24.2189998626709,24.2859992980957,25.58799934387207,26.39900016784668,26.02400016784668,26.39200019836426,27.5890007019043,27.49900054931641,27.16699981689453,27,26.51300048828125,27.07799911499023,27.49900054931641,27.83399963378906,28,28,26.99799919128418,27.07999992370605,27.62100028991699,27.79000091552734,27.4680004119873,26.88699913024902,26.88299942016602,27.00600051879883,28.11000061035156,28,28.03000068664551,27.1830005645752,27.36599922180176,27.24699974060059,27.32999992370605,27.4950008392334,27.75799942016602,130.8999938964844,128.6600036621094,127.7699966430664,130.2899932861328,133.4100036621094,131.2599945068359,133.5099945068359,134.2599945068359,134.9199981689453,137.2899932861328,138.6100006103516,136.25,138.0200042724609,143.3200073242188,143.1600036621094,142.4299926757812,144.25,147.2299957275391,145.5500030517578,144.3399963378906,146.6100006103516,151.1799926757812,157.3800048828125,153.1000061035156,155.2299957275391,154.5800018310547,154.3300018310547,151.3399963378906,154.2599945068359,153.7700042724609,155.5,156.3300018310547,153,151.3000030517578,149.9499969482422,150.3399963378906,147.1900024414062,149.1699981689453,149.0800018310547,147.2299957275391,146.7100067138672,151.1100006103516,156.3000030517578,154.0299987792969,153.4700012207031,154.5399932861328,150.9400024414062,153.1399993896484,153.3999938964844,153.25,156.4600067138672,156.7400054931641,157.8200073242188,159.3999938964844,162.1399993896484,161.5500030517578,160.3399963378906,160.7700042724609,158.4900054931641,161.0500030517578,162.4700012207031,165,166.2899932861328,166.8399963378906,165.0500030517578,164.9600067138672,162.0299987792969,162.3600006103516,162.0599975585938,165.8000030517578,166.3200073242188,165.3899993896484,167.4100036621094,168.1600036621094,167.8699951171875,166.4499969482422,165.6000061035156,166.3099975585938,165.2799987792969,168.5599975585938,169.8500061035156],[105.4899978637695,104.7600021362305,106.3099975585938,109.6699981689453,107.8099975585938,108.0100021362305,109.0899963378906,111.7399978637695,112.1600036621094,112.6699981689453,110.4000015258789,109.5800018310547,110.6100006103516,112.6399993896484,104.870002746582,111.3899993896484,114.3399963378906,115.3899993896484,113.1500015258789,110.4300003051758,113.3399963378906,109.8300018310547,111.5599975585938,110.3199996948242,112.0199966430664,113.8499984741211,114.1800003051758,116.1600036621094,115.9000015258789,116.0199966430664,114.1399993896484,114.8000030517578,110.9800033569336,110.8099975585938,108.6399993896484,109.9000015258789,109.0199966430664,109.9599990844727,109.2200012207031,109.2399978637695,110.1699981689453,109.9499969482422,111.870002746582,111.1699981689453,109.0699996948242,109.0299987792969,107.1500015258789,103.7200012207031,104.9599990844727,100.2200012207031,98.01999664306641,99.13999938964844,99.5,104.129997253418,104.5599975585938,102.4400024414062,100.9100036621094,103.9100036621094,105.1900024414062,107.4899978637695,108.5199966430664,109.0500030517578,113.120002746582,114.1699981689453,114.3099975585938,114.7699966430664,114.1699981689453,114.379997253418,114.9300003051758,114.129997253418,115.120002746582,114.4199981689453,114.3000030517578,115.7699966430664,113.2300033569336,115.2600021362305,115.879997253418,115.629997253418,114.6800003051758,114.879997253418,116.8300018310547,47.36333465576172,47.35666656494141,47.54999923706055,48.08000183105469,48.26666641235352,47.90999984741211,48.24333190917969,48.13000106811523,47.95333480834961,48.06666564941406,46.82666778564453,46.26333236694336,46.05666732788086,46.73333358764648,47,46.79666519165039,47.25333404541016,47.25,47.09000015258789,47.22000122070312,47.56666564941406,47.64666748046875,46.95333480834961,46.67666625976562,46.22999954223633,46.66333389282227,46.85666656494141,47.38999938964844,48.16999816894531,48.18666839599609,48.18666839599609,48.06000137329102,48.18999862670898,47.38333129882812,47.58666610717773,46.9033317565918,46.5099983215332,46.88666534423828,46.98333358764648,46.45666885375977,46.5,46.59000015258789,46.67333221435547,46.26333236694336,45.7599983215332,45.63999938964844,45.36333465576172,45.52666854858398,45.66666793823242,45.56999969482422,45.95999908447266,45.86333465576172,46.60333251953125,46.5099983215332,46.48666763305664,46.49666595458984,46.86666870117188,47.59333419799805,47.68333435058594,47.81666564941406,48.34000015258789,48.82333374023438,49.16666793823242,49.00666809082031,49.04666519165039,49.50666809082031,49.92333221435547,49.87333297729492,49.72333145141602,49.40000152587891,49.38333129882812,49.5,49.81333160400391,49.92333221435547,49.86666870117188,50.39333343505859,50.56999969482422,50.44333267211914,50.07333374023438,50.2599983215332,50.06000137329102,14.0959997177124,14.24100017547607,14.14799976348877,14.03400039672852,15.14099979400635,15.47200012207031,15.5629997253418,15.49199962615967,16.16500091552734,16.89900016784668,17.2819995880127,16.73100090026855,16.82500076293945,17.81800079345703,18.81999969482422,18.57999992370605,19.27799987792969,19.40500068664551,19.14999961853027,18.95000076293945,19.61100006103516,20.70000076293945,20.78899955749512,20.7859992980957,21.14999961853027,22.00799942016602,22.1200008392334,20.81100082397461,20.96199989318848,21.36599922180176,22.10600090026855,21.92700004577637,20.97500038146973,20.61800003051758,20.42099952697754,23.02499961853027,22.94700050354004,23.45400047302246,23.20599937438965,22.50799942016602,22.43199920654297,23.1299991607666,23.48699951171875,23.24099922180176,23.42399978637695,23.38299942016602,22.72599983215332,22.29700088500977,23.45999908447266,23.36000061035156,23.89399909973145,25.66799926757812,25.1299991607666,25.38100051879883,26.23699951171875,26.69000053405762,26.35499954223633,26.36499977111816,25.85000038146973,26.59700012207031,27.10199928283691,27.10499954223633,27.33600044250488,27.30699920654297,26.39500045776367,26.42700004577637,26.66900062561035,27.12599945068359,26.44799995422363,26.32900047302246,26.21999931335449,26.4330005645752,27.35700035095215,27.23200035095215,27,26.72200012207031,26.67099952697754,26.22500038146973,26.70499992370605,26.625,27.07099914550781,124.1699981689453,125.0800018310547,124.7600021362305,124.8899993896484,129.8899993896484,128.1199951171875,130.4600067138672,131.4400024414062,131.6600036621094,134.1300048828125,135.0299987792969,133.7700042724609,134.2200012207031,137.8999938964844,140.3000030517578,138.8099975585938,141.8999938964844,143.0800018310547,142.8500061035156,142.2799987792969,141.3200073242188,148.1699981689453,147.8300018310547,150.7799987792969,150.6399993896484,151.1699981689453,150.4199981689453,149.2200012207031,150.9199981689453,150.8600006103516,152.8800048828125,153.3500061035156,150.8500061035156,148.4100036621094,147.1600036621094,147.2400054931641,145.7200012207031,147.4499969482422,146.8300018310547,145.0099945068359,143.8999938964844,147.3300018310547,153.4600067138672,151.1300048828125,151.8300018310547,150.2299957275391,147.6100006103516,147.6999969482422,150.1000061035156,149.9199981689453,151.6399993896484,154.2799987792969,154.1499938964844,156.5399932861328,157.8099975585938,157.6799926757812,157.8500061035156,157.8699951171875,155.9799957275391,159.3500061035156,161.2700042724609,161.9100036621094,164.2200012207031,165.1100006103516,161.8000030517578,162,160.0800018310547,160.5099945068359,159.7799987792969,161.4199981689453,163.8200073242188,164.0299987792969,165.6499938964844,165.5399932861328,165.5599975585938,164.4900054931641,163.8899993896484,163.7299957275391,162.8000030517578,165.1900024414062,167.8800048828125],[106.5100021362305,106.8199996948242,109.2099990844727,110.5299987792969,108.4700012207031,110.0899963378906,111.370002746582,113.2200012207031,113.1500015258789,112.9300003051758,110.6100006103516,111.3199996948242,113.3499984741211,112.7600021362305,113.8099975585938,113.2099990844727,117.7600021362305,115.6100006103516,113.5599975585938,116.0100021362305,114.7399978637695,111.1500015258789,111.9199981689453,111.7300033569336,114.9199981689453,113.9199981689453,114.3499984741211,119.1699981689453,117.8000030517578,116.4199981689453,116.0699996948242,115.7300033569336,111.2799987792969,111.1699981689453,109.7300033569336,110.7399978637695,110.75,110.5500030517578,109.9100036621094,110.8899993896484,111.4000015258789,112.8099975585938,113.8099975585938,111.6100006103516,109.9800033569336,109.129997253418,107.7799987792969,106.5400009155273,106.9400024414062,101.620002746582,101.0299987792969,99.83999633789062,102.4499969482422,107.0400009155273,104.5899963378906,103.4100036621094,103.5299987792969,105.8000030517578,107.120002746582,108.9599990844727,109.4899978637695,109.6600036621094,116.129997253418,115.0199966430664,116.9899978637695,115.0500030517578,114.5400009155273,115.3499984741211,115.2300033569336,115.7699966430664,116.0500030517578,114.6999969482422,116.9400024414062,116.5699996948242,115.6399993896484,116.0100021362305,118.1999969482422,116.5199966430664,115.4499969482422,116.8300018310547,118.3399963378906,47.86666870117188,47.91999816894531,47.75666809082031,48.92666625976562,48.31666564941406,48.28666687011719,48.70999908447266,48.27000045776367,48.43000030517578,48.13666534423828,46.9466667175293,46.27666854858398,46.8466682434082,47.54666519165039,47.67333221435547,47.4466667175293,47.4033317565918,47.76666641235352,47.38333129882812,47.95666885375977,48.22333145141602,47.87333297729492,47.23666763305664,46.89333343505859,46.99333190917969,46.7400016784668,47.17333221435547,47.90666580200195,48.63666534423828,48.49666595458984,48.85666656494141,48.09000015258789,48.81333160400391,49.11000061035156,48.08000183105469,47.36333465576172,47.4900016784668,47.14666748046875,47.37666702270508,46.71666717529297,46.83333206176758,46.88999938964844,46.88333129882812,46.41666793823242,46.03333282470703,45.72333145141602,45.65666580200195,45.79000091552734,46.03333282470703,46.54666519165039,46.09333419799805,46.46666717529297,46.96666717529297,46.80666732788086,46.50666809082031,46.88333129882812,47.26666641235352,48.05666732788086,47.86999893188477,48.07666778564453,48.55666732788086,49.15000152587891,49.56333160400391,49.07666778564453,49.88999938964844,50.26666641235352,50.16999816894531,50.02333450317383,49.77999877929688,49.83000183105469,49.49333190917969,49.84000015258789,49.95000076293945,50.00333404541016,50.32333374023438,50.57666778564453,50.91999816894531,50.52333450317383,50.3033332824707,50.45999908447266,50.32333374023438,14.3149995803833,14.74899959564209,14.26500034332275,14.85900020599365,15.62800025939941,15.90900039672852,16.00099945068359,16.51099967956543,16.89900016784668,17.70199966430664,17.37700080871582,16.76499938964844,17.8390007019043,19.19300079345703,19.26499938964844,19.32299995422363,19.80200004577637,20.36499977111816,19.16200065612793,19.53700065612793,20.94300079345703,21.70899963378906,21.10000038146973,21.0890007019043,22.17300033569336,22.20499992370605,22.33699989318848,21.26499938964844,21.78800010681152,22.97100067138672,22.76399993896484,22.00200080871582,21.38800048828125,20.65500068664551,20.75399971008301,23.66399955749512,23.2859992980957,23.50099945068359,23.21599960327148,22.69799995422363,23.31399917602539,23.88999938964844,23.55400085449219,23.28800010681152,24.18099975585938,23.43600082397461,22.96500015258789,22.96599960327148,24.0629997253418,24.22800064086914,25.54100036621094,25.72500038146973,25.89999961853027,26.19899940490723,26.4680004119873,27.19099998474121,26.77899932861328,26.5310001373291,26.40999984741211,26.98399925231934,27.38299942016602,27.77700042724609,27.96500015258789,27.45299911499023,26.88100051879883,27.03700065612793,27.57900047302246,27.16900062561035,26.4950008392334,26.46299934387207,26.75799942016602,27.00200080871582,27.66699981689453,27.93099975585938,27.10400009155273,27.11899948120117,27.04199981689453,26.24099922180176,26.95599937438965,27.22599983215332,27.74900054931641,125.0699996948242,126.3600006103516,125.0199966430664,129.6199951171875,130.1499938964844,130.7299957275391,133.4900054931641,133.4100036621094,134.7599945068359,135.9400024414062,135.2100067138672,135.2700042724609,137.8699951171875,141.1100006103516,142.5299987792969,141.8600006103516,143.9600067138672,145.9299926757812,143,144.2899932861328,145.4299926757812,150.8200073242188,154.5,151.7299957275391,154.6499938964844,151.9199981689453,150.8699951171875,151.0099945068359,153.8500061035156,153.1999969482422,155.3300018310547,153.7100067138672,152.5500030517578,148.4799957275391,148.9100036621094,149.3999938964844,146.7100067138672,147.9199981689453,147.4100036621094,145.3099975585938,145.9100036621094,151.0299987792969,153.8300018310547,151.6000061035156,152.8699951171875,150.5899963378906,148.5,150.4700012207031,152.5899963378906,152.9900054931641,155.8500061035156,155,157.3999938964844,159.2799987792969,157.8300018310547,158.9299926757812,160.25,158.2799987792969,157.6499938964844,160.7700042724609,162.3600006103516,164.8999938964844,166.1699981689453,165.6300048828125,163.7599945068359,164.6600036621094,162.0299987792969,160.8000030517578,160.1000061035156,165.5599975585938,165.2100067138672,165.2299957275391,166.4700012207031,167.6300048828125,166.6499938964844,165.0200042724609,165.3300018310547,163.7700042724609,163.7599945068359,168.4100036621094,169.6799926757812],[15146200,18058400,15946600,16348100,17964600,15104600,16710400,15357300,12011400,16542200,16399700,12928000,16515600,16584400,13583000,11914700,21019700,15179200,18672100,27861800,19464900,24562100,20226600,13855200,16013300,18459700,17439300,24918600,14536200,12079000,13663400,11360600,20758300,14469400,13973800,11289400,14351000,11710500,18107000,13200000,10339900,13006700,14347400,11525300,13509800,12961200,15795700,20745600,18263500,25733800,27465200,43199500,32042100,31592300,14952700,14385900,13401600,14805900,11047600,14219100,11578200,14418000,28087700,16365500,16479500,15778000,13006600,11758500,10919000,12399700,11530800,13260400,17436100,10682600,17038700,14315300,15831300,12179800,15566100,16279200,24374000,17249700,13338300,13274400,21231900,17756700,11970600,14834700,12472800,13699800,15122400,22674300,17342100,29543100,13149900,13669200,12491700,15819000,18412800,15897600,14103600,12849300,17806800,17155500,17454000,16341300,11691300,13064400,15002700,16015800,13831200,14674200,16312200,24770700,54393900,29844000,22021200,20623500,16647300,18054000,14180100,14785500,16888800,16720800,17387400,19090800,15415800,20065200,28142100,25542600,33133500,28905600,43081200,33928500,19013400,18548400,22044300,22752300,26775600,21282900,24216900,21879000,20868000,19766700,18113700,26540700,17891700,14519100,18370500,11209800,13272600,10464900,16166700,13482300,12433500,13641600,25335000,13579500,17246700,12910200,12861000,14088600,401277000,431324000,389168000,405044000,504231000,384101000,353285000,551409000,447287000,511102000,439624000,452932000,564967000,655163000,496204000,449537000,489535000,542142000,488611000,498017000,660477000,564276000,429366000,452197000,664150000,559651000,523876000,550737000,474919000,675474000,420575000,412026000,465888000,410015000,513184000,1117995000,589716000,452994000,455963000,460026000,389415000,412393000,437429000,515154000,513573000,501257000,474866000,421890000,474910000,524486000,583253000,848547000,432747000,547408000,797295000,564889000,454920000,361026000,356104000,393694000,364516000,433933000,398716000,368592000,515015000,397654000,395279000,314378000,446259000,353615000,395660000,321471000,604812000,358660000,427713000,345103000,339282000,378527000,406337000,377161000,292216000,112117500,89113600,80962700,87754700,70790800,63896200,69458900,71379600,57809700,63646600,69672800,58280400,80223600,81760300,66435100,65799300,54105100,70555800,64015300,65874500,77663600,118339000,154357300,69858300,83322600,64120100,56007100,57450700,62199000,61707600,65573800,68167900,59144100,58867200,51011300,48394200,55469600,44998500,50547000,55479000,52238100,70732300,87558000,56182000,47204800,53833600,68572400,84457100,73695900,77167900,76161100,98944600,73641400,73938300,75701800,67622100,59196500,52390300,45992200,51305700,49501700,68749800,56976200,46278300,51511700,45390100,47716900,47644200,50133100,68445600,49386500,41516200,49923000,47720200,52456400,58337300,41949600,48714100,45498800,64902300,55209200],[98.71326446533203,99.00055694580078,101.2156143188477,102.4389877319336,100.52978515625,102.0311889648438,103.2174911499023,104.9320678710938,104.8671951293945,104.6632995605469,102.5131301879883,103.1711578369141,105.0525588989258,104.5057373046875,105.4788665771484,104.9228057861328,109.1397476196289,107.1471099853516,105.247184753418,107.5178375244141,106.3407974243164,103.0135955810547,103.7272415161133,103.5511474609375,106.5076141357422,105.5808181762695,105.9793472290039,110.4465103149414,110.0169067382812,108.7280883789062,108.4012145996094,108.0836791992188,103.9276962280273,103.824951171875,102.480094909668,103.4233551025391,103.4327087402344,103.2459335327148,102.6482086181641,103.5634536743164,104.0397491455078,105.3565902709961,106.29052734375,104.2358779907227,102.7135848999023,101.9197311401367,100.658935546875,99.5008544921875,99.87443542480469,94.90594482421875,94.35491943359375,93.24352264404297,95.68109130859375,99.96782684326172,97.67970275878906,96.57766723632812,96.68974304199219,98.80974578857422,100.0425338745117,101.7609634399414,102.2559585571289,102.4147338867188,108.4572448730469,107.4205703735352,109.2604141235352,107.4486083984375,106.972297668457,107.7287750244141,107.6167144775391,108.1210327148438,108.3825302124023,107.1217269897461,109.2137222290039,108.8681716918945,107.9996185302734,108.3451766967773,110.3904800415039,108.8214721679688,107.8221740722656,109.1109924316406,110.5212173461914,46.589111328125,46.64102172851562,46.48204803466797,47.62081527709961,47.02710342407227,46.99790573120117,47.40993118286133,46.98168182373047,47.13740921020508,46.85190200805664,45.69366836547852,45.04154968261719,45.59633636474609,46.27765274047852,46.40092849731445,46.18032073974609,46.13814163208008,46.49177932739258,46.11867523193359,46.67671203613281,46.93626022338867,46.5955924987793,45.97592926025391,45.64175415039062,45.73908233642578,45.49251556396484,45.91427612304688,46.62803649902344,47.33856201171875,47.20229721069336,47.55268478393555,46.80648803710938,47.51050186157227,47.79925918579102,46.79674911499023,46.09921264648438,46.22249603271484,45.88832855224609,46.11218643188477,45.46980285644531,45.58335494995117,45.63850784301758,45.63202285766602,45.17781066894531,44.80470657348633,44.50297927856445,44.43809127807617,44.56786727905273,44.80470657348633,45.30433654785156,45.04698944091797,45.41184616088867,45.90049362182617,45.74412536621094,45.45093154907227,45.81904983520508,46.19368743896484,46.96574783325195,46.78331756591797,46.98529815673828,47.45440292358398,48.03426742553711,48.43820953369141,47.96259307861328,48.75746154785156,49.12557983398438,49.03111267089844,48.88777160644531,48.64995956420898,48.69882583618164,48.36980056762695,48.70859909057617,48.81610488891602,48.86822509765625,49.18096160888672,49.42854690551758,49.76408004760742,49.37642669677734,49.16141510009766,49.31452178955078,49.18096160888672,14.30327892303467,14.73692512512207,14.25332069396973,14.84683513641357,15.61520481109619,15.89597415924072,15.98789882659912,16.49748039245605,16.88516235351562,17.68750953674316,17.3627758026123,16.75127220153809,17.82439422607422,19.17728805541992,19.24922943115234,19.30717849731445,19.78578567504883,20.34832763671875,19.14631080627441,19.52100563049316,20.92585182189941,21.69122314453125,21.08272361755371,21.07173728942871,22.15484809875488,22.18681716918945,22.31871223449707,21.24758720397949,21.77016067504883,22.95219230651855,22.74535942077637,21.98398590087891,21.37049102783203,20.63808822631836,20.73700714111328,23.64462280273438,23.26693344116211,23.48175621032715,23.19699287414551,22.67941665649414,23.29490852355957,23.87043952941895,23.53471565246582,23.27288627624512,24.16530609130859,23.42078971862793,22.95009613037109,22.95109367370605,24.04738235473633,24.21227645874023,25.52442169189453,25.70830345153809,25.8831901550293,26.1819953918457,26.45081901550293,27.1733512878418,26.76161766052246,26.51378440856934,26.39285850524902,26.96648597717285,27.36522483825684,27.75897216796875,27.94685173034668,27.4351806640625,26.86355400085449,27.01945114135742,27.56110000610352,27.15136528015137,26.47780418395996,26.44582748413086,26.74063110351562,26.98447227478027,27.64904403686523,27.91287040710449,27.0864086151123,27.10139656066895,27.02445030212402,26.22396850585938,26.93850326538086,27.20833015441895,27.73099136352539,123.6325302124023,124.9077072143555,123.5831069946289,128.1302337646484,128.6541137695312,129.2274780273438,131.9557647705078,131.8766937255859,133.2111663818359,134.3776092529297,133.6559906005859,133.7152862548828,136.2854156494141,139.4881591796875,140.891845703125,140.2295684814453,142.305419921875,144.2527313232422,141.3564453125,142.6316375732422,143.7585296630859,149.0865631103516,152.7242736816406,149.9861145019531,152.8725433349609,150.1739349365234,149.1360015869141,149.5023193359375,152.3139495849609,151.6704406738281,153.7791900634766,152.1753387451172,151.0269317626953,146.9975738525391,147.4232635498047,147.9083862304688,145.2452239990234,146.4431610107422,145.9382629394531,143.8592071533203,144.4532318115234,149.5220947265625,152.2941589355469,150.0864105224609,151.34375,149.0865020751953,147.017333984375,148.9676818847656,151.0665283203125,151.4625549316406,154.2939758300781,153.4524688720703,155.8284912109375,157.6897277832031,156.2542266845703,157.3432312011719,158.6500549316406,156.6997375488281,156.0760040283203,159.1648712158203,160.7389984130859,163.2536468505859,164.5109558105469,163.9763336181641,162.125,163.0160369873047,160.4122772216797,159.1945648193359,158.5015563964844,163.9070281982422,163.5605316162109,163.5803070068359,164.8079528808594,165.9563598632812,164.9861450195312,163.3724212646484,163.6793518066406,162.1348876953125,162.125,166.7285919189453,167.9858856201172]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>symbol<\/th>\n      <th>date<\/th>\n      <th>open<\/th>\n      <th>high<\/th>\n      <th>low<\/th>\n      <th>close<\/th>\n      <th>volume<\/th>\n      <th>adjusted<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":8,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[3,4,5,6,7,8]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"symbol","targets":1},{"name":"date","targets":2},{"name":"open","targets":3},{"name":"high","targets":4},{"name":"low","targets":5},{"name":"close","targets":6},{"name":"volume","targets":7},{"name":"adjusted","targets":8}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.columnDefs.4.render"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="constructing-an-equally-weighted-portfolio" class="level2">
<h2 class="anchored" data-anchor-id="constructing-an-equally-weighted-portfolio">2. Constructing an Equally Weighted Portfolio</h2>
<p>Assuming a $1,000,000 budget divided equally among the four stocks, we calculate how many shares we can purchase on the first business day in January 2023.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assigned budget</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>budget <span class="ot">&lt;-</span> <span class="dv">1000000</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>num_stocks <span class="ot">&lt;-</span> <span class="fu">length</span>(stocks)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>budget_per_stock <span class="ot">&lt;-</span> budget <span class="sc">/</span> <span class="fu">length</span>(stocks)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Positions for each stock</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>initial_positions <span class="ot">&lt;-</span> prices <span class="sc">|&gt;</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">==</span> <span class="fu">min</span>(date)) <span class="sc">|&gt;</span> </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shares =</span> <span class="fu">floor</span>(budget_per_stock <span class="sc">/</span> adjusted)) <span class="sc">|&gt;</span> </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(symbol, shares)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(initial_positions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-462e9eb142a1fefdc424" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-462e9eb142a1fefdc424">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4"],["XOM","WMT","NVDA","AAPL"],[2532,5366,17478,2022]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>symbol<\/th>\n      <th>shares<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"symbol","targets":1},{"name":"shares","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="portfolio-valuation-and-return-calculation" class="level2">
<h2 class="anchored" data-anchor-id="portfolio-valuation-and-return-calculation">3. Portfolio Valuation and Return Calculation</h2>
<section id="portfolio-value" class="level3">
<h3 class="anchored" data-anchor-id="portfolio-value">Portfolio Value</h3>
<p>Calculate the portfolio value for each trading day:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>portfolio <span class="ot">&lt;-</span> prices <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(initial_positions, <span class="at">by =</span> <span class="st">"symbol"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">position_value =</span> shares <span class="sc">*</span> adjusted) <span class="sc">|&gt;</span> </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">|&gt;</span> </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_value =</span> <span class="fu">sum</span>(position_value)) <span class="sc">|&gt;</span> </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(portfolio) <span class="sc">|&gt;</span> </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"total_value"</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-bf136132e6822507a0a7" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-bf136132e6822507a0a7">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81"],["2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28"],[999916.8421192169,1011080.494106293,1004705.186641693,1033481.128900528,1039950.020719528,1049661.529539108,1061999.430376053,1072789.337528229,1082934.921928406,1097268.598255157,1078474.478557587,1066073.371585846,1097766.892791748,1130160.109954834,1137381.216499329,1134463.19858551,1157476.630081177,1168098.463523865,1134420.635784149,1152291.70898056,1177536.65655899,1191434.602088928,1186636.536701202,1178668.906009674,1211443.912502289,1202876.357063293,1206355.160503387,1203515.626819611,1221059.205955505,1236423.094783783,1238124.496181488,1216766.131057739,1196976.17804718,1177317.201507568,1171122.2057724,1221567.784484863,1210266.837852478,1214177.681324005,1207867.465732574,1193487.788017273,1207261.773395538,1231200.337284088,1233267.599430084,1216587.603534698,1228871.134803772,1207665.215953827,1191714.052085876,1193439.207393646,1219060.795028687,1212844.376228333,1238727.062805176,1239383.185619354,1256038.178726196,1275039.059318542,1269468.167186737,1283483.522155762,1281223.720722198,1282459.272426605,1281227.038928986,1302933.480846405,1316856.067668915,1332336.174690247,1355629.403568268,1340428.392868042,1335617.854053497,1337532.131690979,1340021.338737488,1331544.013233185,1316810.412639618,1328720.53805542,1332069.061698914,1334996.542644501,1354968.035919189,1361306.015216827,1344378.309116364,1343580.814975739,1349835.7407341,1326669.137649536,1335453.808250427,1353563.164058685,1368094.490089417]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>total_value<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":2},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"date","targets":1},{"name":"total_value","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="portfolio-returns" class="level3">
<h3 class="anchored" data-anchor-id="portfolio-returns">Portfolio Returns</h3>
</section>
<section id="a.-calculating-returns-from-the-net-value-of-portfolio" class="level3">
<h3 class="anchored" data-anchor-id="a.-calculating-returns-from-the-net-value-of-portfolio">A. Calculating returns from the net value of portfolio</h3>
<p>Returns in finance can be calculated using either discrete or continuous methods. Both approaches measure investment performance but have different interpretations and applications. Here presents the key difference between these two:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th>Feature</th>
<th>Discrete Returns</th>
<th>Continuous Returns</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Formula</strong></td>
<td><span class="math display">\[
R_t=P_t/P_{t-1}-1
\]</span></td>
<td><span class="math display">\[
R_t=ln(P_t/P_{t-1})
\]</span></td>
</tr>
<tr class="even">
<td><strong>Interpretation</strong></td>
<td>Simple percentage change</td>
<td>Log-based compounding change</td>
</tr>
<tr class="odd">
<td><strong>Time Additivity</strong></td>
<td>❌ No</td>
<td>✅ Yes</td>
</tr>
<tr class="even">
<td><strong>Compounding</strong></td>
<td>Not considered</td>
<td>Naturally accounts for compounding</td>
</tr>
<tr class="odd">
<td><strong>Use Case</strong></td>
<td>Short-term analysis (daily, weekly returns), industry</td>
<td>Long-term modeling (portfolio returns, Black-Scholes model), academics</td>
</tr>
</tbody>
</table>
<p>Calculate discrete and continuous returns for the portfolio:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>portfolio <span class="ot">&lt;-</span> portfolio <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">discrete_return =</span> <span class="dv">100</span><span class="sc">*</span>(total_value <span class="sc">/</span> <span class="fu">lag</span>(total_value) <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">continuous_return =</span> <span class="dv">100</span><span class="sc">*</span><span class="fu">log</span>(total_value <span class="sc">/</span> <span class="fu">lag</span>(total_value)))</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(portfolio) <span class="sc">|&gt;</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"total_value"</span>,<span class="st">"discrete_return"</span>,<span class="st">"continuous_return"</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-153a1b31ff91af5a581e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-153a1b31ff91af5a581e">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81"],["2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28"],[999916.8421192169,1011080.494106293,1004705.186641693,1033481.128900528,1039950.020719528,1049661.529539108,1061999.430376053,1072789.337528229,1082934.921928406,1097268.598255157,1078474.478557587,1066073.371585846,1097766.892791748,1130160.109954834,1137381.216499329,1134463.19858551,1157476.630081177,1168098.463523865,1134420.635784149,1152291.70898056,1177536.65655899,1191434.602088928,1186636.536701202,1178668.906009674,1211443.912502289,1202876.357063293,1206355.160503387,1203515.626819611,1221059.205955505,1236423.094783783,1238124.496181488,1216766.131057739,1196976.17804718,1177317.201507568,1171122.2057724,1221567.784484863,1210266.837852478,1214177.681324005,1207867.465732574,1193487.788017273,1207261.773395538,1231200.337284088,1233267.599430084,1216587.603534698,1228871.134803772,1207665.215953827,1191714.052085876,1193439.207393646,1219060.795028687,1212844.376228333,1238727.062805176,1239383.185619354,1256038.178726196,1275039.059318542,1269468.167186737,1283483.522155762,1281223.720722198,1282459.272426605,1281227.038928986,1302933.480846405,1316856.067668915,1332336.174690247,1355629.403568268,1340428.392868042,1335617.854053497,1337532.131690979,1340021.338737488,1331544.013233185,1316810.412639618,1328720.53805542,1332069.061698914,1334996.542644501,1354968.035919189,1361306.015216827,1344378.309116364,1343580.814975739,1349835.7407341,1326669.137649536,1335453.808250427,1353563.164058685,1368094.490089417],[null,1.116458040992252,-0.6305440073032798,2.864118016054107,0.6259322631156472,0.9338438026916807,1.175417073955454,1.015999335174333,0.9457201004209326,1.323595355224794,-1.712809400310611,-1.149874866610345,2.972921193853306,2.950828393148774,0.6389454450647092,-0.2565558382263022,2.028574529730043,0.9176715249916478,-2.883132611793515,1.575348035171986,2.190846934129609,1.180255871655866,-0.4027132818967494,-0.6714466009683173,2.780679656984675,-0.7072184977428009,0.2892070676812741,-0.2353812357044127,1.457694336903215,1.258242741493842,0.1376067306477102,-1.725057955772646,-1.626438516443218,-1.642386615553593,-0.5261959756670209,4.30745642630801,-0.925118259986768,0.3231389433479448,-0.519711051231786,-1.190501286213563,1.154095208728356,1.982880963854283,0.1679062361659378,-1.352504185068504,1.009670921632333,-1.725642197082877,-1.32082663781552,0.1447625212399162,2.146869943295671,-0.5099350931228708,2.134048447116732,0.05296750461660782,1.343813059600207,1.512762980788995,-0.4369193313013331,1.104033589127651,-0.1760678181335407,0.09643528170943938,-0.09608363587937374,1.694191681715096,1.068556992906911,1.175535231328251,1.748299664942787,-1.121324947674784,-0.3588807011355444,0.1433252506824356,0.1861044671399359,-0.6326261574528314,-1.106504963196187,0.9044677427730408,0.2520111300751138,0.2197694571371089,1.495995879893974,0.4677585839387266,-1.243490141911086,-0.05932066407328129,0.4655414611941078,-1.716253495552367,0.6621598672638784,1.356045090918045,1.073560984561572],[null,1.110271651249509,-0.632540332258315,2.823868871239841,0.6239814434333887,0.9295104384643889,1.16856270678414,1.010872756689806,0.9412761640418942,1.314912366409063,-1.727647658649504,-1.156537048061616,2.929586664645988,2.908129401135969,0.6369128422103419,-0.2568855066934574,2.008273051194475,0.9134865035354058,-2.925511426088077,1.563068226596721,2.167192743933391,1.173345174832501,-0.4035263554714955,-0.6737109452584229,2.742720828991987,-0.7097311413557169,0.2887896686127068,-0.235658692808504,1.447172104405493,1.250392647749161,0.1375121393521618,-1.740110441092019,-1.639810214212131,-1.65602330210327,-0.5275852624147664,4.217266364845383,-0.9294240553352419,0.3226179714713844,-0.5210662465547525,-1.197644502770449,1.147486329872563,1.963477952282719,0.1677654312366916,-1.361733838366202,1.004607796859676,-1.74070493958241,-1.32962713159696,0.1446578413148256,2.124149303706151,-0.5112396991044985,2.111596495253166,0.05295348178535862,1.334863975402945,1.501434824177373,-0.4378766131957066,1.097983626648164,-0.1762229996930602,0.09638881276422004,-0.09612982579446289,1.680000316126702,1.062888269277771,1.168679491381841,1.7331927285331,-1.127659192021271,-0.3595262228217271,0.1432226380798315,0.1859315073338584,-0.6346357165425002,-1.112672265903549,0.9004019308662724,0.2516941145246497,0.2195283173021664,1.484916225642761,0.4666679930404811,-1.251286176610149,-0.05933826574050657,0.4644611684432533,-1.731151834081383,0.6599772185991963,1.346933082351804,1.06783923318945]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>total_value<\/th>\n      <th>discrete_return<\/th>\n      <th>continuous_return<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[2,3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"date","targets":1},{"name":"total_value","targets":2},{"name":"discrete_return","targets":3},{"name":"continuous_return","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="b.-calculating-returns-directly-from-portfolio-securities" class="level3">
<h3 class="anchored" data-anchor-id="b.-calculating-returns-directly-from-portfolio-securities">B. Calculating returns directly from portfolio securities</h3>
<p>Similar to the previous method, we calculate discrete and continuous returns for the portfolio through portfoflio stocks directly rather than net value:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>individual_ret <span class="ot">&lt;-</span> prices <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 1. assign portfolio weights on corresponding stocks</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">portfolio_weight =</span> <span class="fu">case_when</span>(</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>      symbol <span class="sc">==</span> <span class="st">"XOM"</span> <span class="sc">~</span> <span class="fl">0.25</span>, </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>      symbol <span class="sc">==</span> <span class="st">"WMT"</span> <span class="sc">~</span> <span class="fl">0.25</span>, </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>      symbol <span class="sc">==</span> <span class="st">"NVDA"</span> <span class="sc">~</span> <span class="fl">0.25</span>, </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>      symbol <span class="sc">==</span> <span class="st">"AAPL"</span> <span class="sc">~</span> <span class="fl">0.25</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2. individual returns (grouped by each stock)</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">discrete_return =</span> <span class="dv">100</span><span class="sc">*</span>(adjusted <span class="sc">/</span> <span class="fu">lag</span>(adjusted) <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">continuous_return =</span> <span class="dv">100</span><span class="sc">*</span><span class="fu">log</span>(adjusted <span class="sc">/</span> <span class="fu">lag</span>(adjusted)),</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> symbol</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(symbol, date, portfolio_weight, discrete_return, continuous_return) <span class="sc">|&gt;</span> </span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the first obervation of each stock will naturally be missing since there is no lagged value, then we drop it out</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(continuous_return)</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co"># print out individual returns</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(individual_ret) <span class="sc">|&gt;</span> </span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"discrete_return"</span>,<span class="st">"continuous_return"</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-8cf47b2d7ed180b8f512" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8cf47b2d7ed180b8f512">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320"],["XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL"],["2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28"],[0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25],[0.2910373616198836,2.237419102863769,1.208680519620309,-1.863746038451364,1.493491512251977,1.162685838608968,1.661130010127199,-0.06182356167698799,-0.1944321754730582,-2.054368036920851,0.6418959675888347,1.823572693625963,-0.5205219177615628,0.9311730605026769,-0.5271774423257769,4.019089846006985,-1.825767126768552,-1.773193166099707,2.157447513979571,-1.094739372739328,-3.128810319134301,0.6927686884757644,-0.1697664495863616,2.855078622783935,-0.8701687358158905,0.377463501058517,4.215126062519237,-0.3889698057775948,-1.171473001364198,-0.3006341637845744,-0.2929260539777823,-3.845153127634693,-0.0988620549491559,-1.295311239762309,0.9204325910339373,0.009044028484717082,-0.1805765408199878,-0.5789331299536182,0.8916327605452024,0.4599069018007551,1.265709631466505,0.8864533963671928,-1.933050295613348,-1.460431014890862,-0.7728809782457269,-1.237047605167008,-1.150500001212718,0.3754549993804535,-4.974737108102811,-0.5806015541445664,-1.177889606840243,2.614196241658728,4.480232693879138,-2.288860483143418,-1.128213427494051,0.1160473315117594,2.192582873719418,1.247638151580044,1.717698961508907,0.4864292754850341,0.1552724475230916,5.90004070411565,-0.9558370219759693,1.712748073857995,-1.658245339477793,-0.4432916694595335,0.707171269987672,-0.1040209979641937,0.4686244509071624,0.2418562706927307,-1.163290080223622,1.952914033450992,-0.3163984617105209,-0.7978026526239135,0.3199623954292408,1.887765941303221,-1.421325347027436,-0.9182912855292824,1.195318468083562,1.292468231772625,0.1114217440745469,-0.3408452215583946,2.44990763225903,-1.246748611027781,-0.06208694719681551,0.8766889614543416,-0.9032904044494194,0.3314640524340495,-0.60569133291829,-2.472116590654005,-1.427153271314063,1.231722012315695,1.49423491019598,0.2663829073770385,-0.4754382395195544,-0.09133567500260176,0.7664758111250336,-0.8025162746119197,1.210001808145655,0.5560549917375202,-0.7258092634308766,-1.329875220583632,-0.7268479729286792,0.213243745440761,-0.5390724078094933,0.9270987850496182,1.554549992389598,1.52381606870835,-0.2878515849122243,0.7423104254400847,-1.569200036163376,1.504094526179212,0.6077757819946461,-2.097333908260213,-1.490566079263012,0.2674305680139932,-0.7229542087736629,0.4878318446133845,-1.393088519860919,0.2497307803694726,0.1209934923108724,-0.01420945963849229,-0.9953803497545266,-0.825856963705085,-0.6734276775744452,-0.1458059697129865,0.2920377478962344,0.5314126721628121,1.1151283259623,-0.5680407805150778,0.8099469564980311,1.076035224831595,-0.3406679172201277,-0.6409431042597724,0.8099246232948332,0.8176459466252783,1.67135476098812,-0.3884325827871127,0.4317363567380994,0.9984075556588312,1.221940360069196,0.8409457035656764,-0.9819034593904763,1.657267504147342,0.7549988749343095,-0.1922972988923077,-0.2923471580489001,-0.486444839725475,0.1004446301916539,-0.6756328574768933,0.7004339876810928,0.2207121542131318,0.1067684708946803,0.639958808828256,0.5034169494281038,0.6788246126903319,-0.778982250770488,-0.4354539424249571,0.3114367012043484,-0.2708333687874487,3.031795747120891,-3.281583010338718,4.164043279366836,5.175309536495765,1.798051012081614,0.5782889833458871,3.187295412509994,2.34994648780944,4.751788383370115,-1.835949450408914,-3.521923038263364,6.406212087208507,7.590125152004523,0.3751384216815312,0.3010461606755443,2.478907924329521,2.84316211096598,-5.907202065467465,1.957007947953926,7.196587194318416,3.657539626801976,-2.805279918624382,-0.05211057320816392,5.140111583820617,0.1442983056894276,0.594474927619526,-4.799224163399474,2.459448529626274,5.42959534894234,-0.9011465352852022,-3.347379594283295,-2.790644407310816,-3.427168802812353,0.4793027033811015,14.02138525504215,-1.597358370752222,0.923296444322097,-1.212700334808869,-2.231221177932241,2.713878740303421,2.470630031782717,-1.406441957381488,-1.112524069069309,3.834590194231202,-3.080930859586506,-2.009725521263983,0.004346575845670664,4.776629369458929,0.6857050034447143,5.419338554928133,0.7204149886849365,0.6802732191989458,1.154437436137856,1.026749946419092,2.731606427443278,-1.515211071898803,-0.9260772465138345,-0.4560869223981023,2.17341926722241,1.478645980872395,1.438860203192815,0.6768246361611441,-1.830871939426981,-2.083553486333645,0.5803295442515566,2.004662722097339,-1.48664141076158,-2.480763266382791,-0.1207679443768761,1.114745301736786,0.9118751547811943,2.462793251310202,0.9541970777994679,-2.960862784580665,0.0553338235777634,-0.2839199019602945,-2.96206504596962,2.72473923754839,1.001640241033153,1.920960257906756,1.03142514333594,-1.060463160574554,3.679408036097653,0.4088652533367654,0.445663369023408,2.11122803355086,-0.05992238767240643,1.011909396990807,0.87563445526051,-0.5370081045165009,0.044364382045603,1.922090934040388,2.35002660777166,1.006312314745861,-0.470060718116494,1.480323631391878,1.368402835560478,-2.007785907534865,0.9021111544811999,0.7900716201656666,3.706238134010187,2.439998947857225,-1.792877526067205,1.924464036282658,-1.765266894608108,-0.6911541274110533,0.2456266395273854,1.880659953311903,-0.4224884935925433,1.390349616101783,-1.04295731932087,-0.7546603752565773,-2.66797309799518,0.2895896075758797,0.3290679292961007,-1.800548501215893,0.824768607693982,-0.3447740869592542,-1.424613219492255,0.4129208480692093,3.508999315191996,1.853949554447976,-1.44966059664855,0.837743719209616,-1.491470856777821,-1.387897671498572,1.32661084753305,1.408927365312995,0.2621537780284511,1.869386727112454,-0.5453919723570788,1.548376742539093,1.194413523356364,-0.9103326632704856,0.6969440377442959,0.8305560528357958,-1.22932033250972,-0.3980437556977079,1.979078851185556,0.9889915942137728,1.564429579832005,0.7701567372100815,-0.3249766495785789,-1.129024888722718,0.5495987585533824,-1.597241482338196,-0.7591142170876086,-0.4353216604084609,3.41035881580638,-0.2113982456030894,0.01209056392126318,0.7504851265330625,0.6968152703480612,-0.5846204656147491,-0.9780965272518927,0.1878716980603379,-0.943591292536794,-0.006098437821155933,2.83953240952679,0.7540960351797965],[0.29061466782324,2.21275608059197,1.201434307230905,-1.881332640792144,1.482448740578092,1.155978586265042,1.647484155148826,-0.06184268032117076,-0.1946214401948224,-2.075763714954858,0.6398445892197733,1.807145019919527,-0.5218813525853653,0.9268643710767249,-0.5285719256979052,3.940425252050674,-1.842639942537463,-1.789102586520415,2.134504024374807,-1.100775739627401,-3.178803141466417,0.6903800715784675,-0.16991071612396,2.815080782015616,-0.8739768111745854,0.3767528952091562,4.128709654372327,-0.389728260739328,-1.178388810613468,-0.3010869760533949,-0.2933559220121623,-3.921030573483947,-0.09891095571088833,-1.303773550740883,0.9162224250350197,0.009043619537117626,-0.1807397767956453,-0.580615443922562,0.8876811872908187,0.4588525614293222,1.257766481696758,0.8825474641221696,-1.951978031641451,-1.471200289128689,-0.7758831822585646,-1.244762731605916,-1.15716945654692,0.3747519263633396,-5.102740456151834,-0.5822935974999405,-1.184881686693174,2.580610210548163,4.382770669948606,-2.315461586612491,-1.134626032720861,0.1159800486442885,2.168891452670672,1.239919282850596,1.703113301138665,0.48525003086603,0.1551520244980284,5.732545098289384,-0.9604344635260258,1.698245900290818,-1.672148136784931,-0.444277120340077,0.7046825401287854,-0.1040751373517582,0.4675298249848643,0.2415642691356453,-1.170109235233576,1.934089359054766,-0.3169000599555774,-0.8010021263392511,0.3194516050249189,1.870168757559473,-1.431522918171328,-0.9225335709516252,1.188230959843515,1.284187138462187,0.111359716120094,-0.3414274221955063,2.42037871079193,-1.254585729094459,-0.06210622912332937,0.8728683574167858,-0.9073948073703701,0.3309159212483518,-0.6075330835205525,-2.503186518422927,-1.437435045298202,1.224198036710498,1.483181196630591,0.2660287369372448,-0.4765720422327498,-0.09137741144568591,0.7635533092932346,-0.805753769046947,1.202739807800488,0.5545147131941437,-0.7284560738384818,-1.338797250629215,-0.7295023829790162,0.2130167036768619,-0.5405306461150605,0.9228276026883288,1.542590647415105,1.512322604085819,-0.2882666743392731,0.7395688605234197,-1.581642314402623,1.492895183950941,0.605936274612865,-2.119640401610199,-1.501786655121602,0.2670736087409646,-0.7255801867804721,0.48664580077264,-1.40288306886666,0.2494194712382507,0.1209203541739441,-0.01421046927785238,-1.000367380839894,-0.8292860549709992,-0.6757054335445911,-0.1459123700549497,0.2916121460758921,0.5300056575236536,1.10895660936722,-0.5696602679681061,0.8066844904602126,1.070287163154725,-0.3412495116152495,-0.6430059638024127,0.806662336688342,0.8143213322437557,1.657541329122822,-0.3891889414081634,0.4308070491418372,0.9934563953216032,1.214534934408977,0.837429454593927,-0.9867559218678147,1.643684689849529,0.7521630232495147,-0.1924824275177492,-0.2927753270498862,-0.4876318335806775,0.1003942183274985,-0.6779255890681221,0.6979923435987458,0.2204689427371599,0.1067115139005971,0.6379197671708207,0.5021540429866335,0.6765309724288519,-0.7820321666994966,-0.4364048044863938,0.3109527416681242,-0.2712007858977246,2.986745117854957,-3.336634675447986,4.079680968504145,5.04583865456862,1.782077268063386,0.5766233111188084,3.13755530132214,2.322760328379389,4.642344554068432,-1.853012166916712,-3.585438519649432,6.209377349343245,7.315868384787545,0.3744365323278575,0.3005939241211132,2.448681506750922,2.80349438070389,-6.088867862195653,1.938104773767011,6.949422626794267,3.592239146190245,-2.845379614754738,-0.05212415548610456,5.012367069065029,0.1441942957286884,0.5927148972698332,-4.918209467985592,2.429691020930274,5.287320149174475,-0.905231419723141,-3.404686838140063,-2.830322819993137,-3.487273487468317,0.4781577051876706,13.12158347701184,-1.610253646453756,0.9190601186329717,-1.220113539587659,-2.256489486182532,2.677706047525001,2.440603525571889,-1.416426076723888,-1.118758903910764,3.762896809738413,-3.129389449763591,-2.030195225503313,0.004346481384799952,4.666055883034323,0.6833647388028764,5.277591103992796,0.717832396076859,0.677969801390877,1.147824652142046,1.021514674098999,2.694963849193781,-1.526807686102067,-0.9303920011470022,-0.4571301720941993,2.150137250550536,1.467820593494055,1.428606847043497,0.6745444609634776,-1.847839825676166,-2.105565757142694,0.5786521189528208,1.984833921311274,-1.497802681032155,-2.512052761337061,-0.1208409276249843,1.108577808531672,0.9077426763233835,2.432955402244042,0.9496733714325576,-3.005581241182063,0.05531852006269117,-0.2843237190397626,-3.006820193702865,2.688279032645313,0.9966570731529779,1.902742747413667,1.026142249217507,-1.066126142623489,3.613333707119466,0.408031670740411,0.4446732305307206,2.08925040818173,-0.05994034831044874,1.006823872345309,0.8718230101553684,-0.5384551759570393,0.04435454396326031,1.903852106920436,2.322838608763122,1.001282706603969,-0.4711689778697649,1.469473785292107,1.35912474920219,-2.028215850975188,0.8980664388274844,0.7869668966454086,3.639208302162765,2.410706507241332,-1.809144297341705,1.906180429067184,-1.781033555301024,-0.6935536602553607,0.2453254703641405,1.863194185357719,-0.4233834979785331,1.380772920106424,-1.04843423370642,-0.7575223445236017,-2.704209471767488,0.2891711046377971,0.3285276856402843,-1.816955619536709,0.8213859779309333,-0.3453698024570188,-1.434858251403845,0.4120706695081516,3.448837284264517,1.836973408159877,-1.460270842419723,0.834254122221931,-1.502705127225105,-1.397619024327241,1.317888422900672,1.39909423716406,0.2618107543806282,1.852128444372998,-0.5468846641961718,1.536511710049064,1.187336700319279,-0.9145015105989541,0.6945266083728329,0.8271259157710527,-1.236938977665331,-0.3988380583369746,1.959749695628767,0.9841330796182385,1.552318529537204,0.7672061698565116,-0.3255058455122752,-1.135446756798711,0.5480939755709515,-1.610134860674566,-0.7620101540152997,-0.4362719440115975,3.353495303940702,-0.2116220071018483,0.01208983307149215,0.7476829978801118,0.6943987321201852,-0.5863360608069675,-0.9829113125577805,0.1876954399106026,-0.94807131954256,-0.006098623783435794,2.799964962297516,0.7512669448318912]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>symbol<\/th>\n      <th>date<\/th>\n      <th>portfolio_weight<\/th>\n      <th>discrete_return<\/th>\n      <th>continuous_return<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[3,4,5]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"symbol","targets":1},{"name":"date","targets":2},{"name":"portfolio_weight","targets":3},{"name":"discrete_return","targets":4},{"name":"continuous_return","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render"],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate returns of four individual stocks by each day (DATE)</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>portfolio_ret <span class="ot">&lt;-</span> individual_ret <span class="sc">|&gt;</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">|&gt;</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">port_return =</span> <span class="fu">sum</span>(portfolio_weight<span class="sc">*</span>continuous_return),</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(portfolio_ret) <span class="sc">|&gt;</span> </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"port_return"</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-c4986a087eb555d3c977" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c4986a087eb555d3c977">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80"],["2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28"],[1.103715437753949,-0.6328580399187527,2.828706923411612,0.579487988855607,0.9117732525122173,1.173680165745592,0.9544260751975367,0.8996643604129699,1.178003260127106,-1.742604394062884,-1.08466860794115,2.786143128223427,2.650001709398973,0.6421530867364491,-0.2939297554198267,1.941800783162004,0.7708831241654629,-2.677985017184551,1.543353761192447,1.797532124251604,0.8310470582620278,-0.2707725716410382,-0.6901703879826965,2.486661245956173,-0.7628366792154955,0.2996854337279894,0.249604076041495,1.353869887408621,0.8493202915608002,0.2285058462133269,-1.582029827065317,-1.503995138512436,-1.421114410083457,-0.6640212856314037,3.216136733141385,-0.7877730094280956,0.2085315332469469,-0.4148632462986501,-1.051637404790555,0.9495121874251814,1.817031911426777,0.3222210815700765,-1.382843789702958,0.574166146965164,-1.520920798197963,-1.204622337872855,0.1141693984536111,1.742476926021344,-0.7621520884002774,1.494441420724437,-0.05181236608806852,1.466344721285707,1.59417062769867,-0.7128635967287147,0.7653816903835235,0.05765490263925746,0.4147754507452903,-0.00130947224718525,1.560951824114952,0.9826650248249816,1.087653083871926,2.002931295925825,-1.03013401414557,0.02522951904973547,0.0516902452470889,-0.06551512180527974,-0.461976405492139,-0.8850079190702735,0.9501446049070202,0.1151486203743368,0.1119289044400112,1.33379917547902,0.3584708893744406,-0.9387499152893654,-0.02649678612088427,0.6125178627147914,-1.542111649529062,0.3308105083559645,1.323951434240533,0.9167490112025054]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>port_return<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":2},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"date","targets":1},{"name":"port_return","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="portfolio-volatility" class="level3">
<h3 class="anchored" data-anchor-id="portfolio-volatility">Portfolio Volatility</h3>
<p>Calculate variance and volatility (standard deviation) of portfolio returns from individual stocks.</p>
<p>The <strong>portfolio volatility</strong> (standard deviation of portfolio returns) is given by:</p>
<p><span class="math display">\[ \sigma_p = \sqrt{ w^T \mathbf{\Sigma}w}\]</span></p>
<p>Where:</p>
<ul>
<li><p><span class="math inline">\(\sigma_p\)</span> = Portfolio volatility</p></li>
<li><p><span class="math inline">\(w\)</span> = Column vector of asset weights (<span class="math inline">\(w_1, w_2, w_3, w_4\)</span>)</p></li>
<li><p><span class="math inline">\(\mathbf{\Sigma}\)</span> = Covariance matrix of asset returns</p></li>
<li><p><span class="math inline">\(w^T\)</span> = Transposed weight vector</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sigma for each stock</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>portfolio_volatility <span class="ot">&lt;-</span> individual_ret <span class="sc">|&gt;</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(symbol) <span class="sc">|&gt;</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sigma =</span> <span class="fu">sd</span>(continuous_return),</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(portfolio_volatility)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  symbol sigma
  &lt;chr&gt;  &lt;dbl&gt;
1 AAPL   1.40 
2 NVDA   3.09 
3 WMT    0.944
4 XOM    1.77 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># stock weights</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>weights <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># individual stock volatilities (standard deviations)</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>volatilities <span class="ot">&lt;-</span> portfolio_volatility<span class="sc">$</span>sigma</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co"># correlation matrix</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>returns_wide <span class="ot">&lt;-</span> individual_ret <span class="sc">|&gt;</span> </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(symbol, date, continuous_return) <span class="sc">|&gt;</span> </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> symbol, <span class="at">values_from =</span> continuous_return)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate correlation matrix</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>cor_matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(returns_wide[, <span class="sc">-</span><span class="dv">1</span>], <span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(cor_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-70e6ed0a3582ab98eba6" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-70e6ed0a3582ab98eba6">{"x":{"filter":"none","vertical":false,"data":[["XOM","WMT","NVDA","AAPL"],[1,0.2110093495030152,0.03809878155782141,0.2178236610325215],[0.2110093495030152,1,0.08370224589969424,0.2679500231393923],[0.03809878155782141,0.08370224589969424,1,0.4839211045440534],[0.2178236610325215,0.2679500231393923,0.4839211045440534,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>XOM<\/th>\n      <th>WMT<\/th>\n      <th>NVDA<\/th>\n      <th>AAPL<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"XOM","targets":1},{"name":"WMT","targets":2},{"name":"NVDA","targets":3},{"name":"AAPL","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute covariance matrix</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>cov_matrix <span class="ot">&lt;-</span> (volatilities <span class="sc">%*%</span> <span class="fu">t</span>(volatilities)) <span class="sc">*</span> cor_matrix</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate portfolio volatility</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>portfolio_volatility <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">t</span>(weights) <span class="sc">%*%</span> cov_matrix <span class="sc">%*%</span> weights)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Print result</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"Portfolio return is %.2f percent"</span>, portfolio_volatility))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Portfolio return is 1.21 percent</code></pre>
</div>
</div>
</section>
</section>
<section id="visualizing-portfolio-value-with-highcharter" class="level2">
<h2 class="anchored" data-anchor-id="visualizing-portfolio-value-with-highcharter">4. Visualizing Portfolio Value with <code>highcharter</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Portfolio value</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(portfolio, <span class="at">type =</span> <span class="st">"area"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> date, <span class="at">y =</span> total_value)) <span class="sc">|&gt;</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Portfolio Value Over Time"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Total Portfolio Value ($)"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Date"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">"Value: ${point.y:,.0f}"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_add_theme</span>(<span class="fu">hc_theme_smpl</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-2d05c7643a94aad9a482" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-2d05c7643a94aad9a482">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Portfolio Value Over Time"},"yAxis":{"title":{"text":"Total Portfolio Value ($)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"date":"2023-01-03","total_value":999916.8421192169,"discrete_return":null,"continuous_return":null,"x":1672704000000,"y":999916.8421192169},{"date":"2023-01-04","total_value":1011080.494106293,"discrete_return":1.116458040992252,"continuous_return":1.110271651249509,"x":1672790400000,"y":1011080.494106293},{"date":"2023-01-05","total_value":1004705.186641693,"discrete_return":-0.6305440073032798,"continuous_return":-0.632540332258315,"x":1672876800000,"y":1004705.186641693},{"date":"2023-01-06","total_value":1033481.128900528,"discrete_return":2.864118016054107,"continuous_return":2.823868871239841,"x":1672963200000,"y":1033481.128900528},{"date":"2023-01-09","total_value":1039950.020719528,"discrete_return":0.6259322631156472,"continuous_return":0.6239814434333887,"x":1673222400000,"y":1039950.020719528},{"date":"2023-01-10","total_value":1049661.529539108,"discrete_return":0.9338438026916807,"continuous_return":0.9295104384643889,"x":1673308800000,"y":1049661.529539108},{"date":"2023-01-11","total_value":1061999.430376053,"discrete_return":1.175417073955454,"continuous_return":1.16856270678414,"x":1673395200000,"y":1061999.430376053},{"date":"2023-01-12","total_value":1072789.337528229,"discrete_return":1.015999335174333,"continuous_return":1.010872756689806,"x":1673481600000,"y":1072789.337528229},{"date":"2023-01-13","total_value":1082934.921928406,"discrete_return":0.9457201004209326,"continuous_return":0.9412761640418942,"x":1673568000000,"y":1082934.921928406},{"date":"2023-01-17","total_value":1097268.598255157,"discrete_return":1.323595355224794,"continuous_return":1.314912366409063,"x":1673913600000,"y":1097268.598255157},{"date":"2023-01-18","total_value":1078474.478557587,"discrete_return":-1.712809400310611,"continuous_return":-1.727647658649504,"x":1674000000000,"y":1078474.478557587},{"date":"2023-01-19","total_value":1066073.371585846,"discrete_return":-1.149874866610345,"continuous_return":-1.156537048061616,"x":1674086400000,"y":1066073.371585846},{"date":"2023-01-20","total_value":1097766.892791748,"discrete_return":2.972921193853306,"continuous_return":2.929586664645988,"x":1674172800000,"y":1097766.892791748},{"date":"2023-01-23","total_value":1130160.109954834,"discrete_return":2.950828393148774,"continuous_return":2.908129401135969,"x":1674432000000,"y":1130160.109954834},{"date":"2023-01-24","total_value":1137381.216499329,"discrete_return":0.6389454450647092,"continuous_return":0.6369128422103419,"x":1674518400000,"y":1137381.216499329},{"date":"2023-01-25","total_value":1134463.19858551,"discrete_return":-0.2565558382263022,"continuous_return":-0.2568855066934574,"x":1674604800000,"y":1134463.19858551},{"date":"2023-01-26","total_value":1157476.630081177,"discrete_return":2.028574529730043,"continuous_return":2.008273051194475,"x":1674691200000,"y":1157476.630081177},{"date":"2023-01-27","total_value":1168098.463523865,"discrete_return":0.9176715249916478,"continuous_return":0.9134865035354058,"x":1674777600000,"y":1168098.463523865},{"date":"2023-01-30","total_value":1134420.635784149,"discrete_return":-2.883132611793515,"continuous_return":-2.925511426088077,"x":1675036800000,"y":1134420.635784149},{"date":"2023-01-31","total_value":1152291.70898056,"discrete_return":1.575348035171986,"continuous_return":1.563068226596721,"x":1675123200000,"y":1152291.70898056},{"date":"2023-02-01","total_value":1177536.65655899,"discrete_return":2.190846934129609,"continuous_return":2.167192743933391,"x":1675209600000,"y":1177536.65655899},{"date":"2023-02-02","total_value":1191434.602088928,"discrete_return":1.180255871655866,"continuous_return":1.173345174832501,"x":1675296000000,"y":1191434.602088928},{"date":"2023-02-03","total_value":1186636.536701202,"discrete_return":-0.4027132818967494,"continuous_return":-0.4035263554714955,"x":1675382400000,"y":1186636.536701202},{"date":"2023-02-06","total_value":1178668.906009674,"discrete_return":-0.6714466009683173,"continuous_return":-0.6737109452584229,"x":1675641600000,"y":1178668.906009674},{"date":"2023-02-07","total_value":1211443.912502289,"discrete_return":2.780679656984675,"continuous_return":2.742720828991987,"x":1675728000000,"y":1211443.912502289},{"date":"2023-02-08","total_value":1202876.357063293,"discrete_return":-0.7072184977428009,"continuous_return":-0.7097311413557169,"x":1675814400000,"y":1202876.357063293},{"date":"2023-02-09","total_value":1206355.160503387,"discrete_return":0.2892070676812741,"continuous_return":0.2887896686127068,"x":1675900800000,"y":1206355.160503387},{"date":"2023-02-10","total_value":1203515.626819611,"discrete_return":-0.2353812357044127,"continuous_return":-0.235658692808504,"x":1675987200000,"y":1203515.626819611},{"date":"2023-02-13","total_value":1221059.205955505,"discrete_return":1.457694336903215,"continuous_return":1.447172104405493,"x":1676246400000,"y":1221059.205955505},{"date":"2023-02-14","total_value":1236423.094783783,"discrete_return":1.258242741493842,"continuous_return":1.250392647749161,"x":1676332800000,"y":1236423.094783783},{"date":"2023-02-15","total_value":1238124.496181488,"discrete_return":0.1376067306477102,"continuous_return":0.1375121393521618,"x":1676419200000,"y":1238124.496181488},{"date":"2023-02-16","total_value":1216766.131057739,"discrete_return":-1.725057955772646,"continuous_return":-1.740110441092019,"x":1676505600000,"y":1216766.131057739},{"date":"2023-02-17","total_value":1196976.17804718,"discrete_return":-1.626438516443218,"continuous_return":-1.639810214212131,"x":1676592000000,"y":1196976.17804718},{"date":"2023-02-21","total_value":1177317.201507568,"discrete_return":-1.642386615553593,"continuous_return":-1.65602330210327,"x":1676937600000,"y":1177317.201507568},{"date":"2023-02-22","total_value":1171122.2057724,"discrete_return":-0.5261959756670209,"continuous_return":-0.5275852624147664,"x":1677024000000,"y":1171122.2057724},{"date":"2023-02-23","total_value":1221567.784484863,"discrete_return":4.30745642630801,"continuous_return":4.217266364845383,"x":1677110400000,"y":1221567.784484863},{"date":"2023-02-24","total_value":1210266.837852478,"discrete_return":-0.925118259986768,"continuous_return":-0.9294240553352419,"x":1677196800000,"y":1210266.837852478},{"date":"2023-02-27","total_value":1214177.681324005,"discrete_return":0.3231389433479448,"continuous_return":0.3226179714713844,"x":1677456000000,"y":1214177.681324005},{"date":"2023-02-28","total_value":1207867.465732574,"discrete_return":-0.519711051231786,"continuous_return":-0.5210662465547525,"x":1677542400000,"y":1207867.465732574},{"date":"2023-03-01","total_value":1193487.788017273,"discrete_return":-1.190501286213563,"continuous_return":-1.197644502770449,"x":1677628800000,"y":1193487.788017273},{"date":"2023-03-02","total_value":1207261.773395538,"discrete_return":1.154095208728356,"continuous_return":1.147486329872563,"x":1677715200000,"y":1207261.773395538},{"date":"2023-03-03","total_value":1231200.337284088,"discrete_return":1.982880963854283,"continuous_return":1.963477952282719,"x":1677801600000,"y":1231200.337284088},{"date":"2023-03-06","total_value":1233267.599430084,"discrete_return":0.1679062361659378,"continuous_return":0.1677654312366916,"x":1678060800000,"y":1233267.599430084},{"date":"2023-03-07","total_value":1216587.603534698,"discrete_return":-1.352504185068504,"continuous_return":-1.361733838366202,"x":1678147200000,"y":1216587.603534698},{"date":"2023-03-08","total_value":1228871.134803772,"discrete_return":1.009670921632333,"continuous_return":1.004607796859676,"x":1678233600000,"y":1228871.134803772},{"date":"2023-03-09","total_value":1207665.215953827,"discrete_return":-1.725642197082877,"continuous_return":-1.74070493958241,"x":1678320000000,"y":1207665.215953827},{"date":"2023-03-10","total_value":1191714.052085876,"discrete_return":-1.32082663781552,"continuous_return":-1.32962713159696,"x":1678406400000,"y":1191714.052085876},{"date":"2023-03-13","total_value":1193439.207393646,"discrete_return":0.1447625212399162,"continuous_return":0.1446578413148256,"x":1678665600000,"y":1193439.207393646},{"date":"2023-03-14","total_value":1219060.795028687,"discrete_return":2.146869943295671,"continuous_return":2.124149303706151,"x":1678752000000,"y":1219060.795028687},{"date":"2023-03-15","total_value":1212844.376228333,"discrete_return":-0.5099350931228708,"continuous_return":-0.5112396991044985,"x":1678838400000,"y":1212844.376228333},{"date":"2023-03-16","total_value":1238727.062805176,"discrete_return":2.134048447116732,"continuous_return":2.111596495253166,"x":1678924800000,"y":1238727.062805176},{"date":"2023-03-17","total_value":1239383.185619354,"discrete_return":0.05296750461660782,"continuous_return":0.05295348178535862,"x":1679011200000,"y":1239383.185619354},{"date":"2023-03-20","total_value":1256038.178726196,"discrete_return":1.343813059600207,"continuous_return":1.334863975402945,"x":1679270400000,"y":1256038.178726196},{"date":"2023-03-21","total_value":1275039.059318542,"discrete_return":1.512762980788995,"continuous_return":1.501434824177373,"x":1679356800000,"y":1275039.059318542},{"date":"2023-03-22","total_value":1269468.167186737,"discrete_return":-0.4369193313013331,"continuous_return":-0.4378766131957066,"x":1679443200000,"y":1269468.167186737},{"date":"2023-03-23","total_value":1283483.522155762,"discrete_return":1.104033589127651,"continuous_return":1.097983626648164,"x":1679529600000,"y":1283483.522155762},{"date":"2023-03-24","total_value":1281223.720722198,"discrete_return":-0.1760678181335407,"continuous_return":-0.1762229996930602,"x":1679616000000,"y":1281223.720722198},{"date":"2023-03-27","total_value":1282459.272426605,"discrete_return":0.09643528170943938,"continuous_return":0.09638881276422004,"x":1679875200000,"y":1282459.272426605},{"date":"2023-03-28","total_value":1281227.038928986,"discrete_return":-0.09608363587937374,"continuous_return":-0.09612982579446289,"x":1679961600000,"y":1281227.038928986},{"date":"2023-03-29","total_value":1302933.480846405,"discrete_return":1.694191681715096,"continuous_return":1.680000316126702,"x":1680048000000,"y":1302933.480846405},{"date":"2023-03-30","total_value":1316856.067668915,"discrete_return":1.068556992906911,"continuous_return":1.062888269277771,"x":1680134400000,"y":1316856.067668915},{"date":"2023-03-31","total_value":1332336.174690247,"discrete_return":1.175535231328251,"continuous_return":1.168679491381841,"x":1680220800000,"y":1332336.174690247},{"date":"2023-04-03","total_value":1355629.403568268,"discrete_return":1.748299664942787,"continuous_return":1.7331927285331,"x":1680480000000,"y":1355629.403568268},{"date":"2023-04-04","total_value":1340428.392868042,"discrete_return":-1.121324947674784,"continuous_return":-1.127659192021271,"x":1680566400000,"y":1340428.392868042},{"date":"2023-04-05","total_value":1335617.854053497,"discrete_return":-0.3588807011355444,"continuous_return":-0.3595262228217271,"x":1680652800000,"y":1335617.854053497},{"date":"2023-04-06","total_value":1337532.131690979,"discrete_return":0.1433252506824356,"continuous_return":0.1432226380798315,"x":1680739200000,"y":1337532.131690979},{"date":"2023-04-10","total_value":1340021.338737488,"discrete_return":0.1861044671399359,"continuous_return":0.1859315073338584,"x":1681084800000,"y":1340021.338737488},{"date":"2023-04-11","total_value":1331544.013233185,"discrete_return":-0.6326261574528314,"continuous_return":-0.6346357165425002,"x":1681171200000,"y":1331544.013233185},{"date":"2023-04-12","total_value":1316810.412639618,"discrete_return":-1.106504963196187,"continuous_return":-1.112672265903549,"x":1681257600000,"y":1316810.412639618},{"date":"2023-04-13","total_value":1328720.53805542,"discrete_return":0.9044677427730408,"continuous_return":0.9004019308662724,"x":1681344000000,"y":1328720.53805542},{"date":"2023-04-14","total_value":1332069.061698914,"discrete_return":0.2520111300751138,"continuous_return":0.2516941145246497,"x":1681430400000,"y":1332069.061698914},{"date":"2023-04-17","total_value":1334996.542644501,"discrete_return":0.2197694571371089,"continuous_return":0.2195283173021664,"x":1681689600000,"y":1334996.542644501},{"date":"2023-04-18","total_value":1354968.035919189,"discrete_return":1.495995879893974,"continuous_return":1.484916225642761,"x":1681776000000,"y":1354968.035919189},{"date":"2023-04-19","total_value":1361306.015216827,"discrete_return":0.4677585839387266,"continuous_return":0.4666679930404811,"x":1681862400000,"y":1361306.015216827},{"date":"2023-04-20","total_value":1344378.309116364,"discrete_return":-1.243490141911086,"continuous_return":-1.251286176610149,"x":1681948800000,"y":1344378.309116364},{"date":"2023-04-21","total_value":1343580.814975739,"discrete_return":-0.05932066407328129,"continuous_return":-0.05933826574050657,"x":1682035200000,"y":1343580.814975739},{"date":"2023-04-24","total_value":1349835.7407341,"discrete_return":0.4655414611941078,"continuous_return":0.4644611684432533,"x":1682294400000,"y":1349835.7407341},{"date":"2023-04-25","total_value":1326669.137649536,"discrete_return":-1.716253495552367,"continuous_return":-1.731151834081383,"x":1682380800000,"y":1326669.137649536},{"date":"2023-04-26","total_value":1335453.808250427,"discrete_return":0.6621598672638784,"continuous_return":0.6599772185991963,"x":1682467200000,"y":1335453.808250427},{"date":"2023-04-27","total_value":1353563.164058685,"discrete_return":1.356045090918045,"continuous_return":1.346933082351804,"x":1682553600000,"y":1353563.164058685},{"date":"2023-04-28","total_value":1368094.490089417,"discrete_return":1.073560984561572,"continuous_return":1.06783923318945,"x":1682640000000,"y":1368094.490089417}],"type":"area"}],"xAxis":{"type":"datetime","title":{"text":"Date"}},"tooltip":{"pointFormat":"Value: ${point.y:,.0f}"}},"theme":{"colors":["#d35400","#2980b9","#2ecc71","#f1c40f","#2c3e50","#7f8c8d"],"chart":{"style":{"fontFamily":"Roboto","color":"#666666"}},"title":{"align":"left","style":{"fontFamily":"Roboto Condensed","fontWeight":"bold"}},"subtitle":{"align":"left","style":{"fontFamily":"Roboto Condensed"}},"legend":{"align":"right","verticalAlign":"bottom"},"xAxis":{"gridLineWidth":1,"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"yAxis":{"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"plotOptions":{"line":{"marker":{"enabled":false}},"spline":{"marker":{"enabled":false}},"area":{"marker":{"enabled":false}},"areaspline":{"marker":{"enabled":false}},"arearange":{"marker":{"enabled":false}},"bubble":{"maxSize":"10%"}}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":["Roboto","Roboto+Condensed"],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Portfolio returns (continous returns)</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(portfolio, <span class="at">type =</span> <span class="st">"line"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> date, <span class="at">y =</span> continuous_return)) <span class="sc">|&gt;</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Portfolio Returns Over Time"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Portfolio Return (%)"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Date"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">"Return: {point.y:.2f} %"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_add_theme</span>(<span class="fu">hc_theme_smpl</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-042da15a79441a072ea7" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-042da15a79441a072ea7">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Portfolio Returns Over Time"},"yAxis":{"title":{"text":"Portfolio Return (%)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"date":"2023-01-03","total_value":999916.8421192169,"discrete_return":null,"continuous_return":null,"x":1672704000000,"y":null},{"date":"2023-01-04","total_value":1011080.494106293,"discrete_return":1.116458040992252,"continuous_return":1.110271651249509,"x":1672790400000,"y":1.110271651249509},{"date":"2023-01-05","total_value":1004705.186641693,"discrete_return":-0.6305440073032798,"continuous_return":-0.632540332258315,"x":1672876800000,"y":-0.632540332258315},{"date":"2023-01-06","total_value":1033481.128900528,"discrete_return":2.864118016054107,"continuous_return":2.823868871239841,"x":1672963200000,"y":2.823868871239841},{"date":"2023-01-09","total_value":1039950.020719528,"discrete_return":0.6259322631156472,"continuous_return":0.6239814434333887,"x":1673222400000,"y":0.6239814434333887},{"date":"2023-01-10","total_value":1049661.529539108,"discrete_return":0.9338438026916807,"continuous_return":0.9295104384643889,"x":1673308800000,"y":0.9295104384643889},{"date":"2023-01-11","total_value":1061999.430376053,"discrete_return":1.175417073955454,"continuous_return":1.16856270678414,"x":1673395200000,"y":1.16856270678414},{"date":"2023-01-12","total_value":1072789.337528229,"discrete_return":1.015999335174333,"continuous_return":1.010872756689806,"x":1673481600000,"y":1.010872756689806},{"date":"2023-01-13","total_value":1082934.921928406,"discrete_return":0.9457201004209326,"continuous_return":0.9412761640418942,"x":1673568000000,"y":0.9412761640418942},{"date":"2023-01-17","total_value":1097268.598255157,"discrete_return":1.323595355224794,"continuous_return":1.314912366409063,"x":1673913600000,"y":1.314912366409063},{"date":"2023-01-18","total_value":1078474.478557587,"discrete_return":-1.712809400310611,"continuous_return":-1.727647658649504,"x":1674000000000,"y":-1.727647658649504},{"date":"2023-01-19","total_value":1066073.371585846,"discrete_return":-1.149874866610345,"continuous_return":-1.156537048061616,"x":1674086400000,"y":-1.156537048061616},{"date":"2023-01-20","total_value":1097766.892791748,"discrete_return":2.972921193853306,"continuous_return":2.929586664645988,"x":1674172800000,"y":2.929586664645988},{"date":"2023-01-23","total_value":1130160.109954834,"discrete_return":2.950828393148774,"continuous_return":2.908129401135969,"x":1674432000000,"y":2.908129401135969},{"date":"2023-01-24","total_value":1137381.216499329,"discrete_return":0.6389454450647092,"continuous_return":0.6369128422103419,"x":1674518400000,"y":0.6369128422103419},{"date":"2023-01-25","total_value":1134463.19858551,"discrete_return":-0.2565558382263022,"continuous_return":-0.2568855066934574,"x":1674604800000,"y":-0.2568855066934574},{"date":"2023-01-26","total_value":1157476.630081177,"discrete_return":2.028574529730043,"continuous_return":2.008273051194475,"x":1674691200000,"y":2.008273051194475},{"date":"2023-01-27","total_value":1168098.463523865,"discrete_return":0.9176715249916478,"continuous_return":0.9134865035354058,"x":1674777600000,"y":0.9134865035354058},{"date":"2023-01-30","total_value":1134420.635784149,"discrete_return":-2.883132611793515,"continuous_return":-2.925511426088077,"x":1675036800000,"y":-2.925511426088077},{"date":"2023-01-31","total_value":1152291.70898056,"discrete_return":1.575348035171986,"continuous_return":1.563068226596721,"x":1675123200000,"y":1.563068226596721},{"date":"2023-02-01","total_value":1177536.65655899,"discrete_return":2.190846934129609,"continuous_return":2.167192743933391,"x":1675209600000,"y":2.167192743933391},{"date":"2023-02-02","total_value":1191434.602088928,"discrete_return":1.180255871655866,"continuous_return":1.173345174832501,"x":1675296000000,"y":1.173345174832501},{"date":"2023-02-03","total_value":1186636.536701202,"discrete_return":-0.4027132818967494,"continuous_return":-0.4035263554714955,"x":1675382400000,"y":-0.4035263554714955},{"date":"2023-02-06","total_value":1178668.906009674,"discrete_return":-0.6714466009683173,"continuous_return":-0.6737109452584229,"x":1675641600000,"y":-0.6737109452584229},{"date":"2023-02-07","total_value":1211443.912502289,"discrete_return":2.780679656984675,"continuous_return":2.742720828991987,"x":1675728000000,"y":2.742720828991987},{"date":"2023-02-08","total_value":1202876.357063293,"discrete_return":-0.7072184977428009,"continuous_return":-0.7097311413557169,"x":1675814400000,"y":-0.7097311413557169},{"date":"2023-02-09","total_value":1206355.160503387,"discrete_return":0.2892070676812741,"continuous_return":0.2887896686127068,"x":1675900800000,"y":0.2887896686127068},{"date":"2023-02-10","total_value":1203515.626819611,"discrete_return":-0.2353812357044127,"continuous_return":-0.235658692808504,"x":1675987200000,"y":-0.235658692808504},{"date":"2023-02-13","total_value":1221059.205955505,"discrete_return":1.457694336903215,"continuous_return":1.447172104405493,"x":1676246400000,"y":1.447172104405493},{"date":"2023-02-14","total_value":1236423.094783783,"discrete_return":1.258242741493842,"continuous_return":1.250392647749161,"x":1676332800000,"y":1.250392647749161},{"date":"2023-02-15","total_value":1238124.496181488,"discrete_return":0.1376067306477102,"continuous_return":0.1375121393521618,"x":1676419200000,"y":0.1375121393521618},{"date":"2023-02-16","total_value":1216766.131057739,"discrete_return":-1.725057955772646,"continuous_return":-1.740110441092019,"x":1676505600000,"y":-1.740110441092019},{"date":"2023-02-17","total_value":1196976.17804718,"discrete_return":-1.626438516443218,"continuous_return":-1.639810214212131,"x":1676592000000,"y":-1.639810214212131},{"date":"2023-02-21","total_value":1177317.201507568,"discrete_return":-1.642386615553593,"continuous_return":-1.65602330210327,"x":1676937600000,"y":-1.65602330210327},{"date":"2023-02-22","total_value":1171122.2057724,"discrete_return":-0.5261959756670209,"continuous_return":-0.5275852624147664,"x":1677024000000,"y":-0.5275852624147664},{"date":"2023-02-23","total_value":1221567.784484863,"discrete_return":4.30745642630801,"continuous_return":4.217266364845383,"x":1677110400000,"y":4.217266364845383},{"date":"2023-02-24","total_value":1210266.837852478,"discrete_return":-0.925118259986768,"continuous_return":-0.9294240553352419,"x":1677196800000,"y":-0.9294240553352419},{"date":"2023-02-27","total_value":1214177.681324005,"discrete_return":0.3231389433479448,"continuous_return":0.3226179714713844,"x":1677456000000,"y":0.3226179714713844},{"date":"2023-02-28","total_value":1207867.465732574,"discrete_return":-0.519711051231786,"continuous_return":-0.5210662465547525,"x":1677542400000,"y":-0.5210662465547525},{"date":"2023-03-01","total_value":1193487.788017273,"discrete_return":-1.190501286213563,"continuous_return":-1.197644502770449,"x":1677628800000,"y":-1.197644502770449},{"date":"2023-03-02","total_value":1207261.773395538,"discrete_return":1.154095208728356,"continuous_return":1.147486329872563,"x":1677715200000,"y":1.147486329872563},{"date":"2023-03-03","total_value":1231200.337284088,"discrete_return":1.982880963854283,"continuous_return":1.963477952282719,"x":1677801600000,"y":1.963477952282719},{"date":"2023-03-06","total_value":1233267.599430084,"discrete_return":0.1679062361659378,"continuous_return":0.1677654312366916,"x":1678060800000,"y":0.1677654312366916},{"date":"2023-03-07","total_value":1216587.603534698,"discrete_return":-1.352504185068504,"continuous_return":-1.361733838366202,"x":1678147200000,"y":-1.361733838366202},{"date":"2023-03-08","total_value":1228871.134803772,"discrete_return":1.009670921632333,"continuous_return":1.004607796859676,"x":1678233600000,"y":1.004607796859676},{"date":"2023-03-09","total_value":1207665.215953827,"discrete_return":-1.725642197082877,"continuous_return":-1.74070493958241,"x":1678320000000,"y":-1.74070493958241},{"date":"2023-03-10","total_value":1191714.052085876,"discrete_return":-1.32082663781552,"continuous_return":-1.32962713159696,"x":1678406400000,"y":-1.32962713159696},{"date":"2023-03-13","total_value":1193439.207393646,"discrete_return":0.1447625212399162,"continuous_return":0.1446578413148256,"x":1678665600000,"y":0.1446578413148256},{"date":"2023-03-14","total_value":1219060.795028687,"discrete_return":2.146869943295671,"continuous_return":2.124149303706151,"x":1678752000000,"y":2.124149303706151},{"date":"2023-03-15","total_value":1212844.376228333,"discrete_return":-0.5099350931228708,"continuous_return":-0.5112396991044985,"x":1678838400000,"y":-0.5112396991044985},{"date":"2023-03-16","total_value":1238727.062805176,"discrete_return":2.134048447116732,"continuous_return":2.111596495253166,"x":1678924800000,"y":2.111596495253166},{"date":"2023-03-17","total_value":1239383.185619354,"discrete_return":0.05296750461660782,"continuous_return":0.05295348178535862,"x":1679011200000,"y":0.05295348178535862},{"date":"2023-03-20","total_value":1256038.178726196,"discrete_return":1.343813059600207,"continuous_return":1.334863975402945,"x":1679270400000,"y":1.334863975402945},{"date":"2023-03-21","total_value":1275039.059318542,"discrete_return":1.512762980788995,"continuous_return":1.501434824177373,"x":1679356800000,"y":1.501434824177373},{"date":"2023-03-22","total_value":1269468.167186737,"discrete_return":-0.4369193313013331,"continuous_return":-0.4378766131957066,"x":1679443200000,"y":-0.4378766131957066},{"date":"2023-03-23","total_value":1283483.522155762,"discrete_return":1.104033589127651,"continuous_return":1.097983626648164,"x":1679529600000,"y":1.097983626648164},{"date":"2023-03-24","total_value":1281223.720722198,"discrete_return":-0.1760678181335407,"continuous_return":-0.1762229996930602,"x":1679616000000,"y":-0.1762229996930602},{"date":"2023-03-27","total_value":1282459.272426605,"discrete_return":0.09643528170943938,"continuous_return":0.09638881276422004,"x":1679875200000,"y":0.09638881276422004},{"date":"2023-03-28","total_value":1281227.038928986,"discrete_return":-0.09608363587937374,"continuous_return":-0.09612982579446289,"x":1679961600000,"y":-0.09612982579446289},{"date":"2023-03-29","total_value":1302933.480846405,"discrete_return":1.694191681715096,"continuous_return":1.680000316126702,"x":1680048000000,"y":1.680000316126702},{"date":"2023-03-30","total_value":1316856.067668915,"discrete_return":1.068556992906911,"continuous_return":1.062888269277771,"x":1680134400000,"y":1.062888269277771},{"date":"2023-03-31","total_value":1332336.174690247,"discrete_return":1.175535231328251,"continuous_return":1.168679491381841,"x":1680220800000,"y":1.168679491381841},{"date":"2023-04-03","total_value":1355629.403568268,"discrete_return":1.748299664942787,"continuous_return":1.7331927285331,"x":1680480000000,"y":1.7331927285331},{"date":"2023-04-04","total_value":1340428.392868042,"discrete_return":-1.121324947674784,"continuous_return":-1.127659192021271,"x":1680566400000,"y":-1.127659192021271},{"date":"2023-04-05","total_value":1335617.854053497,"discrete_return":-0.3588807011355444,"continuous_return":-0.3595262228217271,"x":1680652800000,"y":-0.3595262228217271},{"date":"2023-04-06","total_value":1337532.131690979,"discrete_return":0.1433252506824356,"continuous_return":0.1432226380798315,"x":1680739200000,"y":0.1432226380798315},{"date":"2023-04-10","total_value":1340021.338737488,"discrete_return":0.1861044671399359,"continuous_return":0.1859315073338584,"x":1681084800000,"y":0.1859315073338584},{"date":"2023-04-11","total_value":1331544.013233185,"discrete_return":-0.6326261574528314,"continuous_return":-0.6346357165425002,"x":1681171200000,"y":-0.6346357165425002},{"date":"2023-04-12","total_value":1316810.412639618,"discrete_return":-1.106504963196187,"continuous_return":-1.112672265903549,"x":1681257600000,"y":-1.112672265903549},{"date":"2023-04-13","total_value":1328720.53805542,"discrete_return":0.9044677427730408,"continuous_return":0.9004019308662724,"x":1681344000000,"y":0.9004019308662724},{"date":"2023-04-14","total_value":1332069.061698914,"discrete_return":0.2520111300751138,"continuous_return":0.2516941145246497,"x":1681430400000,"y":0.2516941145246497},{"date":"2023-04-17","total_value":1334996.542644501,"discrete_return":0.2197694571371089,"continuous_return":0.2195283173021664,"x":1681689600000,"y":0.2195283173021664},{"date":"2023-04-18","total_value":1354968.035919189,"discrete_return":1.495995879893974,"continuous_return":1.484916225642761,"x":1681776000000,"y":1.484916225642761},{"date":"2023-04-19","total_value":1361306.015216827,"discrete_return":0.4677585839387266,"continuous_return":0.4666679930404811,"x":1681862400000,"y":0.4666679930404811},{"date":"2023-04-20","total_value":1344378.309116364,"discrete_return":-1.243490141911086,"continuous_return":-1.251286176610149,"x":1681948800000,"y":-1.251286176610149},{"date":"2023-04-21","total_value":1343580.814975739,"discrete_return":-0.05932066407328129,"continuous_return":-0.05933826574050657,"x":1682035200000,"y":-0.05933826574050657},{"date":"2023-04-24","total_value":1349835.7407341,"discrete_return":0.4655414611941078,"continuous_return":0.4644611684432533,"x":1682294400000,"y":0.4644611684432533},{"date":"2023-04-25","total_value":1326669.137649536,"discrete_return":-1.716253495552367,"continuous_return":-1.731151834081383,"x":1682380800000,"y":-1.731151834081383},{"date":"2023-04-26","total_value":1335453.808250427,"discrete_return":0.6621598672638784,"continuous_return":0.6599772185991963,"x":1682467200000,"y":0.6599772185991963},{"date":"2023-04-27","total_value":1353563.164058685,"discrete_return":1.356045090918045,"continuous_return":1.346933082351804,"x":1682553600000,"y":1.346933082351804},{"date":"2023-04-28","total_value":1368094.490089417,"discrete_return":1.073560984561572,"continuous_return":1.06783923318945,"x":1682640000000,"y":1.06783923318945}],"type":"line"}],"xAxis":{"type":"datetime","title":{"text":"Date"}},"tooltip":{"pointFormat":"Return: {point.y:.2f} %"}},"theme":{"colors":["#d35400","#2980b9","#2ecc71","#f1c40f","#2c3e50","#7f8c8d"],"chart":{"style":{"fontFamily":"Roboto","color":"#666666"}},"title":{"align":"left","style":{"fontFamily":"Roboto Condensed","fontWeight":"bold"}},"subtitle":{"align":"left","style":{"fontFamily":"Roboto Condensed"}},"legend":{"align":"right","verticalAlign":"bottom"},"xAxis":{"gridLineWidth":1,"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"yAxis":{"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"plotOptions":{"line":{"marker":{"enabled":false}},"spline":{"marker":{"enabled":false}},"area":{"marker":{"enabled":false}},"areaspline":{"marker":{"enabled":false}},"arearange":{"marker":{"enabled":false}},"bubble":{"maxSize":"10%"}}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":["Roboto","Roboto+Condensed"],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>This interactive visualization shows how the value of your equally weighted portfolio changes throughout sample period.</p>
</section>
<section id="buy-and-hold-returns" class="level2">
<h2 class="anchored" data-anchor-id="buy-and-hold-returns">5. Buy-and-Hold Returns</h2>
<p>Buy-and-hold returns represent the total return from buying a stock and holding it over a specified period, without any transactions in between.</p>
<section id="calculation" class="level3">
<h3 class="anchored" data-anchor-id="calculation">Calculation</h3>
<p>To calculate buy-and-hold returns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>buy_hold_returns <span class="ot">&lt;-</span> portfolio <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">buy_hold_return =</span> <span class="dv">100</span><span class="sc">*</span>(total_value <span class="sc">/</span> <span class="fu">first</span>(total_value) <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">cumulative_return =</span> <span class="fu">cumsum</span>(<span class="fu">coalesce</span>(discrete_return, <span class="dv">0</span>)))</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(buy_hold_returns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  date       total_value discrete_return continuous_return buy_hold_return
  &lt;date&gt;           &lt;dbl&gt;           &lt;dbl&gt;             &lt;dbl&gt;           &lt;dbl&gt;
1 2023-01-03     999917.          NA                NA               0    
2 2023-01-04    1011080.           1.12              1.11            1.12 
3 2023-01-05    1004705.          -0.631            -0.633           0.479
4 2023-01-06    1033481.           2.86              2.82            3.36 
5 2023-01-09    1039950.           0.626             0.624           4.00 
6 2023-01-10    1049662.           0.934             0.930           4.97 
# ℹ 1 more variable: cumulative_return &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
</section>
<section id="portfolio-comparison-equally-weighted-portfolio-vs.-100-nvda-portfolio" class="level2">
<h2 class="anchored" data-anchor-id="portfolio-comparison-equally-weighted-portfolio-vs.-100-nvda-portfolio">6. Portfolio Comparison: Equally Weighted Portfolio vs.&nbsp;100% NVDA Portfolio</h2>
<p>Let’s compare our equally weighted portfolio against a portfolio fully invested in NVDA.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># NVDA only portfolio: see how many shares we can purchase at most</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>nvda_only_position <span class="ot">&lt;-</span> prices <span class="sc">|&gt;</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(symbol <span class="sc">==</span> <span class="st">"NVDA"</span>, date <span class="sc">==</span> <span class="fu">min</span>(date)) <span class="sc">|&gt;</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shares =</span> <span class="fu">floor</span>(budget <span class="sc">/</span> adjusted)) <span class="sc">|&gt;</span> </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(symbol, shares)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Hold such shares of Nvdia</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>nvda_portfolio <span class="ot">&lt;-</span> prices <span class="sc">|&gt;</span> </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(symbol <span class="sc">==</span> <span class="st">"NVDA"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(nvda_only_position, <span class="at">by =</span> <span class="st">"symbol"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_value =</span> shares <span class="sc">*</span> adjusted) <span class="sc">|&gt;</span> </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, <span class="at">nvda_only =</span> total_value)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine both portfolios for comparison</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>combined_portfolios <span class="ot">&lt;-</span> portfolio <span class="sc">|&gt;</span> </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, <span class="at">equally_weighted =</span> total_value) <span class="sc">|&gt;</span> </span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(nvda_portfolio, <span class="at">by =</span> <span class="st">"date"</span>)</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(combined_portfolios)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  date       equally_weighted nvda_only
  &lt;date&gt;                &lt;dbl&gt;     &lt;dbl&gt;
1 2023-01-03          999917.   999999.
2 2023-01-04         1011080.  1030317.
3 2023-01-05         1004705.   996507.
4 2023-01-06         1033481.  1038002.
5 2023-01-09         1039950.  1091721.
6 2023-01-10         1049662.  1111351.</code></pre>
</div>
</div>
<section id="visualization-of-both-portfolios" class="level3">
<h3 class="anchored" data-anchor-id="visualization-of-both-portfolios">Visualization of Both Portfolios</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>combined_portfolios_long <span class="ot">&lt;-</span> combined_portfolios <span class="sc">|&gt;</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(equally_weighted, nvda_only), <span class="at">names_to =</span> <span class="st">"Portfolio"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(combined_portfolios_long, <span class="st">"line"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> date, <span class="at">y =</span> Value, <span class="at">group =</span> Portfolio)) <span class="sc">|&gt;</span> </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Equally Weighted vs. 100% NVDA Portfolio"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Portfolio Value ($)"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Date"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">"{series.name}: ${point.y:,.0f}"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_add_theme</span>(<span class="fu">hc_theme_smpl</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-7b311fd88b48b08d0b62" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-7b311fd88b48b08d0b62">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Equally Weighted vs. 100% NVDA Portfolio"},"yAxis":{"title":{"text":"Portfolio Value ($)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":true},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"name":"equally_weighted","data":[{"date":"2023-01-03","Portfolio":"equally_weighted","Value":999916.8421192169,"x":1672704000000,"y":999916.8421192169},{"date":"2023-01-04","Portfolio":"equally_weighted","Value":1011080.494106293,"x":1672790400000,"y":1011080.494106293},{"date":"2023-01-05","Portfolio":"equally_weighted","Value":1004705.186641693,"x":1672876800000,"y":1004705.186641693},{"date":"2023-01-06","Portfolio":"equally_weighted","Value":1033481.128900528,"x":1672963200000,"y":1033481.128900528},{"date":"2023-01-09","Portfolio":"equally_weighted","Value":1039950.020719528,"x":1673222400000,"y":1039950.020719528},{"date":"2023-01-10","Portfolio":"equally_weighted","Value":1049661.529539108,"x":1673308800000,"y":1049661.529539108},{"date":"2023-01-11","Portfolio":"equally_weighted","Value":1061999.430376053,"x":1673395200000,"y":1061999.430376053},{"date":"2023-01-12","Portfolio":"equally_weighted","Value":1072789.337528229,"x":1673481600000,"y":1072789.337528229},{"date":"2023-01-13","Portfolio":"equally_weighted","Value":1082934.921928406,"x":1673568000000,"y":1082934.921928406},{"date":"2023-01-17","Portfolio":"equally_weighted","Value":1097268.598255157,"x":1673913600000,"y":1097268.598255157},{"date":"2023-01-18","Portfolio":"equally_weighted","Value":1078474.478557587,"x":1674000000000,"y":1078474.478557587},{"date":"2023-01-19","Portfolio":"equally_weighted","Value":1066073.371585846,"x":1674086400000,"y":1066073.371585846},{"date":"2023-01-20","Portfolio":"equally_weighted","Value":1097766.892791748,"x":1674172800000,"y":1097766.892791748},{"date":"2023-01-23","Portfolio":"equally_weighted","Value":1130160.109954834,"x":1674432000000,"y":1130160.109954834},{"date":"2023-01-24","Portfolio":"equally_weighted","Value":1137381.216499329,"x":1674518400000,"y":1137381.216499329},{"date":"2023-01-25","Portfolio":"equally_weighted","Value":1134463.19858551,"x":1674604800000,"y":1134463.19858551},{"date":"2023-01-26","Portfolio":"equally_weighted","Value":1157476.630081177,"x":1674691200000,"y":1157476.630081177},{"date":"2023-01-27","Portfolio":"equally_weighted","Value":1168098.463523865,"x":1674777600000,"y":1168098.463523865},{"date":"2023-01-30","Portfolio":"equally_weighted","Value":1134420.635784149,"x":1675036800000,"y":1134420.635784149},{"date":"2023-01-31","Portfolio":"equally_weighted","Value":1152291.70898056,"x":1675123200000,"y":1152291.70898056},{"date":"2023-02-01","Portfolio":"equally_weighted","Value":1177536.65655899,"x":1675209600000,"y":1177536.65655899},{"date":"2023-02-02","Portfolio":"equally_weighted","Value":1191434.602088928,"x":1675296000000,"y":1191434.602088928},{"date":"2023-02-03","Portfolio":"equally_weighted","Value":1186636.536701202,"x":1675382400000,"y":1186636.536701202},{"date":"2023-02-06","Portfolio":"equally_weighted","Value":1178668.906009674,"x":1675641600000,"y":1178668.906009674},{"date":"2023-02-07","Portfolio":"equally_weighted","Value":1211443.912502289,"x":1675728000000,"y":1211443.912502289},{"date":"2023-02-08","Portfolio":"equally_weighted","Value":1202876.357063293,"x":1675814400000,"y":1202876.357063293},{"date":"2023-02-09","Portfolio":"equally_weighted","Value":1206355.160503387,"x":1675900800000,"y":1206355.160503387},{"date":"2023-02-10","Portfolio":"equally_weighted","Value":1203515.626819611,"x":1675987200000,"y":1203515.626819611},{"date":"2023-02-13","Portfolio":"equally_weighted","Value":1221059.205955505,"x":1676246400000,"y":1221059.205955505},{"date":"2023-02-14","Portfolio":"equally_weighted","Value":1236423.094783783,"x":1676332800000,"y":1236423.094783783},{"date":"2023-02-15","Portfolio":"equally_weighted","Value":1238124.496181488,"x":1676419200000,"y":1238124.496181488},{"date":"2023-02-16","Portfolio":"equally_weighted","Value":1216766.131057739,"x":1676505600000,"y":1216766.131057739},{"date":"2023-02-17","Portfolio":"equally_weighted","Value":1196976.17804718,"x":1676592000000,"y":1196976.17804718},{"date":"2023-02-21","Portfolio":"equally_weighted","Value":1177317.201507568,"x":1676937600000,"y":1177317.201507568},{"date":"2023-02-22","Portfolio":"equally_weighted","Value":1171122.2057724,"x":1677024000000,"y":1171122.2057724},{"date":"2023-02-23","Portfolio":"equally_weighted","Value":1221567.784484863,"x":1677110400000,"y":1221567.784484863},{"date":"2023-02-24","Portfolio":"equally_weighted","Value":1210266.837852478,"x":1677196800000,"y":1210266.837852478},{"date":"2023-02-27","Portfolio":"equally_weighted","Value":1214177.681324005,"x":1677456000000,"y":1214177.681324005},{"date":"2023-02-28","Portfolio":"equally_weighted","Value":1207867.465732574,"x":1677542400000,"y":1207867.465732574},{"date":"2023-03-01","Portfolio":"equally_weighted","Value":1193487.788017273,"x":1677628800000,"y":1193487.788017273},{"date":"2023-03-02","Portfolio":"equally_weighted","Value":1207261.773395538,"x":1677715200000,"y":1207261.773395538},{"date":"2023-03-03","Portfolio":"equally_weighted","Value":1231200.337284088,"x":1677801600000,"y":1231200.337284088},{"date":"2023-03-06","Portfolio":"equally_weighted","Value":1233267.599430084,"x":1678060800000,"y":1233267.599430084},{"date":"2023-03-07","Portfolio":"equally_weighted","Value":1216587.603534698,"x":1678147200000,"y":1216587.603534698},{"date":"2023-03-08","Portfolio":"equally_weighted","Value":1228871.134803772,"x":1678233600000,"y":1228871.134803772},{"date":"2023-03-09","Portfolio":"equally_weighted","Value":1207665.215953827,"x":1678320000000,"y":1207665.215953827},{"date":"2023-03-10","Portfolio":"equally_weighted","Value":1191714.052085876,"x":1678406400000,"y":1191714.052085876},{"date":"2023-03-13","Portfolio":"equally_weighted","Value":1193439.207393646,"x":1678665600000,"y":1193439.207393646},{"date":"2023-03-14","Portfolio":"equally_weighted","Value":1219060.795028687,"x":1678752000000,"y":1219060.795028687},{"date":"2023-03-15","Portfolio":"equally_weighted","Value":1212844.376228333,"x":1678838400000,"y":1212844.376228333},{"date":"2023-03-16","Portfolio":"equally_weighted","Value":1238727.062805176,"x":1678924800000,"y":1238727.062805176},{"date":"2023-03-17","Portfolio":"equally_weighted","Value":1239383.185619354,"x":1679011200000,"y":1239383.185619354},{"date":"2023-03-20","Portfolio":"equally_weighted","Value":1256038.178726196,"x":1679270400000,"y":1256038.178726196},{"date":"2023-03-21","Portfolio":"equally_weighted","Value":1275039.059318542,"x":1679356800000,"y":1275039.059318542},{"date":"2023-03-22","Portfolio":"equally_weighted","Value":1269468.167186737,"x":1679443200000,"y":1269468.167186737},{"date":"2023-03-23","Portfolio":"equally_weighted","Value":1283483.522155762,"x":1679529600000,"y":1283483.522155762},{"date":"2023-03-24","Portfolio":"equally_weighted","Value":1281223.720722198,"x":1679616000000,"y":1281223.720722198},{"date":"2023-03-27","Portfolio":"equally_weighted","Value":1282459.272426605,"x":1679875200000,"y":1282459.272426605},{"date":"2023-03-28","Portfolio":"equally_weighted","Value":1281227.038928986,"x":1679961600000,"y":1281227.038928986},{"date":"2023-03-29","Portfolio":"equally_weighted","Value":1302933.480846405,"x":1680048000000,"y":1302933.480846405},{"date":"2023-03-30","Portfolio":"equally_weighted","Value":1316856.067668915,"x":1680134400000,"y":1316856.067668915},{"date":"2023-03-31","Portfolio":"equally_weighted","Value":1332336.174690247,"x":1680220800000,"y":1332336.174690247},{"date":"2023-04-03","Portfolio":"equally_weighted","Value":1355629.403568268,"x":1680480000000,"y":1355629.403568268},{"date":"2023-04-04","Portfolio":"equally_weighted","Value":1340428.392868042,"x":1680566400000,"y":1340428.392868042},{"date":"2023-04-05","Portfolio":"equally_weighted","Value":1335617.854053497,"x":1680652800000,"y":1335617.854053497},{"date":"2023-04-06","Portfolio":"equally_weighted","Value":1337532.131690979,"x":1680739200000,"y":1337532.131690979},{"date":"2023-04-10","Portfolio":"equally_weighted","Value":1340021.338737488,"x":1681084800000,"y":1340021.338737488},{"date":"2023-04-11","Portfolio":"equally_weighted","Value":1331544.013233185,"x":1681171200000,"y":1331544.013233185},{"date":"2023-04-12","Portfolio":"equally_weighted","Value":1316810.412639618,"x":1681257600000,"y":1316810.412639618},{"date":"2023-04-13","Portfolio":"equally_weighted","Value":1328720.53805542,"x":1681344000000,"y":1328720.53805542},{"date":"2023-04-14","Portfolio":"equally_weighted","Value":1332069.061698914,"x":1681430400000,"y":1332069.061698914},{"date":"2023-04-17","Portfolio":"equally_weighted","Value":1334996.542644501,"x":1681689600000,"y":1334996.542644501},{"date":"2023-04-18","Portfolio":"equally_weighted","Value":1354968.035919189,"x":1681776000000,"y":1354968.035919189},{"date":"2023-04-19","Portfolio":"equally_weighted","Value":1361306.015216827,"x":1681862400000,"y":1361306.015216827},{"date":"2023-04-20","Portfolio":"equally_weighted","Value":1344378.309116364,"x":1681948800000,"y":1344378.309116364},{"date":"2023-04-21","Portfolio":"equally_weighted","Value":1343580.814975739,"x":1682035200000,"y":1343580.814975739},{"date":"2023-04-24","Portfolio":"equally_weighted","Value":1349835.7407341,"x":1682294400000,"y":1349835.7407341},{"date":"2023-04-25","Portfolio":"equally_weighted","Value":1326669.137649536,"x":1682380800000,"y":1326669.137649536},{"date":"2023-04-26","Portfolio":"equally_weighted","Value":1335453.808250427,"x":1682467200000,"y":1335453.808250427},{"date":"2023-04-27","Portfolio":"equally_weighted","Value":1353563.164058685,"x":1682553600000,"y":1353563.164058685},{"date":"2023-04-28","Portfolio":"equally_weighted","Value":1368094.490089417,"x":1682640000000,"y":1368094.490089417}],"type":"line"},{"name":"nvda_only","data":[{"date":"2023-01-03","Portfolio":"nvda_only","Value":999999.4426250458,"x":1672704000000,"y":999999.4426250458},{"date":"2023-01-04","Portfolio":"nvda_only","Value":1030317.383197784,"x":1672790400000,"y":1030317.383197784},{"date":"2023-01-05","Portfolio":"nvda_only","Value":996506.6629981995,"x":1672876800000,"y":996506.6629981995},{"date":"2023-01-06","Portfolio":"nvda_only","Value":1038001.631727219,"x":1672963200000,"y":1038001.631727219},{"date":"2023-01-09","Portfolio":"nvda_only","Value":1091721.429162979,"x":1673222400000,"y":1091721.429162979},{"date":"2023-01-10","Portfolio":"nvda_only","Value":1111351.137369156,"x":1673308800000,"y":1111351.137369156},{"date":"2023-01-11","Portfolio":"nvda_only","Value":1117777.958562851,"x":1673395200000,"y":1117777.958562851},{"date":"2023-01-12","Portfolio":"nvda_only","Value":1153404.844158173,"x":1673481600000,"y":1153404.844158173},{"date":"2023-01-13","Portfolio":"nvda_only","Value":1180509.240783691,"x":1673568000000,"y":1180509.240783691},{"date":"2023-01-17","Portfolio":"nvda_only","Value":1236604.541751862,"x":1673913600000,"y":1236604.541751862},{"date":"2023-01-18","Portfolio":"nvda_only","Value":1213901.107463837,"x":1674000000000,"y":1213901.107463837},{"date":"2023-01-19","Portfolio":"nvda_only","Value":1171148.444698334,"x":1674086400000,"y":1171148.444698334},{"date":"2023-01-20","Portfolio":"nvda_only","Value":1246174.697921753,"x":1674172800000,"y":1246174.697921753},{"date":"2023-01-23","Portfolio":"nvda_only","Value":1340760.917106628,"x":1674432000000,"y":1340760.917106628},{"date":"2023-01-24","Portfolio":"nvda_only","Value":1345790.626449585,"x":1674518400000,"y":1345790.626449585},{"date":"2023-01-25","Portfolio":"nvda_only","Value":1349842.077461243,"x":1674604800000,"y":1349842.077461243},{"date":"2023-01-26","Portfolio":"nvda_only","Value":1383303.419685364,"x":1674691200000,"y":1383303.419685364},{"date":"2023-01-27","Portfolio":"nvda_only","Value":1422632.978393555,"x":1674777600000,"y":1422632.978393555},{"date":"2023-01-30","Portfolio":"nvda_only","Value":1338595.173709869,"x":1675036800000,"y":1338595.173709869},{"date":"2023-01-31","Portfolio":"nvda_only","Value":1364791.587650299,"x":1675123200000,"y":1364791.587650299},{"date":"2023-02-01","Portfolio":"nvda_only","Value":1463010.004276276,"x":1675209600000,"y":1463010.004276276},{"date":"2023-02-02","Portfolio":"nvda_only","Value":1516520.174926758,"x":1675296000000,"y":1516520.174926758},{"date":"2023-02-03","Portfolio":"nvda_only","Value":1473977.53899765,"x":1675382400000,"y":1473977.53899765},{"date":"2023-02-06","Portfolio":"nvda_only","Value":1473209.440853119,"x":1675641600000,"y":1473209.440853119},{"date":"2023-02-07","Portfolio":"nvda_only","Value":1548934.049976349,"x":1675728000000,"y":1548934.049976349},{"date":"2023-02-08","Portfolio":"nvda_only","Value":1551169.135566711,"x":1675814400000,"y":1551169.135566711},{"date":"2023-02-09","Portfolio":"nvda_only","Value":1560390.447162628,"x":1675900800000,"y":1560390.447162628},{"date":"2023-02-10","Portfolio":"nvda_only","Value":1485503.811779022,"x":1675987200000,"y":1485503.811779022},{"date":"2023-02-13","Portfolio":"nvda_only","Value":1522039.013435364,"x":1676246400000,"y":1522039.013435364},{"date":"2023-02-14","Portfolio":"nvda_only","Value":1604679.572917938,"x":1676332800000,"y":1604679.572917938},{"date":"2023-02-15","Portfolio":"nvda_only","Value":1590219.058544159,"x":1676419200000,"y":1590219.058544159},{"date":"2023-02-16","Portfolio":"nvda_only","Value":1536988.390274048,"x":1676505600000,"y":1536988.390274048},{"date":"2023-02-17","Portfolio":"nvda_only","Value":1494096.509719849,"x":1676592000000,"y":1494096.509719849},{"date":"2023-02-21","Portfolio":"nvda_only","Value":1442891.300254822,"x":1676937600000,"y":1442891.300254822},{"date":"2023-02-22","Portfolio":"nvda_only","Value":1449807.117263794,"x":1677024000000,"y":1449807.117263794},{"date":"2023-02-23","Portfolio":"nvda_only","Value":1653090.158630371,"x":1677110400000,"y":1653090.158630371},{"date":"2023-02-24","Portfolio":"nvda_only","Value":1626684.384605408,"x":1677196800000,"y":1626684.384605408},{"date":"2023-02-27","Portfolio":"nvda_only","Value":1641703.503688812,"x":1677456000000,"y":1641703.503688812},{"date":"2023-02-28","Portfolio":"nvda_only","Value":1621794.559803009,"x":1677542400000,"y":1621794.559803009},{"date":"2023-03-01","Portfolio":"nvda_only","Value":1585608.736122131,"x":1677628800000,"y":1585608.736122131},{"date":"2023-03-02","Portfolio":"nvda_only","Value":1628640.234516144,"x":1677715200000,"y":1628640.234516144},{"date":"2023-03-03","Portfolio":"nvda_only","Value":1668877.909259796,"x":1677801600000,"y":1668877.909259796},{"date":"2023-03-06","Portfolio":"nvda_only","Value":1645406.110126495,"x":1678060800000,"y":1645406.110126495},{"date":"2023-03-07","Portfolio":"nvda_only","Value":1627100.571117401,"x":1678147200000,"y":1627100.571117401},{"date":"2023-03-08","Portfolio":"nvda_only","Value":1689493.210067749,"x":1678233600000,"y":1689493.210067749},{"date":"2023-03-09","Portfolio":"nvda_only","Value":1637441.092388153,"x":1678320000000,"y":1637441.092388153},{"date":"2023-03-10","Portfolio":"nvda_only","Value":1604533.020858765,"x":1678406400000,"y":1604533.020858765},{"date":"2023-03-13","Portfolio":"nvda_only","Value":1604602.763103485,"x":1678665600000,"y":1604602.763103485},{"date":"2023-03-14","Portfolio":"nvda_only","Value":1681248.689949036,"x":1678752000000,"y":1681248.689949036},{"date":"2023-03-15","Portfolio":"nvda_only","Value":1692777.096336365,"x":1678838400000,"y":1692777.096336365},{"date":"2023-03-16","Portfolio":"nvda_only","Value":1784514.418167114,"x":1678924800000,"y":1784514.418167114},{"date":"2023-03-17","Portfolio":"nvda_only","Value":1797370.327510834,"x":1679011200000,"y":1797370.327510834},{"date":"2023-03-20","Portfolio":"nvda_only","Value":1809597.356498718,"x":1679270400000,"y":1809597.356498718},{"date":"2023-03-21","Portfolio":"nvda_only","Value":1830488.0258255,"x":1679356800000,"y":1830488.0258255},{"date":"2023-03-22","Portfolio":"nvda_only","Value":1849282.560649872,"x":1679443200000,"y":1849282.560649872},{"date":"2023-03-23","Portfolio":"nvda_only","Value":1899797.681938171,"x":1679529600000,"y":1899797.681938171},{"date":"2023-03-24","Portfolio":"nvda_only","Value":1871011.737117767,"x":1679616000000,"y":1871011.737117767},{"date":"2023-03-27","Portfolio":"nvda_only","Value":1853684.723140717,"x":1679875200000,"y":1853684.723140717},{"date":"2023-03-28","Portfolio":"nvda_only","Value":1845230.30953598,"x":1679961600000,"y":1845230.30953598},{"date":"2023-03-29","Portfolio":"nvda_only","Value":1885334.900608063,"x":1680048000000,"y":1885334.900608063},{"date":"2023-03-30","Portfolio":"nvda_only","Value":1913212.329341888,"x":1680134400000,"y":1913212.329341888},{"date":"2023-03-31","Portfolio":"nvda_only","Value":1940740.780151367,"x":1680220800000,"y":1940740.780151367},{"date":"2023-04-03","Portfolio":"nvda_only","Value":1953876.191875458,"x":1680480000000,"y":1953876.191875458},{"date":"2023-04-04","Portfolio":"nvda_only","Value":1918103.220947266,"x":1680566400000,"y":1918103.220947266},{"date":"2023-04-05","Portfolio":"nvda_only","Value":1878138.514415741,"x":1680652800000,"y":1878138.514415741},{"date":"2023-04-06","Portfolio":"nvda_only","Value":1889037.907096863,"x":1680739200000,"y":1889037.907096863},{"date":"2023-04-10","Portfolio":"nvda_only","Value":1926906.745826721,"x":1681084800000,"y":1926906.745826721},{"date":"2023-04-11","Portfolio":"nvda_only","Value":1898260.552196503,"x":1681171200000,"y":1898260.552196503},{"date":"2023-04-12","Portfolio":"nvda_only","Value":1851169.201717377,"x":1681257600000,"y":1851169.201717377},{"date":"2023-04-13","Portfolio":"nvda_only","Value":1848933.582725525,"x":1681344000000,"y":1848933.582725525},{"date":"2023-04-14","Portfolio":"nvda_only","Value":1869544.482971191,"x":1681430400000,"y":1869544.482971191},{"date":"2023-04-17","Portfolio":"nvda_only","Value":1886592.394618988,"x":1681689600000,"y":1886592.394618988},{"date":"2023-04-18","Portfolio":"nvda_only","Value":1933055.264793396,"x":1681776000000,"y":1933055.264793396},{"date":"2023-04-19","Portfolio":"nvda_only","Value":1951500.421642303,"x":1681862400000,"y":1951500.421642303},{"date":"2023-04-20","Portfolio":"nvda_only","Value":1893719.171916962,"x":1681948800000,"y":1893719.171916962},{"date":"2023-04-21","Portfolio":"nvda_only","Value":1894767.039142609,"x":1682035200000,"y":1894767.039142609},{"date":"2023-04-24","Portfolio":"nvda_only","Value":1889387.418422699,"x":1682294400000,"y":1889387.418422699},{"date":"2023-04-25","Portfolio":"nvda_only","Value":1833422.534118652,"x":1682380800000,"y":1833422.534118652},{"date":"2023-04-26","Portfolio":"nvda_only","Value":1883378.517295837,"x":1682467200000,"y":1883378.517295837},{"date":"2023-04-27","Portfolio":"nvda_only","Value":1902243.194416046,"x":1682553600000,"y":1902243.194416046},{"date":"2023-04-28","Portfolio":"nvda_only","Value":1938784.530189514,"x":1682640000000,"y":1938784.530189514}],"type":"line"}],"xAxis":{"type":"datetime","title":{"text":"Date"}},"tooltip":{"pointFormat":"{series.name}: ${point.y:,.0f}"}},"theme":{"colors":["#d35400","#2980b9","#2ecc71","#f1c40f","#2c3e50","#7f8c8d"],"chart":{"style":{"fontFamily":"Roboto","color":"#666666"}},"title":{"align":"left","style":{"fontFamily":"Roboto Condensed","fontWeight":"bold"}},"subtitle":{"align":"left","style":{"fontFamily":"Roboto Condensed"}},"legend":{"align":"right","verticalAlign":"bottom"},"xAxis":{"gridLineWidth":1,"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"yAxis":{"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"plotOptions":{"line":{"marker":{"enabled":false}},"spline":{"marker":{"enabled":false}},"area":{"marker":{"enabled":false}},"areaspline":{"marker":{"enabled":false}},"arearange":{"marker":{"enabled":false}},"bubble":{"maxSize":"10%"}}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":["Roboto","Roboto+Condensed"],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="exercises" class="level2">
<h2 class="anchored" data-anchor-id="exercises">Exercises</h2>
<ol type="1">
<li><p>Suppose we use the following portfolio weights: XOM (20%), WMT (30%), NVDA (30%), and AAPL (20%).</p>
<ul>
<li>Recalculate how many shares you would purchase initially.</li>
<li>Compute and visualize the portfolio value and returns.</li>
</ul></li>
<li><p>Change the budget to $500,000 and use portfolio weights: XOM (25%), WMT (25%), NVDA (25%), and AAPL (25%).</p>
<ul>
<li>Recalculate the shares purchased, portfolio value, and returns.</li>
<li>Provide an interactive visualization for this scenario.</li>
</ul></li>
</ol>
<hr>
<p>Happy coding! 🚀 This version will be continuously updated.</p>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This website is built with <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>
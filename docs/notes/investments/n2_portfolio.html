<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Asst. Prof.&nbsp;Calvin J. Chiou">

<title>R Note 2 - Portfolio Formation using R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../..//img/nccu_logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/quarto-contrib/academicons-1.9.2/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/academicons-1.9.2/size.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="application/json" class="js-hypothesis-config">
{
  "theme": "clean"
}
</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<link href="../../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../../site_libs/datatables-binding-0.33/datatables.js"></script>
<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<script src="../../site_libs/proj4js-2.3.15/proj4.js"></script>
<link href="../../site_libs/highcharts-9.3.1/css/motion.css" rel="stylesheet">
<script src="../../site_libs/highcharts-9.3.1/highcharts.js"></script>
<script src="../../site_libs/highcharts-9.3.1/highcharts-3d.js"></script>
<script src="../../site_libs/highcharts-9.3.1/highcharts-more.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/stock.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/map.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/data.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/exporting.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/offline-exporting.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/drilldown.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/item-series.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/annotations.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/export-data.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/funnel.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/heatmap.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/treemap.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/sankey.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/dependency-wheel.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/organization.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/solid-gauge.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/streamgraph.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/sunburst.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/vector.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/wordcloud.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/xrange.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/tilemap.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/venn.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/gantt.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/timeline.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/bullet.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/coloraxis.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/dumbbell.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/lollipop.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/series-label.js"></script>
<script src="../../site_libs/highcharts-9.3.1/plugins/motion.js"></script>
<script src="../../site_libs/highcharts-9.3.1/custom/reset.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/boost.js"></script>
<script src="../../site_libs/highchart-binding-0.9.4/highchart.js"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../img/nccu_logo.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">Resume</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources.html"> 
<span class="menu-text">Resources</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/calvinchiou1992/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/calvinchiou"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:jjchiou@nccu.edu.tw"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://scholar.google.com.tw/citations?user=WvORrXMAAAAJ&amp;hl=en"> 
<span class="menu-text"><i class="ai  ai-google-scholar"></i></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#course-information" id="toc-course-information" class="nav-link active" data-scroll-target="#course-information">Course Information</a></li>
  <li><a href="#fetching-stock-data" id="toc-fetching-stock-data" class="nav-link" data-scroll-target="#fetching-stock-data">1. Fetching Stock Data</a></li>
  <li><a href="#constructing-an-equally-weighted-portfolio" id="toc-constructing-an-equally-weighted-portfolio" class="nav-link" data-scroll-target="#constructing-an-equally-weighted-portfolio">2. Constructing an Equally Weighted Portfolio</a></li>
  <li><a href="#portfolio-valuation-and-return-calculation" id="toc-portfolio-valuation-and-return-calculation" class="nav-link" data-scroll-target="#portfolio-valuation-and-return-calculation">3. Portfolio Valuation and Return Calculation</a>
  <ul class="collapse">
  <li><a href="#portfolio-value" id="toc-portfolio-value" class="nav-link" data-scroll-target="#portfolio-value">Portfolio Value</a></li>
  <li><a href="#portfolio-returns" id="toc-portfolio-returns" class="nav-link" data-scroll-target="#portfolio-returns">Portfolio Returns</a></li>
  <li><a href="#a.-calculating-returns-from-the-net-value-of-portfolio" id="toc-a.-calculating-returns-from-the-net-value-of-portfolio" class="nav-link" data-scroll-target="#a.-calculating-returns-from-the-net-value-of-portfolio">A. Calculating returns from the net value of portfolio</a></li>
  <li><a href="#b.-calculating-returns-directly-from-portfolio-securities" id="toc-b.-calculating-returns-directly-from-portfolio-securities" class="nav-link" data-scroll-target="#b.-calculating-returns-directly-from-portfolio-securities">B. Calculating returns directly from portfolio securities</a></li>
  <li><a href="#portfolio-volatility" id="toc-portfolio-volatility" class="nav-link" data-scroll-target="#portfolio-volatility">Portfolio Volatility</a></li>
  </ul></li>
  <li><a href="#visualizing-portfolio-value-with-highcharter" id="toc-visualizing-portfolio-value-with-highcharter" class="nav-link" data-scroll-target="#visualizing-portfolio-value-with-highcharter">4. Visualizing Portfolio Value with <code>highcharter</code></a></li>
  <li><a href="#buy-and-hold-returns" id="toc-buy-and-hold-returns" class="nav-link" data-scroll-target="#buy-and-hold-returns">5. Buy-and-Hold Returns</a>
  <ul class="collapse">
  <li><a href="#calculation" id="toc-calculation" class="nav-link" data-scroll-target="#calculation">Calculation</a></li>
  </ul></li>
  <li><a href="#portfolio-comparison-equally-weighted-portfolio-vs.-100-nvda-portfolio" id="toc-portfolio-comparison-equally-weighted-portfolio-vs.-100-nvda-portfolio" class="nav-link" data-scroll-target="#portfolio-comparison-equally-weighted-portfolio-vs.-100-nvda-portfolio">6. Portfolio Comparison: Equally Weighted Portfolio vs.&nbsp;100% NVDA Portfolio</a>
  <ul class="collapse">
  <li><a href="#visualization-of-both-portfolios" id="toc-visualization-of-both-portfolios" class="nav-link" data-scroll-target="#visualization-of-both-portfolios">Visualization of Both Portfolios</a></li>
  </ul></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">R Note 2 - Portfolio Formation using R</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Asst. Prof.&nbsp;Calvin J. Chiou <a href="mailto:jjchiou@nccu.edu.tw" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            National Chengchi University (NCCU)
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  


</header>


<section id="course-information" class="level2">
<h2 class="anchored" data-anchor-id="course-information">Course Information</h2>
<ul>
<li><p><strong>Course Name:</strong> Investments | 000351051</p></li>
<li><p><strong>Semester:</strong> Spring 2025</p></li>
</ul>
</section>
<section id="fetching-stock-data" class="level2">
<h2 class="anchored" data-anchor-id="fetching-stock-data">1. Fetching Stock Data</h2>
<p>We use R to create an equally weighted portfolio consisting of four stocks: ExxonMobil (XOM), Walmart (WMT), NVIDIA (NVDA), and Apple (AAPL). Using <code>tidyquant</code> to fetch stock prices via <a href="https://finance.yahoo.com/">Yahoo Finance</a>. Note that the corresponding ticker for a given stock can be found on its website.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyquant)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define stock tickers and date range</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>stocks <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"XOM"</span>, <span class="st">"WMT"</span>, <span class="st">"NVDA"</span>, <span class="st">"AAPL"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>start_date <span class="ot">&lt;-</span> <span class="st">"2023-01-01"</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>end_date <span class="ot">&lt;-</span> <span class="st">"2023-04-30"</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Download stock prices</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>prices <span class="ot">&lt;-</span> <span class="fu">tq_get</span>(stocks, <span class="at">from =</span> start_date, <span class="at">to =</span> end_date)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print out interactive table</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(prices) <span class="sc">|&gt;</span> </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"open"</span>,<span class="st">"high"</span>,<span class="st">"low"</span>,<span class="st">"close"</span>,<span class="st">"adjusted"</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-ced06d8b71fde73a504b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ced06d8b71fde73a504b">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324"],["XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL"],["2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28"],[109.7799987792969,104.8000030517578,106.3399963378906,110.0800018310547,111.6399993896484,109.7900009155273,110.9899978637695,111.8199996948242,113.1100006103516,113.4100036621094,113.2600021362305,110.0699996948242,111.3600006103516,113.6399993896484,109.1600036621094,113.2300033569336,114.7200012207031,116.9499969482422,115.0899963378906,112.0999984741211,115.8300018310547,114.8499984741211,111.9000015258789,112.3600006103516,112.3899993896484,115.0500030517578,114.620002746582,116.5100021362305,117.7200012207031,117.0100021362305,115.7200012207031,115.3099975585938,114.1900024414062,110.8099975585938,110.4800033569336,110.7300033569336,109.3300018310547,110.8000030517578,111.2399978637695,109.3099975585938,110.620002746582,110.0500030517578,111.9899978637695,112.8099975585938,111.2300033569336,110.870002746582,109.5599975585938,105.3399963378906,106.3499984741211,102.8199996948242,99.11000061035156,100.5999984741211,99.62999725341797,104.1699981689453,106.8000030517578,105.3600006103516,101.4700012207031,104.7399978637695,105.4400024414062,108.0599975585938,109.5500030517578,109.6800003051758,113.3899993896484,116.2600021362305,115.3499984741211,116.8600006103516,114.7799987792969,114.9599990844727,116.1600036621094,114.5999984741211,115.9000015258789,115.4899978637695,114.3899993896484,116.0800018310547,115.129997253418,116.4899978637695,115.9199981689453,117.5500030517578,116.0299987792969,115.620002746582,117.25,47.51666641235352,47.80666732788086,47.81999969482422,48.20000076293945,48.77333450317383,48.31333160400391,48.58000183105469,48.8033332824707,48.5099983215332,48.43000030517578,48.06666564941406,47.13000106811523,46.46666717529297,46.81999969482422,48.84999847412109,47.41333389282227,47.67666625976562,47.53333282470703,47.37333297729492,47.43999862670898,47.88666534423828,48.13666534423828,47.78666687011719,47.27333450317383,46.59000015258789,46.77666854858398,46.95666885375977,47.6966667175293,48.23666763305664,48.57666778564453,48.31999969482422,48.49333190917969,48.36999893188477,47.62666702270508,48.92333221435547,48.12333297729492,46.9466667175293,47.56999969482422,47,47.02000045776367,46.61333465576172,47.01333236694336,46.83333206176758,47.06000137329102,46.18666839599609,46.27666854858398,45.67333221435547,45.56000137329102,45.89666748046875,45.63000106811523,46.47666549682617,46.06333160400391,46.70000076293945,47.13000106811523,46.88000106811523,46.73333358764648,47.00333404541016,47.5966682434082,47.88333129882812,48.12333297729492,48.5,48.86000061035156,49.24333190917969,49.5099983215332,49.05666732788086,49.59999847412109,50.11999893188477,50.33333206176758,49.93000030517578,49.88333129882812,49.67666625976562,49.54666519165039,49.92666625976562,50.27999877929688,50.06999969482422,50.6533317565918,50.56999969482422,51.0966682434082,50.32666778564453,50.2599983215332,50.43000030517578,14.85099983215332,14.56700038909912,14.49100017547607,14.47399997711182,15.28400039672852,15.50699996948242,15.84000015258789,16.10000038146973,16.27799987792969,16.89900016784668,17.66699981689453,17.0359992980957,17.01099967956543,18.06399917602539,18.82699966430664,18.91300010681152,19.70100021362305,19.46199989318848,19.95000076293945,19.17000007629395,19.69099998474121,21,21,20.80599975585938,21.38199996948242,22.38699913024902,22.60600090026855,21.69000053405762,21.53800010681152,21.57799911499023,22.54899978637695,22.13299942016602,21.63100051879883,21,20.70700073242188,23.44000053405762,23.22500038146973,23.67000007629395,23.37199974060059,23.1919994354248,22.48800086975098,23.31999969482422,23.89100074768066,23.60000038146973,23.48699951171875,24.17499923706055,23.40900039672852,22.75200080871582,23.49600028991699,23.76099967956543,24.02700042724609,25.98200035095215,25.61499977111816,26.18000030517578,26.42499923706055,27.11499977111816,27.0310001373291,26.83699989318848,26.44700050354004,26.82500076293945,27.22900009155273,27.13999938964844,27.50900077819824,27.96599960327148,26.82900047302246,26.58399963378906,26.82299995422363,27.72400093078613,27.3700008392334,26.73399925231934,26.50399971008301,26.56500053405762,27.53300094604492,27.36100006103516,27.67099952697754,26.95199966430664,27.01300048828125,27.07799911499023,27.00200080871582,27.36300086975098,27.22500038146973,130.2799987792969,126.8899993896484,127.129997253418,126.0100021362305,130.4700012207031,130.2599945068359,131.25,133.8800048828125,132.0299987792969,134.8300018310547,136.8200073242188,134.0800018310547,135.2799987792969,138.1199951171875,140.3099975585938,140.8899993896484,143.1699981689453,143.1600036621094,144.9600067138672,142.6999969482422,143.9700012207031,148.8999938964844,148.0299987792969,152.5700073242188,150.6399993896484,153.8800048828125,153.7799987792969,149.4600067138672,150.9499969482422,152.1199951171875,153.1100006103516,153.5099945068359,152.3500061035156,150.1999969482422,148.8699951171875,150.0899963378906,147.1100006103516,147.7100067138672,147.0500030517578,146.8300018310547,144.3800048828125,148.0399932861328,153.7899932861328,153.6999969482422,152.8099975585938,153.5599975585938,150.2100067138672,147.8099975585938,151.2799987792969,151.1900024414062,152.1600036621094,156.0800018310547,155.0700073242188,157.3200073242188,159.3000030517578,158.8300018310547,158.8600006103516,159.9400024414062,157.9700012207031,159.3699951171875,161.5299987792969,162.4400024414062,164.2700042724609,166.6000061035156,164.7400054931641,162.4299926757812,161.4199981689453,162.3500061035156,161.2200012207031,161.6300048828125,164.5899963378906,165.0899963378906,166.1000061035156,165.8000030517578,166.0899963378906,165.0500030517578,165,165.1900024414062,163.0599975585938,165.1900024414062,168.4900054931641],[110.0199966430664,107.1600036621094,109.9499969482422,111.9899978637695,111.6399993896484,110.3300018310547,111.4499969482422,113.7399978637695,113.4899978637695,114.0800018310547,114.120002746582,112.129997253418,113.4400024414062,114.5899963378906,114.0199966430664,113.6500015258789,117.7799987792969,117.6699981689453,115.4899978637695,116.4000015258789,117.379997253418,115.0699996948242,114.1100006103516,113.0899963378906,115.3099975585938,115.8300018310547,116.2399978637695,119.629997253418,118.1800003051758,117.8099975585938,116.0899963378906,116.7799987792969,114.1900024414062,112.379997253418,110.9700012207031,111.8300018310547,110.9599990844727,111.2600021362305,111.3600006103516,111.8600006103516,111.6999969482422,113.370002746582,113.8399963378906,113.1699981689453,112.4199981689453,112.2300033569336,111.0400009155273,107.8600006103516,109.0100021362305,104.1999969482422,101.6800003051758,101.6100006103516,102.4800033569336,107.2799987792969,107.1800003051758,106.3399963378906,103.8499984741211,106.4800033569336,107.6500015258789,109.1600036621094,109.5699996948242,110.1699981689453,116.8499984741211,116.6999969482422,117,117.1800003051758,116.1800003051758,116.1999969482422,116.5899963378906,115.8899993896484,116.6600036621094,116.5100021362305,117.2099990844727,116.9000015258789,115.6800003051758,116.879997253418,118.8899993896484,117.7399978637695,117.0899963378906,117.0100021362305,119.9199981689453,47.9033317565918,48.01666641235352,48.04333114624023,49.18333435058594,49.28666687011719,48.48333358764648,48.72666549682617,48.80666732788086,48.60666656494141,48.56999969482422,48.08333206176758,47.17666625976562,46.92666625976562,47.66999816894531,48.84999847412109,47.61333465576172,47.91666793823242,48.15666580200195,47.48333358764648,47.95999908447266,48.53666687011719,48.28666687011719,47.98666763305664,47.36666870117188,47.09999847412109,47.03333282470703,47.31333160400391,47.97999954223633,48.70666885375977,49.04333114624023,48.86666870117188,48.66333389282227,48.89666748046875,49.4466667175293,49.18999862670898,48.12333297729492,47.58000183105469,47.6966667175293,47.54999923706055,47.09333419799805,46.91333389282227,47.06333160400391,46.99333190917969,47.22666549682617,46.30666732788086,46.32666778564453,46.09333419799805,46.16666793823242,46.09000015258789,46.60333251953125,46.54999923706055,46.49666595458984,47.30666732788086,47.13000106811523,47.07333374023438,47.20333480834961,47.4900016784668,48.32666778564453,48.13666534423828,48.31999969482422,48.86666870117188,49.47999954223633,49.65000152587891,49.5966682434082,49.95999908447266,50.3466682434082,50.37333297729492,50.33333206176758,50.32333374023438,50,49.96333312988281,49.88999938964844,50.11333465576172,50.47000122070312,50.46333312988281,50.76666641235352,50.98333358764648,51.25,50.47000122070312,50.64666748046875,50.72333145141602,14.99600028991699,14.85299968719482,14.56400012969971,15.01000022888184,16.05599975585938,15.96199989318848,16.02799987792969,16.63699913024902,16.92200088500977,17.72800064086914,17.87299919128418,17.19700050354004,17.85600090026855,19.2450008392334,19.4950008392334,19.3700008392334,20.16600036621094,20.62800025939941,20.13999938964844,19.6870002746582,21.1919994354248,21.94899940490723,21.7450008392334,21.56999969482422,22.25900077819824,22.87800025939941,23.02000045776367,22.07799911499023,22.04800033569336,23.04899978637695,22.85499954223633,22.54999923706055,21.73999977111816,21.49399948120117,21.10400009155273,23.88800048828125,23.47400093078613,23.8799991607666,23.82500076293945,23.25600051879883,23.3799991607666,23.89999961853027,24.24799919128418,24.125,24.20000076293945,24.45400047302246,23.62700080871582,23.29800033569336,24.2189998626709,24.2859992980957,25.58799934387207,26.39900016784668,26.02400016784668,26.39200019836426,27.5890007019043,27.49900054931641,27.16699981689453,27,26.51300048828125,27.07799911499023,27.49900054931641,27.83399963378906,28,28,26.99799919128418,27.07999992370605,27.62100028991699,27.79000091552734,27.4680004119873,26.88699913024902,26.88299942016602,27.00600051879883,28.11000061035156,28,28.03000068664551,27.1830005645752,27.36599922180176,27.24699974060059,27.32999992370605,27.4950008392334,27.75799942016602,130.8999938964844,128.6600036621094,127.7699966430664,130.2899932861328,133.4100036621094,131.2599945068359,133.5099945068359,134.2599945068359,134.9199981689453,137.2899932861328,138.6100006103516,136.25,138.0200042724609,143.3200073242188,143.1600036621094,142.4299926757812,144.25,147.2299957275391,145.5500030517578,144.3399963378906,146.6100006103516,151.1799926757812,157.3800048828125,153.1000061035156,155.2299957275391,154.5800018310547,154.3300018310547,151.3399963378906,154.2599945068359,153.7700042724609,155.5,156.3300018310547,153,151.3000030517578,149.9499969482422,150.3399963378906,147.1900024414062,149.1699981689453,149.0800018310547,147.2299957275391,146.7100067138672,151.1100006103516,156.3000030517578,154.0299987792969,153.4700012207031,154.5399932861328,150.9400024414062,153.1399993896484,153.3999938964844,153.25,156.4600067138672,156.7400054931641,157.8200073242188,159.3999938964844,162.1399993896484,161.5500030517578,160.3399963378906,160.7700042724609,158.4900054931641,161.0500030517578,162.4700012207031,165,166.2899932861328,166.8399963378906,165.0500030517578,164.9600067138672,162.0299987792969,162.3600006103516,162.0599975585938,165.8000030517578,166.3200073242188,165.3899993896484,167.4100036621094,168.1600036621094,167.8699951171875,166.4499969482422,165.6000061035156,166.3099975585938,165.2799987792969,168.5599975585938,169.8500061035156],[105.4899978637695,104.7600021362305,106.3099975585938,109.6699981689453,107.8099975585938,108.0100021362305,109.0899963378906,111.7399978637695,112.1600036621094,112.6699981689453,110.4000015258789,109.5800018310547,110.6100006103516,112.6399993896484,104.870002746582,111.3899993896484,114.3399963378906,115.3899993896484,113.1500015258789,110.4300003051758,113.3399963378906,109.8300018310547,111.5599975585938,110.3199996948242,112.0199966430664,113.8499984741211,114.1800003051758,116.1600036621094,115.9000015258789,116.0199966430664,114.1399993896484,114.8000030517578,110.9800033569336,110.8099975585938,108.6399993896484,109.9000015258789,109.0199966430664,109.9599990844727,109.2200012207031,109.2399978637695,110.1699981689453,109.9499969482422,111.870002746582,111.1699981689453,109.0699996948242,109.0299987792969,107.1500015258789,103.7200012207031,104.9599990844727,100.2200012207031,98.01999664306641,99.13999938964844,99.5,104.129997253418,104.5599975585938,102.4400024414062,100.9100036621094,103.9100036621094,105.1900024414062,107.4899978637695,108.5199966430664,109.0500030517578,113.120002746582,114.1699981689453,114.3099975585938,114.7699966430664,114.1699981689453,114.379997253418,114.9300003051758,114.129997253418,115.120002746582,114.4199981689453,114.3000030517578,115.7699966430664,113.2300033569336,115.2600021362305,115.879997253418,115.629997253418,114.6800003051758,114.879997253418,116.8300018310547,47.36333465576172,47.35666656494141,47.54999923706055,48.08000183105469,48.26666641235352,47.90999984741211,48.24333190917969,48.13000106811523,47.95333480834961,48.06666564941406,46.82666778564453,46.26333236694336,46.05666732788086,46.73333358764648,47,46.79666519165039,47.25333404541016,47.25,47.09000015258789,47.22000122070312,47.56666564941406,47.64666748046875,46.95333480834961,46.67666625976562,46.22999954223633,46.66333389282227,46.85666656494141,47.38999938964844,48.16999816894531,48.18666839599609,48.18666839599609,48.06000137329102,48.18999862670898,47.38333129882812,47.58666610717773,46.9033317565918,46.5099983215332,46.88666534423828,46.98333358764648,46.45666885375977,46.5,46.59000015258789,46.67333221435547,46.26333236694336,45.7599983215332,45.63999938964844,45.36333465576172,45.52666854858398,45.66666793823242,45.56999969482422,45.95999908447266,45.86333465576172,46.60333251953125,46.5099983215332,46.48666763305664,46.49666595458984,46.86666870117188,47.59333419799805,47.68333435058594,47.81666564941406,48.34000015258789,48.82333374023438,49.16666793823242,49.00666809082031,49.04666519165039,49.50666809082031,49.92333221435547,49.87333297729492,49.72333145141602,49.40000152587891,49.38333129882812,49.5,49.81333160400391,49.92333221435547,49.86666870117188,50.39333343505859,50.56999969482422,50.44333267211914,50.07333374023438,50.2599983215332,50.06000137329102,14.0959997177124,14.24100017547607,14.14799976348877,14.03400039672852,15.14099979400635,15.47200012207031,15.5629997253418,15.49199962615967,16.16500091552734,16.89900016784668,17.2819995880127,16.73100090026855,16.82500076293945,17.81800079345703,18.81999969482422,18.57999992370605,19.27799987792969,19.40500068664551,19.14999961853027,18.95000076293945,19.61100006103516,20.70000076293945,20.78899955749512,20.7859992980957,21.14999961853027,22.00799942016602,22.1200008392334,20.81100082397461,20.96199989318848,21.36599922180176,22.10600090026855,21.92700004577637,20.97500038146973,20.61800003051758,20.42099952697754,23.02499961853027,22.94700050354004,23.45400047302246,23.20599937438965,22.50799942016602,22.43199920654297,23.1299991607666,23.48699951171875,23.24099922180176,23.42399978637695,23.38299942016602,22.72599983215332,22.29700088500977,23.45999908447266,23.36000061035156,23.89399909973145,25.66799926757812,25.1299991607666,25.38100051879883,26.23699951171875,26.69000053405762,26.35499954223633,26.36499977111816,25.85000038146973,26.59700012207031,27.10199928283691,27.10499954223633,27.33600044250488,27.30699920654297,26.39500045776367,26.42700004577637,26.66900062561035,27.12599945068359,26.44799995422363,26.32900047302246,26.21999931335449,26.4330005645752,27.35700035095215,27.23200035095215,27,26.72200012207031,26.67099952697754,26.22500038146973,26.70499992370605,26.625,27.07099914550781,124.1699981689453,125.0800018310547,124.7600021362305,124.8899993896484,129.8899993896484,128.1199951171875,130.4600067138672,131.4400024414062,131.6600036621094,134.1300048828125,135.0299987792969,133.7700042724609,134.2200012207031,137.8999938964844,140.3000030517578,138.8099975585938,141.8999938964844,143.0800018310547,142.8500061035156,142.2799987792969,141.3200073242188,148.1699981689453,147.8300018310547,150.7799987792969,150.6399993896484,151.1699981689453,150.4199981689453,149.2200012207031,150.9199981689453,150.8600006103516,152.8800048828125,153.3500061035156,150.8500061035156,148.4100036621094,147.1600036621094,147.2400054931641,145.7200012207031,147.4499969482422,146.8300018310547,145.0099945068359,143.8999938964844,147.3300018310547,153.4600067138672,151.1300048828125,151.8300018310547,150.2299957275391,147.6100006103516,147.6999969482422,150.1000061035156,149.9199981689453,151.6399993896484,154.2799987792969,154.1499938964844,156.5399932861328,157.8099975585938,157.6799926757812,157.8500061035156,157.8699951171875,155.9799957275391,159.3500061035156,161.2700042724609,161.9100036621094,164.2200012207031,165.1100006103516,161.8000030517578,162,160.0800018310547,160.5099945068359,159.7799987792969,161.4199981689453,163.8200073242188,164.0299987792969,165.6499938964844,165.5399932861328,165.5599975585938,164.4900054931641,163.8899993896484,163.7299957275391,162.8000030517578,165.1900024414062,167.8800048828125],[106.5100021362305,106.8199996948242,109.2099990844727,110.5299987792969,108.4700012207031,110.0899963378906,111.370002746582,113.2200012207031,113.1500015258789,112.9300003051758,110.6100006103516,111.3199996948242,113.3499984741211,112.7600021362305,113.8099975585938,113.2099990844727,117.7600021362305,115.6100006103516,113.5599975585938,116.0100021362305,114.7399978637695,111.1500015258789,111.9199981689453,111.7300033569336,114.9199981689453,113.9199981689453,114.3499984741211,119.1699981689453,117.8000030517578,116.4199981689453,116.0699996948242,115.7300033569336,111.2799987792969,111.1699981689453,109.7300033569336,110.7399978637695,110.75,110.5500030517578,109.9100036621094,110.8899993896484,111.4000015258789,112.8099975585938,113.8099975585938,111.6100006103516,109.9800033569336,109.129997253418,107.7799987792969,106.5400009155273,106.9400024414062,101.620002746582,101.0299987792969,99.83999633789062,102.4499969482422,107.0400009155273,104.5899963378906,103.4100036621094,103.5299987792969,105.8000030517578,107.120002746582,108.9599990844727,109.4899978637695,109.6600036621094,116.129997253418,115.0199966430664,116.9899978637695,115.0500030517578,114.5400009155273,115.3499984741211,115.2300033569336,115.7699966430664,116.0500030517578,114.6999969482422,116.9400024414062,116.5699996948242,115.6399993896484,116.0100021362305,118.1999969482422,116.5199966430664,115.4499969482422,116.8300018310547,118.3399963378906,47.86666870117188,47.91999816894531,47.75666809082031,48.92666625976562,48.31666564941406,48.28666687011719,48.70999908447266,48.27000045776367,48.43000030517578,48.13666534423828,46.9466667175293,46.27666854858398,46.8466682434082,47.54666519165039,47.67333221435547,47.4466667175293,47.4033317565918,47.76666641235352,47.38333129882812,47.95666885375977,48.22333145141602,47.87333297729492,47.23666763305664,46.89333343505859,46.99333190917969,46.7400016784668,47.17333221435547,47.90666580200195,48.63666534423828,48.49666595458984,48.85666656494141,48.09000015258789,48.81333160400391,49.11000061035156,48.08000183105469,47.36333465576172,47.4900016784668,47.14666748046875,47.37666702270508,46.71666717529297,46.83333206176758,46.88999938964844,46.88333129882812,46.41666793823242,46.03333282470703,45.72333145141602,45.65666580200195,45.79000091552734,46.03333282470703,46.54666519165039,46.09333419799805,46.46666717529297,46.96666717529297,46.80666732788086,46.50666809082031,46.88333129882812,47.26666641235352,48.05666732788086,47.86999893188477,48.07666778564453,48.55666732788086,49.15000152587891,49.56333160400391,49.07666778564453,49.88999938964844,50.26666641235352,50.16999816894531,50.02333450317383,49.77999877929688,49.83000183105469,49.49333190917969,49.84000015258789,49.95000076293945,50.00333404541016,50.32333374023438,50.57666778564453,50.91999816894531,50.52333450317383,50.3033332824707,50.45999908447266,50.32333374023438,14.3149995803833,14.74899959564209,14.26500034332275,14.85900020599365,15.62800025939941,15.90900039672852,16.00099945068359,16.51099967956543,16.89900016784668,17.70199966430664,17.37700080871582,16.76499938964844,17.8390007019043,19.19300079345703,19.26499938964844,19.32299995422363,19.80200004577637,20.36499977111816,19.16200065612793,19.53700065612793,20.94300079345703,21.70899963378906,21.10000038146973,21.0890007019043,22.17300033569336,22.20499992370605,22.33699989318848,21.26499938964844,21.78800010681152,22.97100067138672,22.76399993896484,22.00200080871582,21.38800048828125,20.65500068664551,20.75399971008301,23.66399955749512,23.2859992980957,23.50099945068359,23.21599960327148,22.69799995422363,23.31399917602539,23.88999938964844,23.55400085449219,23.28800010681152,24.18099975585938,23.43600082397461,22.96500015258789,22.96599960327148,24.0629997253418,24.22800064086914,25.54100036621094,25.72500038146973,25.89999961853027,26.19899940490723,26.4680004119873,27.19099998474121,26.77899932861328,26.5310001373291,26.40999984741211,26.98399925231934,27.38299942016602,27.77700042724609,27.96500015258789,27.45299911499023,26.88100051879883,27.03700065612793,27.57900047302246,27.16900062561035,26.4950008392334,26.46299934387207,26.75799942016602,27.00200080871582,27.66699981689453,27.93099975585938,27.10400009155273,27.11899948120117,27.04199981689453,26.24099922180176,26.95599937438965,27.22599983215332,27.74900054931641,125.0699996948242,126.3600006103516,125.0199966430664,129.6199951171875,130.1499938964844,130.7299957275391,133.4900054931641,133.4100036621094,134.7599945068359,135.9400024414062,135.2100067138672,135.2700042724609,137.8699951171875,141.1100006103516,142.5299987792969,141.8600006103516,143.9600067138672,145.9299926757812,143,144.2899932861328,145.4299926757812,150.8200073242188,154.5,151.7299957275391,154.6499938964844,151.9199981689453,150.8699951171875,151.0099945068359,153.8500061035156,153.1999969482422,155.3300018310547,153.7100067138672,152.5500030517578,148.4799957275391,148.9100036621094,149.3999938964844,146.7100067138672,147.9199981689453,147.4100036621094,145.3099975585938,145.9100036621094,151.0299987792969,153.8300018310547,151.6000061035156,152.8699951171875,150.5899963378906,148.5,150.4700012207031,152.5899963378906,152.9900054931641,155.8500061035156,155,157.3999938964844,159.2799987792969,157.8300018310547,158.9299926757812,160.25,158.2799987792969,157.6499938964844,160.7700042724609,162.3600006103516,164.8999938964844,166.1699981689453,165.6300048828125,163.7599945068359,164.6600036621094,162.0299987792969,160.8000030517578,160.1000061035156,165.5599975585938,165.2100067138672,165.2299957275391,166.4700012207031,167.6300048828125,166.6499938964844,165.0200042724609,165.3300018310547,163.7700042724609,163.7599945068359,168.4100036621094,169.6799926757812],[15146200,18058400,15946600,16348100,17964600,15104600,16710400,15357300,12011400,16542200,16399700,12928000,16515600,16584400,13583000,11914700,21019700,15179200,18672100,27861800,19464900,24562100,20226600,13855200,16013300,18459700,17439300,24918600,14536200,12079000,13663400,11360600,20758300,14469400,13973800,11289400,14351000,11710500,18107000,13200000,10339900,13006700,14347400,11525300,13509800,12961200,15795700,20745600,18263500,25733800,27465200,43199500,32042100,31592300,14952700,14385900,13401600,14805900,11047600,14219100,11578200,14418000,28087700,16365500,16479500,15778000,13006600,11758500,10919000,12399700,11530800,13260400,17436100,10682600,17038700,14315300,15831300,12179800,15566100,16279200,24374000,17249700,13338300,13274400,21231900,17756700,11970600,14834700,12472800,13699800,15122400,22674300,17342100,29543100,13149900,13669200,12491700,15819000,18412800,15897600,14103600,12849300,17806800,17155500,17454000,16341300,11691300,13064400,15002700,16015800,13831200,14674200,16312200,24770700,54393900,29844000,22021200,20623500,16647300,18054000,14180100,14785500,16888800,16720800,17387400,19090800,15415800,20065200,28142100,25542600,33133500,28905600,43081200,33928500,19013400,18548400,22044300,22752300,26775600,21282900,24216900,21879000,20868000,19766700,18113700,26540700,17891700,14519100,18370500,11209800,13272600,10464900,16166700,13482300,12433500,13641600,25335000,13579500,17246700,12910200,12861000,14088600,401277000,431324000,389168000,405044000,504231000,384101000,353285000,551409000,447287000,511102000,439624000,452932000,564967000,655163000,496204000,449537000,489535000,542142000,488611000,498017000,660477000,564276000,429366000,452197000,664150000,559651000,523876000,550737000,474919000,675474000,420575000,412026000,465888000,410015000,513184000,1117995000,589716000,452994000,455963000,460026000,389415000,412393000,437429000,515154000,513573000,501257000,474866000,421890000,474910000,524486000,583253000,848547000,432747000,547408000,797295000,564889000,454920000,361026000,356104000,393694000,364516000,433933000,398716000,368592000,515015000,397654000,395279000,314378000,446259000,353615000,395660000,321471000,604812000,358660000,427713000,345103000,339282000,378527000,406337000,377161000,292216000,112117500,89113600,80962700,87754700,70790800,63896200,69458900,71379600,57809700,63646600,69672800,58280400,80223600,81760300,66435100,65799300,54105100,70555800,64015300,65874500,77663600,118339000,154357300,69858300,83322600,64120100,56007100,57450700,62199000,61707600,65573800,68167900,59144100,58867200,51011300,48394200,55469600,44998500,50547000,55479000,52238100,70732300,87558000,56182000,47204800,53833600,68572400,84457100,73695900,77167900,76161100,98944600,73641400,73938300,75701800,67622100,59196500,52390300,45992200,51305700,49501700,68749800,56976200,46278300,51511700,45390100,47716900,47644200,50133100,68445600,49386500,41516200,49923000,47720200,52456400,58337300,41949600,48714100,45498800,64902300,55209200],[98.71324920654297,99.00055694580078,101.2156143188477,102.4389801025391,100.5297927856445,102.0311889648438,103.2174911499023,104.9320602416992,104.8671951293945,104.6632995605469,102.5131301879883,103.1711502075195,105.0525588989258,104.505744934082,105.478874206543,104.9227905273438,109.1397323608398,107.1471099853516,105.247184753418,107.5178298950195,106.3407974243164,103.0135879516602,103.7272338867188,103.551139831543,106.5076217651367,105.5808258056641,105.9793548583984,110.4465179443359,110.0169143676758,108.7280731201172,108.4012069702148,108.0836791992188,103.9276885986328,103.824951171875,102.480094909668,103.4233551025391,103.4327011108398,103.2459182739258,102.6482162475586,103.5634536743164,104.0397567749023,105.3565902709961,106.29052734375,104.2358856201172,102.7135772705078,101.9197387695312,100.658935546875,99.5008544921875,99.87442779541016,94.90592193603516,94.35490417480469,93.2435302734375,95.68108367919922,99.96781158447266,97.6796875,96.57766723632812,96.68972015380859,98.80974578857422,100.0425415039062,101.7609634399414,102.2559509277344,102.4147186279297,108.4572372436523,107.4205856323242,109.2604293823242,107.448600769043,106.9723052978516,107.7287826538086,107.6167144775391,108.1210403442383,108.3825378417969,107.1217193603516,109.2137222290039,108.8681793212891,107.9996109008789,108.3451690673828,110.3904876708984,108.8214797973633,107.8221740722656,109.1109924316406,110.5212249755859,46.58911514282227,46.64101791381836,46.4820442199707,47.62081909179688,47.027099609375,46.99789810180664,47.40993881225586,46.9816780090332,47.13740921020508,46.85190582275391,45.69366455078125,45.04154968261719,45.59634017944336,46.27764511108398,46.40093994140625,46.18032073974609,46.13814163208008,46.49177932739258,46.11867904663086,46.67670822143555,46.93625259399414,46.59560012817383,45.97592544555664,45.64175415039062,45.73908615112305,45.49252319335938,45.91428375244141,46.6280403137207,47.33855819702148,47.20229721069336,47.55268859863281,46.80648422241211,47.51051330566406,47.79925918579102,46.79675674438477,46.09920501708984,46.22250366210938,45.88832855224609,46.1121826171875,45.46981048583984,45.58335494995117,45.63851165771484,45.63201522827148,45.17781448364258,44.80470657348633,44.50297927856445,44.43809127807617,44.56787109375,44.80470657348633,45.30434036254883,45.04698181152344,45.41184616088867,45.90048980712891,45.7441291809082,45.45093536376953,45.81904602050781,46.19368743896484,46.96575164794922,46.78331756591797,46.98529815673828,47.45439910888672,48.03425979614258,48.43820953369141,47.96259307861328,48.75746917724609,49.12557983398438,49.03110885620117,48.88777160644531,48.64996337890625,48.69882965087891,48.36980438232422,48.70859909057617,48.81610870361328,48.86822128295898,49.18096542358398,49.42854309082031,49.76407623291016,49.37641906738281,49.16141891479492,49.31452178955078,49.18096542358398,14.30327892303467,14.73692512512207,14.25332260131836,14.84683418273926,15.61520481109619,15.89597511291504,15.9878978729248,16.49748039245605,16.88516426086426,17.6875057220459,17.36277389526367,16.75127220153809,17.82439422607422,19.17728805541992,19.24922561645508,19.30717849731445,19.78578567504883,20.34832572937012,19.14631080627441,19.5210075378418,20.92585182189941,21.69122314453125,21.08272361755371,21.07173538208008,22.15484809875488,22.18681907653809,22.31871032714844,21.24758911132812,21.77016067504883,22.95219612121582,22.745361328125,21.98398590087891,21.3704891204834,20.63808822631836,20.73700904846191,23.64462471008301,23.26693534851074,23.48175621032715,23.19699096679688,22.67941284179688,23.2949104309082,23.87043952941895,23.53471755981445,23.27288436889648,24.16530609130859,23.42078971862793,22.95009613037109,22.95109558105469,24.0473804473877,24.21227645874023,25.52442359924316,25.70830535888672,25.88319206237793,26.1819953918457,26.45082092285156,27.1733512878418,26.76161956787109,26.5137825012207,26.39286041259766,26.96648788452148,27.36522674560547,27.75897216796875,27.94684982299805,27.4351806640625,26.86355400085449,27.01945304870605,27.56110191345215,27.1513671875,26.47780227661133,26.44582366943359,26.74063301086426,26.98447608947754,27.64904403686523,27.91286849975586,27.0864086151123,27.10139465332031,27.02444839477539,26.22396659851074,26.93850135803223,27.20833206176758,27.73098945617676,123.6325302124023,124.90771484375,123.5830993652344,128.1302490234375,128.6541290283203,129.2274475097656,131.9557342529297,131.8766784667969,133.2111511230469,134.3776245117188,133.6559906005859,133.7152709960938,136.285400390625,139.4881896972656,140.8918609619141,140.2295532226562,142.3054351806641,144.2527770996094,141.3564605712891,142.6316070556641,143.7585144042969,149.0865783691406,152.7242736816406,149.9860992431641,152.8725433349609,150.1739349365234,149.135986328125,149.5023193359375,152.3139801025391,151.6704406738281,153.7791748046875,152.1753387451172,151.0269470214844,146.99755859375,147.4232635498047,147.9083709716797,145.2452392578125,146.4431762695312,145.9382476806641,143.8592224121094,144.4532470703125,149.5220947265625,152.2941589355469,150.08642578125,151.3437347412109,149.0864868164062,147.0173797607422,148.9676818847656,151.0665435791016,151.4625396728516,154.2939910888672,153.4524841308594,155.8285064697266,157.6897430419922,156.2542114257812,157.3432464599609,158.6500549316406,156.6997375488281,156.0759887695312,159.1648712158203,160.7389831542969,163.2536315917969,164.5109405517578,163.9763488769531,162.125,163.0160369873047,160.4122772216797,159.194580078125,158.5015563964844,163.9070281982422,163.5605621337891,163.580322265625,164.8079681396484,165.9563903808594,164.9861755371094,163.3724365234375,163.6793365478516,162.1349029541016,162.125,166.7285919189453,167.9859161376953]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>symbol<\/th>\n      <th>date<\/th>\n      <th>open<\/th>\n      <th>high<\/th>\n      <th>low<\/th>\n      <th>close<\/th>\n      <th>volume<\/th>\n      <th>adjusted<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":8,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[3,4,5,6,7,8]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"symbol","targets":1},{"name":"date","targets":2},{"name":"open","targets":3},{"name":"high","targets":4},{"name":"low","targets":5},{"name":"close","targets":6},{"name":"volume","targets":7},{"name":"adjusted","targets":8}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.columnDefs.4.render"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="constructing-an-equally-weighted-portfolio" class="level2">
<h2 class="anchored" data-anchor-id="constructing-an-equally-weighted-portfolio">2. Constructing an Equally Weighted Portfolio</h2>
<p>Assuming a $1,000,000 budget divided equally among the four stocks, we calculate how many shares we can purchase on the first business day in January 2023.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assigned budget</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>budget <span class="ot">&lt;-</span> <span class="dv">1000000</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>num_stocks <span class="ot">&lt;-</span> <span class="fu">length</span>(stocks)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>budget_per_stock <span class="ot">&lt;-</span> budget <span class="sc">/</span> <span class="fu">length</span>(stocks)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Positions for each stock</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>initial_positions <span class="ot">&lt;-</span> prices <span class="sc">|&gt;</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">==</span> <span class="fu">min</span>(date)) <span class="sc">|&gt;</span> </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shares =</span> <span class="fu">floor</span>(budget_per_stock <span class="sc">/</span> adjusted)) <span class="sc">|&gt;</span> </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(symbol, shares)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(initial_positions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-9edb38e28ea6ccce7db4" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-9edb38e28ea6ccce7db4">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4"],["XOM","WMT","NVDA","AAPL"],[2532,5366,17478,2022]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>symbol<\/th>\n      <th>shares<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"symbol","targets":1},{"name":"shares","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="portfolio-valuation-and-return-calculation" class="level2">
<h2 class="anchored" data-anchor-id="portfolio-valuation-and-return-calculation">3. Portfolio Valuation and Return Calculation</h2>
<section id="portfolio-value" class="level3">
<h3 class="anchored" data-anchor-id="portfolio-value">Portfolio Value</h3>
<p>Calculate the portfolio value for each trading day:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>portfolio <span class="ot">&lt;-</span> prices <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(initial_positions, <span class="at">by =</span> <span class="st">"symbol"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">position_value =</span> shares <span class="sc">*</span> adjusted) <span class="sc">|&gt;</span> </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">|&gt;</span> </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_value =</span> <span class="fu">sum</span>(position_value)) <span class="sc">|&gt;</span> </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(portfolio) <span class="sc">|&gt;</span> </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"total_value"</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-2b4b78cc14bcafcc307c" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2b4b78cc14bcafcc307c">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81"],["2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28"],[999916.8239536285,1011080.489063263,1004705.184082031,1033481.144237518,1039950.050420761,1049661.443561554,1061999.392940521,1072789.266887665,1082934.924411774,1097268.582904816,1078474.424751282,1066073.321414948,1097766.882408142,1130160.150039673,1137381.261405945,1134463.129096985,1157476.622299194,1168098.52274704,1134420.687107086,1152291.640823364,1177536.584766388,1191434.654563904,1186636.49691391,1178668.822502136,1211443.952289581,1202876.450656891,1206355.156570435,1203515.699943542,1221059.26651001,1236423.122821808,1238124.499816895,1216766.110588074,1196976.217655182,1177317.170654297,1171122.28004837,1221567.7460289,1210266.923664093,1214177.673542023,1207867.400390625,1193487.793136597,1207261.856903076,1231200.357753754,1233267.591827393,1216587.640838623,1228871.084632874,1207665.204418182,1191714.144645691,1193439.261199951,1219060.773227692,1212844.307891846,1238727.047420502,1239383.269126892,1256038.203128815,1275039.072006226,1269468.151504517,1283483.532539368,1281223.696105957,1282459.259559631,1281227.06072998,1302933.514183044,1316856.03036499,1332336.06426239,1355629.32006073,1340428.462356567,1335617.933628082,1337532.145709991,1340021.370922089,1331544.096740723,1316810.399772644,1328720.511169434,1332069.196529388,1334996.620853424,1354968.087242126,1361306.042434692,1344378.371974945,1343580.772705078,1349835.675392151,1326669.113544464,1335453.795383453,1353563.197395325,1368094.558246613]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>total_value<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":2},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"date","targets":1},{"name":"total_value","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="portfolio-returns" class="level3">
<h3 class="anchored" data-anchor-id="portfolio-returns">Portfolio Returns</h3>
</section>
<section id="a.-calculating-returns-from-the-net-value-of-portfolio" class="level3">
<h3 class="anchored" data-anchor-id="a.-calculating-returns-from-the-net-value-of-portfolio">A. Calculating returns from the net value of portfolio</h3>
<p>Calculate discrete and continuous returns for the portfolio:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>portfolio <span class="ot">&lt;-</span> portfolio <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">discrete_return =</span> <span class="dv">100</span><span class="sc">*</span>(total_value <span class="sc">/</span> <span class="fu">lag</span>(total_value) <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">continuous_return =</span> <span class="dv">100</span><span class="sc">*</span><span class="fu">log</span>(total_value <span class="sc">/</span> <span class="fu">lag</span>(total_value)))</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(portfolio) <span class="sc">|&gt;</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"total_value"</span>,<span class="st">"discrete_return"</span>,<span class="st">"continuous_return"</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-cd11f0a6e02ad7e37d25" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-cd11f0a6e02ad7e37d25">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81"],["2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28"],[999916.8239536285,1011080.489063263,1004705.184082031,1033481.144237518,1039950.050420761,1049661.443561554,1061999.392940521,1072789.266887665,1082934.924411774,1097268.582904816,1078474.424751282,1066073.321414948,1097766.882408142,1130160.150039673,1137381.261405945,1134463.129096985,1157476.622299194,1168098.52274704,1134420.687107086,1152291.640823364,1177536.584766388,1191434.654563904,1186636.49691391,1178668.822502136,1211443.952289581,1202876.450656891,1206355.156570435,1203515.699943542,1221059.26651001,1236423.122821808,1238124.499816895,1216766.110588074,1196976.217655182,1177317.170654297,1171122.28004837,1221567.7460289,1210266.923664093,1214177.673542023,1207867.400390625,1193487.793136597,1207261.856903076,1231200.357753754,1233267.591827393,1216587.640838623,1228871.084632874,1207665.204418182,1191714.144645691,1193439.261199951,1219060.773227692,1212844.307891846,1238727.047420502,1239383.269126892,1256038.203128815,1275039.072006226,1269468.151504517,1283483.532539368,1281223.696105957,1282459.259559631,1281227.06072998,1302933.514183044,1316856.03036499,1332336.06426239,1355629.32006073,1340428.462356567,1335617.933628082,1337532.145709991,1340021.370922089,1331544.096740723,1316810.399772644,1328720.511169434,1332069.196529388,1334996.620853424,1354968.087242126,1361306.042434692,1344378.371974945,1343580.772705078,1349835.675392151,1326669.113544464,1335453.795383453,1353563.197395325,1368094.558246613],[null,1.116459373640066,-0.6305437648330248,2.864119804634901,0.6259336437159035,0.9338326525263119,1.175421794774523,1.015996244335704,0.9457269789380884,1.323593705395343,-1.712812928971308,-1.149874586891031,2.972925065897836,2.950833018433796,0.6389458490478894,-0.2565658858624809,2.028580093257659,0.9176773200608057,-2.883133141950456,1.575337431641088,2.190846748222963,1.18026649679619,-0.4027210079557531,-0.6714503078655731,2.780690314508227,-0.7072140330139254,0.2891989374007586,-0.2353748488931218,1.457693203943267,1.25824001612227,0.1376047538810043,-1.725059897609604,-1.626433606317912,-1.642392447812879,-0.5261870598968432,4.307446527142011,-0.9251081163156205,0.3231311871343179,-0.5197157952171239,-1.190495517088874,1.15410177177262,1.982875605138856,0.1679039532940463,-1.352500552135161,1.009663700494534,-1.72563912357222,-1.320818030869431,0.1447592580830825,2.146863511258967,-0.5099389195656445,2.134052933277575,0.05297548864835466,1.343808200158736,1.512762018709246,-0.4369215519759218,1.104035656053348,-0.1760705436508081,0.09643620059709423,-0.09608093360204961,1.694192553246321,1.0685515439117,1.17552971171111,1.748301830382082,-1.121313730768347,-0.3588799300805579,0.1433203338853994,0.1861058233315172,-0.6326223122495866,-1.106512131602921,0.9044666869919782,0.2520233060154586,0.2197651842458903,1.495993778316485,0.4677567872071409,-1.243487498922158,-0.05932848121434908,0.4655397586912136,-1.716250523676255,0.6621607263863405,1.356048563752177,1.073563530631638],[null,1.110272969183139,-0.6325400882494772,2.823870610019906,0.6239828154457674,0.9294993914601684,1.16856737275844,1.010869696938186,0.9412829781167402,1.314910738131406,-1.727651248802747,-1.156536765088465,2.929590424901026,2.908133893848646,0.6369132436286772,-0.2568955801742451,2.008278504105574,0.9134922459082767,-2.92551197198392,1.563057787517106,2.167192562012357,1.173355676031251,-0.4035341127704721,-0.6737146772138356,2.742731198181056,-0.7097266448266565,0.2887815617774024,-0.2356522909285935,1.447170987723351,1.250389956243229,0.1375101653018625,-1.740112417014809,-1.639805222906429,-1.656029231750461,-0.5275762994823988,4.217256874472588,-0.9294138169474183,0.3226102402400768,-0.5210710153240246,-1.197638664136921,1.147492818037019,1.963472697758119,0.1677631521914331,-1.361730155623679,1.00460064790256,-1.740701812102691,-1.329618409446762,0.1446545828749385,2.124143006854462,-0.5112435451597312,2.111600887677447,0.05296146159008348,1.33485918039727,1.501433876434719,-0.437878843615455,1.097985671003471,-0.1762257300175877,0.0963897307665925,-0.09612712091823188,1.680001173138501,1.062882877892439,1.168674035895711,1.733194856764509,-1.127647847911133,-0.3595254489896094,0.1432177283196008,0.1859328610061858,-0.6346318468586979,-1.112679514516809,0.9004008845488083,0.2517062598566667,0.2195240537807746,1.484914155041361,0.4666662046741166,-1.251283500342127,-0.0593460875218127,0.4644594738294744,-1.731148810309729,0.6599780720703115,1.346936508722741,1.067841752216196]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>total_value<\/th>\n      <th>discrete_return<\/th>\n      <th>continuous_return<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[2,3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"date","targets":1},{"name":"total_value","targets":2},{"name":"discrete_return","targets":3},{"name":"continuous_return","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="b.-calculating-returns-directly-from-portfolio-securities" class="level3">
<h3 class="anchored" data-anchor-id="b.-calculating-returns-directly-from-portfolio-securities">B. Calculating returns directly from portfolio securities</h3>
<p>Similar to the previous method, we calculate discrete and continuous returns for the portfolio through portfoflio stocks directly rather than net value:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>individual_ret <span class="ot">&lt;-</span> prices <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 1. assign portfolio weights on corresponding stocks</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">portfolio_weight =</span> <span class="fu">case_when</span>(</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>      symbol <span class="sc">==</span> <span class="st">"XOM"</span> <span class="sc">~</span> <span class="fl">0.25</span>, </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>      symbol <span class="sc">==</span> <span class="st">"WMT"</span> <span class="sc">~</span> <span class="fl">0.25</span>, </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>      symbol <span class="sc">==</span> <span class="st">"NVDA"</span> <span class="sc">~</span> <span class="fl">0.25</span>, </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>      symbol <span class="sc">==</span> <span class="st">"AAPL"</span> <span class="sc">~</span> <span class="fl">0.25</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2. individual returns (grouped by each stock)</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">discrete_return =</span> <span class="dv">100</span><span class="sc">*</span>(adjusted <span class="sc">/</span> <span class="fu">lag</span>(adjusted) <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">continuous_return =</span> <span class="dv">100</span><span class="sc">*</span><span class="fu">log</span>(adjusted <span class="sc">/</span> <span class="fu">lag</span>(adjusted)),</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> symbol</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(symbol, date, portfolio_weight, discrete_return, continuous_return) <span class="sc">|&gt;</span> </span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the first obervation of each stock will naturally be missing since there is no lagged value, then we drop it out</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(continuous_return)</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co"># print out individual returns</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(individual_ret) <span class="sc">|&gt;</span> </span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"discrete_return"</span>,<span class="st">"continuous_return"</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-7e3ba69f26f6285e2ab3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7e3ba69f26f6285e2ab3">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320"],["XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL"],["2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28"],[0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25],[0.2910528642985577,2.237419102863769,1.208672981855918,-1.863731281767422,1.493483809720542,1.162685838608968,1.661122618555821,-0.06181629537748146,-0.1944321754730582,-2.054368036920851,0.6418885252304607,1.823580223368615,-0.5205146553068363,0.9311729925228107,-0.5271991035004087,4.019090430498151,-1.825753401062258,-1.773193166099707,2.157440264954746,-1.094732354487049,-3.12881749360987,0.6927687397836113,-0.1697664620731065,2.855093568649614,-0.8701686734836289,0.3774634737825577,4.215125759074656,-0.3889697789084434,-1.171493724366146,-0.300627189025271,-0.2929190364857615,-3.845160186419683,-0.09885472114614657,-1.295311239762309,0.9204325910339373,0.009036651626237457,-0.1805839303315682,-0.5789110469058945,0.8916252617098719,0.4599142686799507,1.265702205497088,0.8864533963671928,-1.933043117744615,-1.460445546706779,-0.7728661799850434,-1.237054998254339,-1.150500001212718,0.375447331713108,-4.97475276609628,-0.58059365526405,-1.17786553977971,2.6141796633113,4.480225077347622,-2.288860832508266,-1.128197982484203,0.1160236322609309,2.192607064528884,1.247645872877645,1.717691204364358,0.4864217781164193,0.1552649980317788,5.900049032673693,-0.9558159857965598,1.712747830567007,-1.658266056177848,-0.4432774999231337,0.7071712195513724,-0.1040280726365084,0.4686315403212626,0.2418562536265156,-1.163304076977512,1.952921294714249,-0.3163914759633402,-0.7978166125538477,0.3199624180322713,1.887780157732344,-1.42132524879568,-0.918298232075565,1.195318468083562,1.292475224097012,0.1114053590349995,-0.3408452494355951,2.449924246956647,-1.246764532288669,-0.06209506393317632,0.8767215707320641,-0.9033143976805658,0.3314721988898039,-0.6056832402009937,-2.47213267343791,-1.427145042042621,1.231730481600812,1.494209686477821,0.2664241666279876,-0.4754627857512128,-0.09133567500260176,0.7664758111250336,-0.8025080695113096,1.209985165100802,0.5560468645888772,-0.7257768718074042,-1.329899563290537,-0.7268397360738921,0.2132521033519241,-0.5390640227245114,0.9270986295690786,1.554541425774381,1.523799581797358,-0.2878435497781995,0.74231850703248,-1.569215954368053,1.504127248495291,0.607751548103197,-2.097317946936417,-1.490598442762003,0.2674637121699242,-0.7229705952454091,0.4878235316122748,-1.39306381717057,0.2497139594340059,0.1210018609297814,-0.01423453396570684,-0.9953554370912499,-0.8258653377120284,-0.6734276775744452,-0.1458059697129865,0.2920463321921751,0.5314040673787934,1.115136840017072,-0.568065993160638,0.8099640302025701,1.076026824606569,-0.3406513239351483,-0.6409430508101943,0.8099077693167089,0.8176543402700798,1.671363019036942,-0.3884406735332524,0.4317363567380994,0.9983994367420257,1.221932419637928,0.8409617203704034,-0.9819034593904763,1.657283411115751,0.754983109152163,-0.1923050640877055,-0.2923394006369318,-0.4864370367572812,0.1004446223156652,-0.6756328045529281,0.700426045915048,0.2207199858841991,0.1067528337051593,0.6399744709637334,0.5034013974796858,0.6788246650793139,-0.7789899760481722,-0.4354308324677869,0.3114289175038198,-0.2708256333433523,3.031795747120891,-3.281570067688766,4.164022649469823,5.175316292346221,1.798057119425889,0.5782769497108875,3.187301567607692,2.34995804926359,4.751753958599481,-1.835939062778524,-3.521912439880326,6.406212087208507,7.590125152004523,0.3751185299363913,0.3010660377414487,2.478907924329521,2.843152470971577,-5.907193245686814,1.957017909918135,7.196576720409054,3.657539626801976,-2.805279918624382,-0.05211962018267791,5.140121100779904,0.1443069148598708,0.594457682984495,-4.799207481614221,2.459439332070357,5.429612871538181,-0.9011546956050664,-3.347387699243276,-2.790653083392769,-3.427160183540401,0.4793119452673356,14.02138396538315,-1.597358241897595,0.923288170954395,-1.212708457491929,-2.231229583788852,2.713904426912683,2.470621641657478,-1.406433966960408,-1.112540187714206,3.834598704081582,-3.080930859586506,-2.009725521263983,0.004354886698143545,4.776612351516474,0.6857129894597414,5.419346432537808,0.7204149348508881,0.6802731687281627,1.154429982004013,1.026757231381925,2.731599019545072,-1.515204052710728,-0.9260914348694138,-0.4560725676069799,2.173419110154606,1.478645876287277,1.438853132932705,0.6768177650543272,-1.830865239467827,-2.083553486333645,0.5803366443866809,2.004662580584826,-1.48664130787951,-2.480777141855195,-0.1207751566525639,1.114767099394265,0.9118822225121281,2.462778766517681,0.9541901793742369,-2.960856153679736,0.05532678185933282,-0.2839199219420774,-2.962065255028123,2.724739435726953,1.001654472715852,1.920946102916776,1.031431314361098,-1.060475311851328,3.67942678372597,0.4088652046457808,0.445627735211751,2.111228532125797,-0.0599108379642499,1.011909514073772,0.8756574647376114,-0.537019398694516,0.04435296558085167,1.922091153377936,2.350060459492131,1.006301155456146,-0.4700823274928934,1.480345555056961,1.368424133957391,-2.007806426021419,0.9020786734624808,0.7900824872519419,3.7062597557592,2.439988463276022,-1.792887517137187,1.924474405536247,-1.765266894608108,-0.6911642881550439,0.2456368961187616,1.880680366090948,-0.4225084449094529,1.390339555612075,-1.042947500275848,-0.7546503481462796,-2.667993035150984,0.2896000179371638,0.3290575789696382,-1.800528054208039,0.8247685210476252,-0.3447948902295384,-1.424592457149354,0.4129208042717103,3.508988381398415,1.853949554447976,-1.449650577361417,0.8377233007023976,-1.491471007151002,-1.387856874119031,1.326579297765607,1.408937608332739,0.2621335501349131,1.869407064037976,-0.5453919184209455,1.54837658857383,1.19441340639892,-0.9103519281077554,0.6969636365269816,0.8305462745185066,-1.22932033250972,-0.3980534932947921,1.979088821183272,0.9889820074318711,1.564429728341721,0.7701568091941446,-0.3249581292354864,-1.129034089143166,0.5495987585533824,-1.597241482338196,-0.7591047048549182,-0.4353312036757262,3.41035881580638,-0.211379626768704,0.01208123252827153,0.7504850565277499,0.6968244643595245,-0.5846203581093889,-0.9781055948587025,0.1878530007539236,-0.9435727357670953,-0.00610784841581502,2.83953240952679,0.7541143389258931],[0.2906301255130634,2.21275608059197,1.20142685948568,-1.881317603859067,1.482441151390241,1.155978586265042,1.647476884354527,-0.06183540952686438,-0.1946214401948224,-2.075763714954858,0.6398371943286321,1.807152414810685,-0.5218740521304358,0.9268643037240289,-0.5285937016729236,3.940425813958268,-1.842625961572262,-1.789102586520415,2.134496928440777,-1.100768643693387,-3.178810547668259,0.690380122533315,-0.1699107286319393,2.815095313008925,-0.8739767482951667,0.3767528680357665,4.128709363200985,-0.3897282337652557,-1.178409779259617,-0.3010799802625982,-0.2933488839039357,-3.921037914544204,-0.09890361465062518,-1.303773550740883,0.9162224250350197,0.009036243345470809,-0.1807471796753634,-0.5805932322867725,0.887673754726389,0.4588598945825698,1.257759148543495,0.8825474641221696,-1.951970712286162,-1.471215036318207,-0.7758682687351993,-1.244770217295063,-1.15716945654692,0.3747442873766587,-5.102756933869741,-0.5822856524908919,-1.18485733277328,2.58059405454892,4.382763380022467,-2.315461944161129,-1.134610411471182,0.1159563768611277,2.168915124453813,1.23992690900114,1.703105674988129,0.4852425697899935,0.1551445865555141,5.732552962835668,-0.9604132243368168,1.698245661096624,-1.672169202813608,-0.4442628877126338,0.7046824900466523,-0.1040822193911314,0.4675368813309513,0.2415642521106064,-1.170123396727713,1.934096481227847,-0.3168930520356907,-0.8010161985385468,0.3194516275558589,1.870182710587101,-1.431522818523248,-0.9225405818788853,1.188230959843515,1.28419404156591,0.111343349315385,-0.3414274501680499,2.42039492817724,-1.254601851360761,-0.06211435090258459,0.8729006832918593,-0.9074190193085353,0.3309240407904124,-0.6075249414880002,-2.503203008871266,-1.437426696882415,1.224206402946491,1.483156344262065,0.2660698865641324,-0.4765967057271185,-0.09137741144568591,0.7635533092932346,-0.8057454975667011,1.202723363727843,0.5545066309866903,-0.7284234454000653,-1.33882192142999,-0.7294940858168154,0.2130250438028794,-0.540522215583764,0.9228274486360063,1.542582211933308,1.512306364632881,-0.2882586160095422,0.7395768825670248,-1.58165848637925,1.492927421380334,0.6059121871164669,-2.119624098353983,-1.50181950832461,0.2671066644902395,-0.7255966925829644,0.4866375281277824,-1.402858017187336,0.2494026922037865,0.1209287126792558,-0.01423554717164418,-1.00034221771091,-0.8292944987115152,-0.6757054335445911,-0.1459123700549497,0.2916207053750809,0.5299970982244672,1.108965029526058,-0.5696856246531745,0.8067014269864272,1.070278852356466,-0.3412328616104268,-0.6430059100080434,0.8066456181166377,0.8143296578145159,1.657549451418926,-0.3891970637042763,0.4308070491418372,0.9934483566630459,1.214527089833432,0.8374453378280075,-0.9867559218678147,1.643700337493376,0.7521473756056697,-0.1924902076744803,-0.2927675468931525,-0.4876239924701119,0.1003942104594128,-0.6779255357841528,0.6979844570722995,0.2204767571605389,0.1066958933876376,0.6379353297112312,0.5021385689360059,0.6765310244646024,-0.7820399526284864,-0.4363815934585701,0.3109449821333328,-0.271193029446871,2.986745117854957,-3.336621293664569,4.079661163302267,5.045845077987073,1.782083267533937,0.5766113466721657,3.137561266298245,2.322771624382849,4.642311690881252,-1.853001585008384,-3.585427534374031,6.209377349343245,7.315868384787545,0.3744167149234447,0.300613741525513,2.448681506750922,2.803485007212589,-6.088858488704344,1.938114544516391,6.949412856044892,3.592239146190245,-2.845379614754738,-0.05213320717791649,5.012376120756826,0.1442028924937752,0.5926977545425397,-4.91819194524626,2.429682044153157,5.287336769360037,-0.9052396542484811,-3.404695223800262,-2.830331745144721,-3.48726456231674,0.4781669029881732,13.12158234594419,-1.610253515507447,0.9190519209538107,-1.220121761984082,-2.256498083872994,2.677731055446389,2.440595337737404,-1.416417972319386,-1.118775203898259,3.762905005321421,-3.129389449763591,-2.030195225503313,0.004354791875705707,4.666039640916267,0.6833726704300226,5.277598576634428,0.7178323426278652,0.6779697512611133,1.147817283079148,1.021521885023407,2.694956638269382,-1.526800558922427,-0.9304063221269341,-0.4571157515338218,2.150137096823858,1.467820490432847,1.428599877071296,0.6745376360491281,-1.847833000761798,-2.105565757142694,0.5786591781212544,1.984833782579858,-1.497802576597517,-2.512066989784552,-0.1208481486215816,1.108599365877304,0.9077496801875723,2.432941265606649,0.9496665382095056,-3.005574407959003,0.05531148223831012,-0.2843237390784392,-3.006820409142841,2.688279225567256,0.996671163698104,1.902728859209585,1.026148357242767,-1.066138424141988,3.61335178942431,0.4080316222476962,0.4446377548150128,2.089250896448246,-0.05992879167794946,1.00682398825537,0.8718458198998638,-0.5384665311138076,0.04434313256045591,1.903852322121622,2.32287168321947,1.001271658492148,-0.4711906893054406,1.469495389147841,1.359145760083371,-2.028236789872112,0.8980342481987894,0.7869776785463587,3.63922915119475,2.410696272389861,-1.809154470810023,1.906190602535506,-1.781033555301024,-0.6935638917150269,0.2453357018238015,1.863214221326282,-0.4234035339471033,1.380762997574107,-1.048424311174109,-0.7575122411677878,-2.704229955423774,0.2891814849382695,0.328517369261183,-1.816934797622316,0.8213858919933625,-0.3453906777019093,-1.434837189005419,0.4120706258907579,3.448826721130653,1.836973408159877,-1.460260675750907,0.8342338733463288,-1.502705279875014,-1.397577652761136,1.317857286191281,1.399104337871653,0.2617905793745903,1.852148408097277,-0.5468846099642619,1.536511558431413,1.187336584742302,-0.9145209524233748,0.6945460715064619,0.8271162179987244,-1.236938977665331,-0.3988478348493318,1.959759472141108,0.984123586719849,1.552318675759377,0.7672062412904216,-0.3254872647878878,-1.135456062280795,0.5480939755709515,-1.610134860674566,-0.7620005690220184,-0.4362815290048721,3.353495303940702,-0.211603348825932,0.01208050280614688,0.747682928396265,0.6944078625092833,-0.5863359526694132,-0.9829204697309989,0.1876767776635242,-0.9480525860065852,-0.006108034952471996,2.799964962297516,0.751285111581586]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>symbol<\/th>\n      <th>date<\/th>\n      <th>portfolio_weight<\/th>\n      <th>discrete_return<\/th>\n      <th>continuous_return<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[3,4,5]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"symbol","targets":1},{"name":"date","targets":2},{"name":"portfolio_weight","targets":3},{"name":"discrete_return","targets":4},{"name":"continuous_return","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render"],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate returns of four individual stocks by each day (DATE)</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>portfolio_ret <span class="ot">&lt;-</span> individual_ret <span class="sc">|&gt;</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">|&gt;</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">port_discrete_return =</span> <span class="fu">sum</span>(portfolio_weight<span class="sc">*</span>discrete_return),</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">port_continuous_return =</span> <span class="fu">sum</span>(portfolio_weight<span class="sc">*</span>continuous_return),</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(portfolio_ret) <span class="sc">|&gt;</span> </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"port_discrete_return"</span>,<span class="st">"port_continuous_return"</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-de742f2eaa6bf275b0c8" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-de742f2eaa6bf275b0c8">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80"],["2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28"],[1.116421321203886,-0.6113678815279799,2.875511665502089,0.6184214207339778,0.9187684001062513,1.182228222794429,0.9712997376296745,0.9078808667124211,1.20682400191576,-1.72486479295795,-1.065703997777909,2.845903486388968,2.72847016066691,0.644754211135834,-0.2929195447507665,1.971752058720508,0.788074753747936,-2.622675226829812,1.556630503359041,1.861993429440706,0.8773012542859754,-0.2506055697138215,-0.6854033338667159,2.533235294579423,-0.7575481689890945,0.3019638745452718,0.3040241498383944,1.368737375262555,0.8869417881210956,0.2327190445035543,-1.563117547593235,-1.47158409236586,-1.396564097933584,-0.6559293058735566,3.445068923156181,-0.7803464830773682,0.2111255416062607,-0.4121477157537717,-1.039315149099726,0.9591133648245875,1.84157852237069,0.3299336124722635,-1.372647329977872,0.5965027800912931,-1.504673931074249,-1.195110840837585,0.1181201288608019,1.773100339735278,-0.7279423466211383,1.535023462037774,-0.0482196232867993,1.479714061304965,1.622104285453851,-0.7033496450110727,0.7775681107261401,0.06225504858469733,0.4271395790466731,0.001269784610655189,1.575483873110084,0.9881122746443982,1.095120069736033,2.046996331823142,-1.023385703472588,0.03936091655148688,0.05666311397859447,-0.05704036644105237,-0.457728548454997,-0.8766433637311777,0.964664955447686,0.1174027304247871,0.115271355994484,1.34672627591097,0.3603440003688951,-0.9258296633448099,-0.02485374937185314,0.617634475405876,-1.526488303909768,0.3412256306919464,1.336983566957506,0.9241775081490822],[1.103716737481543,-0.6328577718456592,2.828708685097375,0.5794893112537352,0.9117619557091515,1.173685378169328,0.9544225849165716,0.8996710609754418,1.178002782274573,-1.742608709987079,-1.08466847609184,2.786147122305511,2.650005590034661,0.6421556409259386,-0.2939418387949924,1.941806324602836,0.7708895287542332,-2.677985840665893,1.54334227122095,1.797532130471139,0.8310585760791677,-0.2707812853153879,-0.6901731231091736,2.486671770026034,-0.7628324066715448,0.2996785448748214,0.2496088329279584,1.353868599086766,0.8493162100359436,0.2285050614075131,-1.582031726314389,-1.503988619869094,-1.421121486318668,-0.664012315292106,3.216125657978945,-0.7877613513235133,0.2085234851722114,-0.4148670359612453,-1.05162988383484,0.9495160670308759,1.817027480022702,0.322216838197754,-1.38283720241156,0.574157335909507,-1.520917107979599,-1.204613866403615,0.1141658317237871,1.742471341097261,-0.7621571636347675,1.49444392689691,-0.05180204328081239,1.466338554149478,1.594171096558373,-0.7128667303922851,0.7653844791053248,0.05765042343798527,0.4147798190201185,-0.001308435271572594,1.560952323273733,0.9826587509014338,1.087647557304905,2.002935544500806,-1.030122352938579,0.02523104479162763,0.05168283162106699,-0.06551354337045567,-0.461972050616509,-0.8850136826626667,0.9501445617773713,0.1151586833444565,0.1119228108345764,1.333799358097825,0.3584693105176839,-0.9387478073639329,-0.02650469775020597,0.6125166934091972,-1.54210894157529,0.330812253819332,1.323953016993117,0.9167537457275525]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>port_discrete_return<\/th>\n      <th>port_continuous_return<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"date","targets":1},{"name":"port_discrete_return","targets":2},{"name":"port_continuous_return","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="portfolio-volatility" class="level3">
<h3 class="anchored" data-anchor-id="portfolio-volatility">Portfolio Volatility</h3>
<p>Calculate variance and volatility (standard deviation) of portfolio returns from individual stocks.</p>
<p>The <strong>portfolio volatility</strong> (standard deviation of portfolio returns) is given by:</p>
<p><span class="math display">\[ \sigma_p = \sqrt{ w^T \mathbf{\Sigma}w}\]</span></p>
<p>Where:</p>
<ul>
<li><p><span class="math inline">\(\sigma_p\)</span> = Portfolio volatility</p></li>
<li><p><span class="math inline">\(w\)</span> = Column vector of asset weights (<span class="math inline">\(w_1, w_2, w_3, w_4\)</span>)</p></li>
<li><p><span class="math inline">\(\mathbf{\Sigma}\)</span> = Covariance matrix of asset returns</p></li>
<li><p><span class="math inline">\(w^T\)</span> = Transposed weight vector</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sigma for each stock</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>portfolio_volatility <span class="ot">&lt;-</span> individual_ret <span class="sc">|&gt;</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(symbol) <span class="sc">|&gt;</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sigma =</span> <span class="fu">sd</span>(continuous_return),</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(portfolio_volatility)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  symbol sigma
  &lt;chr&gt;  &lt;dbl&gt;
1 AAPL   1.40 
2 NVDA   3.09 
3 WMT    0.944
4 XOM    1.77 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># stock weights</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>weights <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># individual stock volatilities (standard deviations)</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>volatilities <span class="ot">&lt;-</span> portfolio_volatility<span class="sc">$</span>sigma</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co"># correlation matrix</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>returns_wide <span class="ot">&lt;-</span> individual_ret <span class="sc">|&gt;</span> </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(symbol, date, continuous_return) <span class="sc">|&gt;</span> </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> symbol, <span class="at">values_from =</span> continuous_return)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate correlation matrix</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>cor_matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(returns_wide[, <span class="sc">-</span><span class="dv">1</span>], <span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(cor_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-cd1625e33067b79ca58e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-cd1625e33067b79ca58e">{"x":{"filter":"none","vertical":false,"data":[["XOM","WMT","NVDA","AAPL"],[1,0.2110082922066587,0.03809879299340706,0.2178225925149828],[0.2110082922066587,0.9999999999999999,0.0836976599888762,0.2679482164043292],[0.03809879299340706,0.0836976599888762,1,0.4839216701175552],[0.2178225925149828,0.2679482164043292,0.4839216701175552,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>XOM<\/th>\n      <th>WMT<\/th>\n      <th>NVDA<\/th>\n      <th>AAPL<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"XOM","targets":1},{"name":"WMT","targets":2},{"name":"NVDA","targets":3},{"name":"AAPL","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute covariance matrix</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>cov_matrix <span class="ot">&lt;-</span> (volatilities <span class="sc">%*%</span> <span class="fu">t</span>(volatilities)) <span class="sc">*</span> cor_matrix</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate portfolio volatility</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>portfolio_volatility <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">t</span>(weights) <span class="sc">%*%</span> cov_matrix <span class="sc">%*%</span> weights)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Print result</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"Portfolio return is %.2f percent"</span>, portfolio_volatility))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Portfolio return is 1.21 percent</code></pre>
</div>
</div>
</section>
</section>
<section id="visualizing-portfolio-value-with-highcharter" class="level2">
<h2 class="anchored" data-anchor-id="visualizing-portfolio-value-with-highcharter">4. Visualizing Portfolio Value with <code>highcharter</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Portfolio value</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(portfolio, <span class="at">type =</span> <span class="st">"area"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> date, <span class="at">y =</span> total_value)) <span class="sc">|&gt;</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Portfolio Value Over Time"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Total Portfolio Value ($)"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Date"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">"Value: ${point.y:,.0f}"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_add_theme</span>(<span class="fu">hc_theme_smpl</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-1f93fda9ea32c2e5df82" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-1f93fda9ea32c2e5df82">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Portfolio Value Over Time"},"yAxis":{"title":{"text":"Total Portfolio Value ($)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"date":"2023-01-03","total_value":999916.8239536285,"discrete_return":null,"continuous_return":null,"x":1672704000000,"y":999916.8239536285},{"date":"2023-01-04","total_value":1011080.489063263,"discrete_return":1.116459373640066,"continuous_return":1.110272969183139,"x":1672790400000,"y":1011080.489063263},{"date":"2023-01-05","total_value":1004705.184082031,"discrete_return":-0.6305437648330248,"continuous_return":-0.6325400882494772,"x":1672876800000,"y":1004705.184082031},{"date":"2023-01-06","total_value":1033481.144237518,"discrete_return":2.864119804634901,"continuous_return":2.823870610019906,"x":1672963200000,"y":1033481.144237518},{"date":"2023-01-09","total_value":1039950.050420761,"discrete_return":0.6259336437159035,"continuous_return":0.6239828154457674,"x":1673222400000,"y":1039950.050420761},{"date":"2023-01-10","total_value":1049661.443561554,"discrete_return":0.9338326525263119,"continuous_return":0.9294993914601684,"x":1673308800000,"y":1049661.443561554},{"date":"2023-01-11","total_value":1061999.392940521,"discrete_return":1.175421794774523,"continuous_return":1.16856737275844,"x":1673395200000,"y":1061999.392940521},{"date":"2023-01-12","total_value":1072789.266887665,"discrete_return":1.015996244335704,"continuous_return":1.010869696938186,"x":1673481600000,"y":1072789.266887665},{"date":"2023-01-13","total_value":1082934.924411774,"discrete_return":0.9457269789380884,"continuous_return":0.9412829781167402,"x":1673568000000,"y":1082934.924411774},{"date":"2023-01-17","total_value":1097268.582904816,"discrete_return":1.323593705395343,"continuous_return":1.314910738131406,"x":1673913600000,"y":1097268.582904816},{"date":"2023-01-18","total_value":1078474.424751282,"discrete_return":-1.712812928971308,"continuous_return":-1.727651248802747,"x":1674000000000,"y":1078474.424751282},{"date":"2023-01-19","total_value":1066073.321414948,"discrete_return":-1.149874586891031,"continuous_return":-1.156536765088465,"x":1674086400000,"y":1066073.321414948},{"date":"2023-01-20","total_value":1097766.882408142,"discrete_return":2.972925065897836,"continuous_return":2.929590424901026,"x":1674172800000,"y":1097766.882408142},{"date":"2023-01-23","total_value":1130160.150039673,"discrete_return":2.950833018433796,"continuous_return":2.908133893848646,"x":1674432000000,"y":1130160.150039673},{"date":"2023-01-24","total_value":1137381.261405945,"discrete_return":0.6389458490478894,"continuous_return":0.6369132436286772,"x":1674518400000,"y":1137381.261405945},{"date":"2023-01-25","total_value":1134463.129096985,"discrete_return":-0.2565658858624809,"continuous_return":-0.2568955801742451,"x":1674604800000,"y":1134463.129096985},{"date":"2023-01-26","total_value":1157476.622299194,"discrete_return":2.028580093257659,"continuous_return":2.008278504105574,"x":1674691200000,"y":1157476.622299194},{"date":"2023-01-27","total_value":1168098.52274704,"discrete_return":0.9176773200608057,"continuous_return":0.9134922459082767,"x":1674777600000,"y":1168098.52274704},{"date":"2023-01-30","total_value":1134420.687107086,"discrete_return":-2.883133141950456,"continuous_return":-2.92551197198392,"x":1675036800000,"y":1134420.687107086},{"date":"2023-01-31","total_value":1152291.640823364,"discrete_return":1.575337431641088,"continuous_return":1.563057787517106,"x":1675123200000,"y":1152291.640823364},{"date":"2023-02-01","total_value":1177536.584766388,"discrete_return":2.190846748222963,"continuous_return":2.167192562012357,"x":1675209600000,"y":1177536.584766388},{"date":"2023-02-02","total_value":1191434.654563904,"discrete_return":1.18026649679619,"continuous_return":1.173355676031251,"x":1675296000000,"y":1191434.654563904},{"date":"2023-02-03","total_value":1186636.49691391,"discrete_return":-0.4027210079557531,"continuous_return":-0.4035341127704721,"x":1675382400000,"y":1186636.49691391},{"date":"2023-02-06","total_value":1178668.822502136,"discrete_return":-0.6714503078655731,"continuous_return":-0.6737146772138356,"x":1675641600000,"y":1178668.822502136},{"date":"2023-02-07","total_value":1211443.952289581,"discrete_return":2.780690314508227,"continuous_return":2.742731198181056,"x":1675728000000,"y":1211443.952289581},{"date":"2023-02-08","total_value":1202876.450656891,"discrete_return":-0.7072140330139254,"continuous_return":-0.7097266448266565,"x":1675814400000,"y":1202876.450656891},{"date":"2023-02-09","total_value":1206355.156570435,"discrete_return":0.2891989374007586,"continuous_return":0.2887815617774024,"x":1675900800000,"y":1206355.156570435},{"date":"2023-02-10","total_value":1203515.699943542,"discrete_return":-0.2353748488931218,"continuous_return":-0.2356522909285935,"x":1675987200000,"y":1203515.699943542},{"date":"2023-02-13","total_value":1221059.26651001,"discrete_return":1.457693203943267,"continuous_return":1.447170987723351,"x":1676246400000,"y":1221059.26651001},{"date":"2023-02-14","total_value":1236423.122821808,"discrete_return":1.25824001612227,"continuous_return":1.250389956243229,"x":1676332800000,"y":1236423.122821808},{"date":"2023-02-15","total_value":1238124.499816895,"discrete_return":0.1376047538810043,"continuous_return":0.1375101653018625,"x":1676419200000,"y":1238124.499816895},{"date":"2023-02-16","total_value":1216766.110588074,"discrete_return":-1.725059897609604,"continuous_return":-1.740112417014809,"x":1676505600000,"y":1216766.110588074},{"date":"2023-02-17","total_value":1196976.217655182,"discrete_return":-1.626433606317912,"continuous_return":-1.639805222906429,"x":1676592000000,"y":1196976.217655182},{"date":"2023-02-21","total_value":1177317.170654297,"discrete_return":-1.642392447812879,"continuous_return":-1.656029231750461,"x":1676937600000,"y":1177317.170654297},{"date":"2023-02-22","total_value":1171122.28004837,"discrete_return":-0.5261870598968432,"continuous_return":-0.5275762994823988,"x":1677024000000,"y":1171122.28004837},{"date":"2023-02-23","total_value":1221567.7460289,"discrete_return":4.307446527142011,"continuous_return":4.217256874472588,"x":1677110400000,"y":1221567.7460289},{"date":"2023-02-24","total_value":1210266.923664093,"discrete_return":-0.9251081163156205,"continuous_return":-0.9294138169474183,"x":1677196800000,"y":1210266.923664093},{"date":"2023-02-27","total_value":1214177.673542023,"discrete_return":0.3231311871343179,"continuous_return":0.3226102402400768,"x":1677456000000,"y":1214177.673542023},{"date":"2023-02-28","total_value":1207867.400390625,"discrete_return":-0.5197157952171239,"continuous_return":-0.5210710153240246,"x":1677542400000,"y":1207867.400390625},{"date":"2023-03-01","total_value":1193487.793136597,"discrete_return":-1.190495517088874,"continuous_return":-1.197638664136921,"x":1677628800000,"y":1193487.793136597},{"date":"2023-03-02","total_value":1207261.856903076,"discrete_return":1.15410177177262,"continuous_return":1.147492818037019,"x":1677715200000,"y":1207261.856903076},{"date":"2023-03-03","total_value":1231200.357753754,"discrete_return":1.982875605138856,"continuous_return":1.963472697758119,"x":1677801600000,"y":1231200.357753754},{"date":"2023-03-06","total_value":1233267.591827393,"discrete_return":0.1679039532940463,"continuous_return":0.1677631521914331,"x":1678060800000,"y":1233267.591827393},{"date":"2023-03-07","total_value":1216587.640838623,"discrete_return":-1.352500552135161,"continuous_return":-1.361730155623679,"x":1678147200000,"y":1216587.640838623},{"date":"2023-03-08","total_value":1228871.084632874,"discrete_return":1.009663700494534,"continuous_return":1.00460064790256,"x":1678233600000,"y":1228871.084632874},{"date":"2023-03-09","total_value":1207665.204418182,"discrete_return":-1.72563912357222,"continuous_return":-1.740701812102691,"x":1678320000000,"y":1207665.204418182},{"date":"2023-03-10","total_value":1191714.144645691,"discrete_return":-1.320818030869431,"continuous_return":-1.329618409446762,"x":1678406400000,"y":1191714.144645691},{"date":"2023-03-13","total_value":1193439.261199951,"discrete_return":0.1447592580830825,"continuous_return":0.1446545828749385,"x":1678665600000,"y":1193439.261199951},{"date":"2023-03-14","total_value":1219060.773227692,"discrete_return":2.146863511258967,"continuous_return":2.124143006854462,"x":1678752000000,"y":1219060.773227692},{"date":"2023-03-15","total_value":1212844.307891846,"discrete_return":-0.5099389195656445,"continuous_return":-0.5112435451597312,"x":1678838400000,"y":1212844.307891846},{"date":"2023-03-16","total_value":1238727.047420502,"discrete_return":2.134052933277575,"continuous_return":2.111600887677447,"x":1678924800000,"y":1238727.047420502},{"date":"2023-03-17","total_value":1239383.269126892,"discrete_return":0.05297548864835466,"continuous_return":0.05296146159008348,"x":1679011200000,"y":1239383.269126892},{"date":"2023-03-20","total_value":1256038.203128815,"discrete_return":1.343808200158736,"continuous_return":1.33485918039727,"x":1679270400000,"y":1256038.203128815},{"date":"2023-03-21","total_value":1275039.072006226,"discrete_return":1.512762018709246,"continuous_return":1.501433876434719,"x":1679356800000,"y":1275039.072006226},{"date":"2023-03-22","total_value":1269468.151504517,"discrete_return":-0.4369215519759218,"continuous_return":-0.437878843615455,"x":1679443200000,"y":1269468.151504517},{"date":"2023-03-23","total_value":1283483.532539368,"discrete_return":1.104035656053348,"continuous_return":1.097985671003471,"x":1679529600000,"y":1283483.532539368},{"date":"2023-03-24","total_value":1281223.696105957,"discrete_return":-0.1760705436508081,"continuous_return":-0.1762257300175877,"x":1679616000000,"y":1281223.696105957},{"date":"2023-03-27","total_value":1282459.259559631,"discrete_return":0.09643620059709423,"continuous_return":0.0963897307665925,"x":1679875200000,"y":1282459.259559631},{"date":"2023-03-28","total_value":1281227.06072998,"discrete_return":-0.09608093360204961,"continuous_return":-0.09612712091823188,"x":1679961600000,"y":1281227.06072998},{"date":"2023-03-29","total_value":1302933.514183044,"discrete_return":1.694192553246321,"continuous_return":1.680001173138501,"x":1680048000000,"y":1302933.514183044},{"date":"2023-03-30","total_value":1316856.03036499,"discrete_return":1.0685515439117,"continuous_return":1.062882877892439,"x":1680134400000,"y":1316856.03036499},{"date":"2023-03-31","total_value":1332336.06426239,"discrete_return":1.17552971171111,"continuous_return":1.168674035895711,"x":1680220800000,"y":1332336.06426239},{"date":"2023-04-03","total_value":1355629.32006073,"discrete_return":1.748301830382082,"continuous_return":1.733194856764509,"x":1680480000000,"y":1355629.32006073},{"date":"2023-04-04","total_value":1340428.462356567,"discrete_return":-1.121313730768347,"continuous_return":-1.127647847911133,"x":1680566400000,"y":1340428.462356567},{"date":"2023-04-05","total_value":1335617.933628082,"discrete_return":-0.3588799300805579,"continuous_return":-0.3595254489896094,"x":1680652800000,"y":1335617.933628082},{"date":"2023-04-06","total_value":1337532.145709991,"discrete_return":0.1433203338853994,"continuous_return":0.1432177283196008,"x":1680739200000,"y":1337532.145709991},{"date":"2023-04-10","total_value":1340021.370922089,"discrete_return":0.1861058233315172,"continuous_return":0.1859328610061858,"x":1681084800000,"y":1340021.370922089},{"date":"2023-04-11","total_value":1331544.096740723,"discrete_return":-0.6326223122495866,"continuous_return":-0.6346318468586979,"x":1681171200000,"y":1331544.096740723},{"date":"2023-04-12","total_value":1316810.399772644,"discrete_return":-1.106512131602921,"continuous_return":-1.112679514516809,"x":1681257600000,"y":1316810.399772644},{"date":"2023-04-13","total_value":1328720.511169434,"discrete_return":0.9044666869919782,"continuous_return":0.9004008845488083,"x":1681344000000,"y":1328720.511169434},{"date":"2023-04-14","total_value":1332069.196529388,"discrete_return":0.2520233060154586,"continuous_return":0.2517062598566667,"x":1681430400000,"y":1332069.196529388},{"date":"2023-04-17","total_value":1334996.620853424,"discrete_return":0.2197651842458903,"continuous_return":0.2195240537807746,"x":1681689600000,"y":1334996.620853424},{"date":"2023-04-18","total_value":1354968.087242126,"discrete_return":1.495993778316485,"continuous_return":1.484914155041361,"x":1681776000000,"y":1354968.087242126},{"date":"2023-04-19","total_value":1361306.042434692,"discrete_return":0.4677567872071409,"continuous_return":0.4666662046741166,"x":1681862400000,"y":1361306.042434692},{"date":"2023-04-20","total_value":1344378.371974945,"discrete_return":-1.243487498922158,"continuous_return":-1.251283500342127,"x":1681948800000,"y":1344378.371974945},{"date":"2023-04-21","total_value":1343580.772705078,"discrete_return":-0.05932848121434908,"continuous_return":-0.0593460875218127,"x":1682035200000,"y":1343580.772705078},{"date":"2023-04-24","total_value":1349835.675392151,"discrete_return":0.4655397586912136,"continuous_return":0.4644594738294744,"x":1682294400000,"y":1349835.675392151},{"date":"2023-04-25","total_value":1326669.113544464,"discrete_return":-1.716250523676255,"continuous_return":-1.731148810309729,"x":1682380800000,"y":1326669.113544464},{"date":"2023-04-26","total_value":1335453.795383453,"discrete_return":0.6621607263863405,"continuous_return":0.6599780720703115,"x":1682467200000,"y":1335453.795383453},{"date":"2023-04-27","total_value":1353563.197395325,"discrete_return":1.356048563752177,"continuous_return":1.346936508722741,"x":1682553600000,"y":1353563.197395325},{"date":"2023-04-28","total_value":1368094.558246613,"discrete_return":1.073563530631638,"continuous_return":1.067841752216196,"x":1682640000000,"y":1368094.558246613}],"type":"area"}],"xAxis":{"type":"datetime","title":{"text":"Date"}},"tooltip":{"pointFormat":"Value: ${point.y:,.0f}"}},"theme":{"colors":["#d35400","#2980b9","#2ecc71","#f1c40f","#2c3e50","#7f8c8d"],"chart":{"style":{"fontFamily":"Roboto","color":"#666666"}},"title":{"align":"left","style":{"fontFamily":"Roboto Condensed","fontWeight":"bold"}},"subtitle":{"align":"left","style":{"fontFamily":"Roboto Condensed"}},"legend":{"align":"right","verticalAlign":"bottom"},"xAxis":{"gridLineWidth":1,"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"yAxis":{"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"plotOptions":{"line":{"marker":{"enabled":false}},"spline":{"marker":{"enabled":false}},"area":{"marker":{"enabled":false}},"areaspline":{"marker":{"enabled":false}},"arearange":{"marker":{"enabled":false}},"bubble":{"maxSize":"10%"}}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":["Roboto","Roboto+Condensed"],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Portfolio returns (continous returns)</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(portfolio, <span class="at">type =</span> <span class="st">"line"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> date, <span class="at">y =</span> continuous_return)) <span class="sc">|&gt;</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Portfolio Returns Over Time"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Portfolio Return (%)"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Date"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">"Return: {point.y:.2f} %"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_add_theme</span>(<span class="fu">hc_theme_smpl</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-b288e0d03fbed72d4ef9" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-b288e0d03fbed72d4ef9">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Portfolio Returns Over Time"},"yAxis":{"title":{"text":"Portfolio Return (%)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"date":"2023-01-03","total_value":999916.8239536285,"discrete_return":null,"continuous_return":null,"x":1672704000000,"y":null},{"date":"2023-01-04","total_value":1011080.489063263,"discrete_return":1.116459373640066,"continuous_return":1.110272969183139,"x":1672790400000,"y":1.110272969183139},{"date":"2023-01-05","total_value":1004705.184082031,"discrete_return":-0.6305437648330248,"continuous_return":-0.6325400882494772,"x":1672876800000,"y":-0.6325400882494772},{"date":"2023-01-06","total_value":1033481.144237518,"discrete_return":2.864119804634901,"continuous_return":2.823870610019906,"x":1672963200000,"y":2.823870610019906},{"date":"2023-01-09","total_value":1039950.050420761,"discrete_return":0.6259336437159035,"continuous_return":0.6239828154457674,"x":1673222400000,"y":0.6239828154457674},{"date":"2023-01-10","total_value":1049661.443561554,"discrete_return":0.9338326525263119,"continuous_return":0.9294993914601684,"x":1673308800000,"y":0.9294993914601684},{"date":"2023-01-11","total_value":1061999.392940521,"discrete_return":1.175421794774523,"continuous_return":1.16856737275844,"x":1673395200000,"y":1.16856737275844},{"date":"2023-01-12","total_value":1072789.266887665,"discrete_return":1.015996244335704,"continuous_return":1.010869696938186,"x":1673481600000,"y":1.010869696938186},{"date":"2023-01-13","total_value":1082934.924411774,"discrete_return":0.9457269789380884,"continuous_return":0.9412829781167402,"x":1673568000000,"y":0.9412829781167402},{"date":"2023-01-17","total_value":1097268.582904816,"discrete_return":1.323593705395343,"continuous_return":1.314910738131406,"x":1673913600000,"y":1.314910738131406},{"date":"2023-01-18","total_value":1078474.424751282,"discrete_return":-1.712812928971308,"continuous_return":-1.727651248802747,"x":1674000000000,"y":-1.727651248802747},{"date":"2023-01-19","total_value":1066073.321414948,"discrete_return":-1.149874586891031,"continuous_return":-1.156536765088465,"x":1674086400000,"y":-1.156536765088465},{"date":"2023-01-20","total_value":1097766.882408142,"discrete_return":2.972925065897836,"continuous_return":2.929590424901026,"x":1674172800000,"y":2.929590424901026},{"date":"2023-01-23","total_value":1130160.150039673,"discrete_return":2.950833018433796,"continuous_return":2.908133893848646,"x":1674432000000,"y":2.908133893848646},{"date":"2023-01-24","total_value":1137381.261405945,"discrete_return":0.6389458490478894,"continuous_return":0.6369132436286772,"x":1674518400000,"y":0.6369132436286772},{"date":"2023-01-25","total_value":1134463.129096985,"discrete_return":-0.2565658858624809,"continuous_return":-0.2568955801742451,"x":1674604800000,"y":-0.2568955801742451},{"date":"2023-01-26","total_value":1157476.622299194,"discrete_return":2.028580093257659,"continuous_return":2.008278504105574,"x":1674691200000,"y":2.008278504105574},{"date":"2023-01-27","total_value":1168098.52274704,"discrete_return":0.9176773200608057,"continuous_return":0.9134922459082767,"x":1674777600000,"y":0.9134922459082767},{"date":"2023-01-30","total_value":1134420.687107086,"discrete_return":-2.883133141950456,"continuous_return":-2.92551197198392,"x":1675036800000,"y":-2.92551197198392},{"date":"2023-01-31","total_value":1152291.640823364,"discrete_return":1.575337431641088,"continuous_return":1.563057787517106,"x":1675123200000,"y":1.563057787517106},{"date":"2023-02-01","total_value":1177536.584766388,"discrete_return":2.190846748222963,"continuous_return":2.167192562012357,"x":1675209600000,"y":2.167192562012357},{"date":"2023-02-02","total_value":1191434.654563904,"discrete_return":1.18026649679619,"continuous_return":1.173355676031251,"x":1675296000000,"y":1.173355676031251},{"date":"2023-02-03","total_value":1186636.49691391,"discrete_return":-0.4027210079557531,"continuous_return":-0.4035341127704721,"x":1675382400000,"y":-0.4035341127704721},{"date":"2023-02-06","total_value":1178668.822502136,"discrete_return":-0.6714503078655731,"continuous_return":-0.6737146772138356,"x":1675641600000,"y":-0.6737146772138356},{"date":"2023-02-07","total_value":1211443.952289581,"discrete_return":2.780690314508227,"continuous_return":2.742731198181056,"x":1675728000000,"y":2.742731198181056},{"date":"2023-02-08","total_value":1202876.450656891,"discrete_return":-0.7072140330139254,"continuous_return":-0.7097266448266565,"x":1675814400000,"y":-0.7097266448266565},{"date":"2023-02-09","total_value":1206355.156570435,"discrete_return":0.2891989374007586,"continuous_return":0.2887815617774024,"x":1675900800000,"y":0.2887815617774024},{"date":"2023-02-10","total_value":1203515.699943542,"discrete_return":-0.2353748488931218,"continuous_return":-0.2356522909285935,"x":1675987200000,"y":-0.2356522909285935},{"date":"2023-02-13","total_value":1221059.26651001,"discrete_return":1.457693203943267,"continuous_return":1.447170987723351,"x":1676246400000,"y":1.447170987723351},{"date":"2023-02-14","total_value":1236423.122821808,"discrete_return":1.25824001612227,"continuous_return":1.250389956243229,"x":1676332800000,"y":1.250389956243229},{"date":"2023-02-15","total_value":1238124.499816895,"discrete_return":0.1376047538810043,"continuous_return":0.1375101653018625,"x":1676419200000,"y":0.1375101653018625},{"date":"2023-02-16","total_value":1216766.110588074,"discrete_return":-1.725059897609604,"continuous_return":-1.740112417014809,"x":1676505600000,"y":-1.740112417014809},{"date":"2023-02-17","total_value":1196976.217655182,"discrete_return":-1.626433606317912,"continuous_return":-1.639805222906429,"x":1676592000000,"y":-1.639805222906429},{"date":"2023-02-21","total_value":1177317.170654297,"discrete_return":-1.642392447812879,"continuous_return":-1.656029231750461,"x":1676937600000,"y":-1.656029231750461},{"date":"2023-02-22","total_value":1171122.28004837,"discrete_return":-0.5261870598968432,"continuous_return":-0.5275762994823988,"x":1677024000000,"y":-0.5275762994823988},{"date":"2023-02-23","total_value":1221567.7460289,"discrete_return":4.307446527142011,"continuous_return":4.217256874472588,"x":1677110400000,"y":4.217256874472588},{"date":"2023-02-24","total_value":1210266.923664093,"discrete_return":-0.9251081163156205,"continuous_return":-0.9294138169474183,"x":1677196800000,"y":-0.9294138169474183},{"date":"2023-02-27","total_value":1214177.673542023,"discrete_return":0.3231311871343179,"continuous_return":0.3226102402400768,"x":1677456000000,"y":0.3226102402400768},{"date":"2023-02-28","total_value":1207867.400390625,"discrete_return":-0.5197157952171239,"continuous_return":-0.5210710153240246,"x":1677542400000,"y":-0.5210710153240246},{"date":"2023-03-01","total_value":1193487.793136597,"discrete_return":-1.190495517088874,"continuous_return":-1.197638664136921,"x":1677628800000,"y":-1.197638664136921},{"date":"2023-03-02","total_value":1207261.856903076,"discrete_return":1.15410177177262,"continuous_return":1.147492818037019,"x":1677715200000,"y":1.147492818037019},{"date":"2023-03-03","total_value":1231200.357753754,"discrete_return":1.982875605138856,"continuous_return":1.963472697758119,"x":1677801600000,"y":1.963472697758119},{"date":"2023-03-06","total_value":1233267.591827393,"discrete_return":0.1679039532940463,"continuous_return":0.1677631521914331,"x":1678060800000,"y":0.1677631521914331},{"date":"2023-03-07","total_value":1216587.640838623,"discrete_return":-1.352500552135161,"continuous_return":-1.361730155623679,"x":1678147200000,"y":-1.361730155623679},{"date":"2023-03-08","total_value":1228871.084632874,"discrete_return":1.009663700494534,"continuous_return":1.00460064790256,"x":1678233600000,"y":1.00460064790256},{"date":"2023-03-09","total_value":1207665.204418182,"discrete_return":-1.72563912357222,"continuous_return":-1.740701812102691,"x":1678320000000,"y":-1.740701812102691},{"date":"2023-03-10","total_value":1191714.144645691,"discrete_return":-1.320818030869431,"continuous_return":-1.329618409446762,"x":1678406400000,"y":-1.329618409446762},{"date":"2023-03-13","total_value":1193439.261199951,"discrete_return":0.1447592580830825,"continuous_return":0.1446545828749385,"x":1678665600000,"y":0.1446545828749385},{"date":"2023-03-14","total_value":1219060.773227692,"discrete_return":2.146863511258967,"continuous_return":2.124143006854462,"x":1678752000000,"y":2.124143006854462},{"date":"2023-03-15","total_value":1212844.307891846,"discrete_return":-0.5099389195656445,"continuous_return":-0.5112435451597312,"x":1678838400000,"y":-0.5112435451597312},{"date":"2023-03-16","total_value":1238727.047420502,"discrete_return":2.134052933277575,"continuous_return":2.111600887677447,"x":1678924800000,"y":2.111600887677447},{"date":"2023-03-17","total_value":1239383.269126892,"discrete_return":0.05297548864835466,"continuous_return":0.05296146159008348,"x":1679011200000,"y":0.05296146159008348},{"date":"2023-03-20","total_value":1256038.203128815,"discrete_return":1.343808200158736,"continuous_return":1.33485918039727,"x":1679270400000,"y":1.33485918039727},{"date":"2023-03-21","total_value":1275039.072006226,"discrete_return":1.512762018709246,"continuous_return":1.501433876434719,"x":1679356800000,"y":1.501433876434719},{"date":"2023-03-22","total_value":1269468.151504517,"discrete_return":-0.4369215519759218,"continuous_return":-0.437878843615455,"x":1679443200000,"y":-0.437878843615455},{"date":"2023-03-23","total_value":1283483.532539368,"discrete_return":1.104035656053348,"continuous_return":1.097985671003471,"x":1679529600000,"y":1.097985671003471},{"date":"2023-03-24","total_value":1281223.696105957,"discrete_return":-0.1760705436508081,"continuous_return":-0.1762257300175877,"x":1679616000000,"y":-0.1762257300175877},{"date":"2023-03-27","total_value":1282459.259559631,"discrete_return":0.09643620059709423,"continuous_return":0.0963897307665925,"x":1679875200000,"y":0.0963897307665925},{"date":"2023-03-28","total_value":1281227.06072998,"discrete_return":-0.09608093360204961,"continuous_return":-0.09612712091823188,"x":1679961600000,"y":-0.09612712091823188},{"date":"2023-03-29","total_value":1302933.514183044,"discrete_return":1.694192553246321,"continuous_return":1.680001173138501,"x":1680048000000,"y":1.680001173138501},{"date":"2023-03-30","total_value":1316856.03036499,"discrete_return":1.0685515439117,"continuous_return":1.062882877892439,"x":1680134400000,"y":1.062882877892439},{"date":"2023-03-31","total_value":1332336.06426239,"discrete_return":1.17552971171111,"continuous_return":1.168674035895711,"x":1680220800000,"y":1.168674035895711},{"date":"2023-04-03","total_value":1355629.32006073,"discrete_return":1.748301830382082,"continuous_return":1.733194856764509,"x":1680480000000,"y":1.733194856764509},{"date":"2023-04-04","total_value":1340428.462356567,"discrete_return":-1.121313730768347,"continuous_return":-1.127647847911133,"x":1680566400000,"y":-1.127647847911133},{"date":"2023-04-05","total_value":1335617.933628082,"discrete_return":-0.3588799300805579,"continuous_return":-0.3595254489896094,"x":1680652800000,"y":-0.3595254489896094},{"date":"2023-04-06","total_value":1337532.145709991,"discrete_return":0.1433203338853994,"continuous_return":0.1432177283196008,"x":1680739200000,"y":0.1432177283196008},{"date":"2023-04-10","total_value":1340021.370922089,"discrete_return":0.1861058233315172,"continuous_return":0.1859328610061858,"x":1681084800000,"y":0.1859328610061858},{"date":"2023-04-11","total_value":1331544.096740723,"discrete_return":-0.6326223122495866,"continuous_return":-0.6346318468586979,"x":1681171200000,"y":-0.6346318468586979},{"date":"2023-04-12","total_value":1316810.399772644,"discrete_return":-1.106512131602921,"continuous_return":-1.112679514516809,"x":1681257600000,"y":-1.112679514516809},{"date":"2023-04-13","total_value":1328720.511169434,"discrete_return":0.9044666869919782,"continuous_return":0.9004008845488083,"x":1681344000000,"y":0.9004008845488083},{"date":"2023-04-14","total_value":1332069.196529388,"discrete_return":0.2520233060154586,"continuous_return":0.2517062598566667,"x":1681430400000,"y":0.2517062598566667},{"date":"2023-04-17","total_value":1334996.620853424,"discrete_return":0.2197651842458903,"continuous_return":0.2195240537807746,"x":1681689600000,"y":0.2195240537807746},{"date":"2023-04-18","total_value":1354968.087242126,"discrete_return":1.495993778316485,"continuous_return":1.484914155041361,"x":1681776000000,"y":1.484914155041361},{"date":"2023-04-19","total_value":1361306.042434692,"discrete_return":0.4677567872071409,"continuous_return":0.4666662046741166,"x":1681862400000,"y":0.4666662046741166},{"date":"2023-04-20","total_value":1344378.371974945,"discrete_return":-1.243487498922158,"continuous_return":-1.251283500342127,"x":1681948800000,"y":-1.251283500342127},{"date":"2023-04-21","total_value":1343580.772705078,"discrete_return":-0.05932848121434908,"continuous_return":-0.0593460875218127,"x":1682035200000,"y":-0.0593460875218127},{"date":"2023-04-24","total_value":1349835.675392151,"discrete_return":0.4655397586912136,"continuous_return":0.4644594738294744,"x":1682294400000,"y":0.4644594738294744},{"date":"2023-04-25","total_value":1326669.113544464,"discrete_return":-1.716250523676255,"continuous_return":-1.731148810309729,"x":1682380800000,"y":-1.731148810309729},{"date":"2023-04-26","total_value":1335453.795383453,"discrete_return":0.6621607263863405,"continuous_return":0.6599780720703115,"x":1682467200000,"y":0.6599780720703115},{"date":"2023-04-27","total_value":1353563.197395325,"discrete_return":1.356048563752177,"continuous_return":1.346936508722741,"x":1682553600000,"y":1.346936508722741},{"date":"2023-04-28","total_value":1368094.558246613,"discrete_return":1.073563530631638,"continuous_return":1.067841752216196,"x":1682640000000,"y":1.067841752216196}],"type":"line"}],"xAxis":{"type":"datetime","title":{"text":"Date"}},"tooltip":{"pointFormat":"Return: {point.y:.2f} %"}},"theme":{"colors":["#d35400","#2980b9","#2ecc71","#f1c40f","#2c3e50","#7f8c8d"],"chart":{"style":{"fontFamily":"Roboto","color":"#666666"}},"title":{"align":"left","style":{"fontFamily":"Roboto Condensed","fontWeight":"bold"}},"subtitle":{"align":"left","style":{"fontFamily":"Roboto Condensed"}},"legend":{"align":"right","verticalAlign":"bottom"},"xAxis":{"gridLineWidth":1,"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"yAxis":{"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"plotOptions":{"line":{"marker":{"enabled":false}},"spline":{"marker":{"enabled":false}},"area":{"marker":{"enabled":false}},"areaspline":{"marker":{"enabled":false}},"arearange":{"marker":{"enabled":false}},"bubble":{"maxSize":"10%"}}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":["Roboto","Roboto+Condensed"],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>This interactive visualization shows how the value of your equally weighted portfolio changes throughout sample period.</p>
</section>
<section id="buy-and-hold-returns" class="level2">
<h2 class="anchored" data-anchor-id="buy-and-hold-returns">5. Buy-and-Hold Returns</h2>
<p>Buy-and-hold returns represent the total return from buying a stock and holding it over a specified period, without any transactions in between.</p>
<section id="calculation" class="level3">
<h3 class="anchored" data-anchor-id="calculation">Calculation</h3>
<p>To calculate buy-and-hold returns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>buy_hold_returns <span class="ot">&lt;-</span> portfolio <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">buy_hold_return =</span> <span class="dv">100</span><span class="sc">*</span>(total_value <span class="sc">/</span> <span class="fu">first</span>(total_value) <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">cumulative_return =</span> <span class="fu">cumsum</span>(<span class="fu">coalesce</span>(discrete_return, <span class="dv">0</span>)))</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(buy_hold_returns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  date       total_value discrete_return continuous_return buy_hold_return
  &lt;date&gt;           &lt;dbl&gt;           &lt;dbl&gt;             &lt;dbl&gt;           &lt;dbl&gt;
1 2023-01-03     999917.          NA                NA               0    
2 2023-01-04    1011080.           1.12              1.11            1.12 
3 2023-01-05    1004705.          -0.631            -0.633           0.479
4 2023-01-06    1033481.           2.86              2.82            3.36 
5 2023-01-09    1039950.           0.626             0.624           4.00 
6 2023-01-10    1049661.           0.934             0.929           4.97 
# ℹ 1 more variable: cumulative_return &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
</section>
<section id="portfolio-comparison-equally-weighted-portfolio-vs.-100-nvda-portfolio" class="level2">
<h2 class="anchored" data-anchor-id="portfolio-comparison-equally-weighted-portfolio-vs.-100-nvda-portfolio">6. Portfolio Comparison: Equally Weighted Portfolio vs.&nbsp;100% NVDA Portfolio</h2>
<p>Let’s compare our equally weighted portfolio against a portfolio fully invested in NVDA.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># NVDA only portfolio: see how many shares we can purchase at most</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>nvda_only_position <span class="ot">&lt;-</span> prices <span class="sc">|&gt;</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(symbol <span class="sc">==</span> <span class="st">"NVDA"</span>, date <span class="sc">==</span> <span class="fu">min</span>(date)) <span class="sc">|&gt;</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shares =</span> <span class="fu">floor</span>(budget <span class="sc">/</span> adjusted)) <span class="sc">|&gt;</span> </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(symbol, shares)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Hold such shares of Nvdia</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>nvda_portfolio <span class="ot">&lt;-</span> prices <span class="sc">|&gt;</span> </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(symbol <span class="sc">==</span> <span class="st">"NVDA"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(nvda_only_position, <span class="at">by =</span> <span class="st">"symbol"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_value =</span> shares <span class="sc">*</span> adjusted) <span class="sc">|&gt;</span> </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, <span class="at">nvda_only =</span> total_value)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine both portfolios for comparison</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>combined_portfolios <span class="ot">&lt;-</span> portfolio <span class="sc">|&gt;</span> </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, <span class="at">equally_weighted =</span> total_value) <span class="sc">|&gt;</span> </span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(nvda_portfolio, <span class="at">by =</span> <span class="st">"date"</span>)</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(combined_portfolios)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  date       equally_weighted nvda_only
  &lt;date&gt;                &lt;dbl&gt;     &lt;dbl&gt;
1 2023-01-03          999917.   999999.
2 2023-01-04         1011080.  1030317.
3 2023-01-05         1004705.   996507.
4 2023-01-06         1033481.  1038002.
5 2023-01-09         1039950.  1091721.
6 2023-01-10         1049661.  1111351.</code></pre>
</div>
</div>
<section id="visualization-of-both-portfolios" class="level3">
<h3 class="anchored" data-anchor-id="visualization-of-both-portfolios">Visualization of Both Portfolios</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>combined_portfolios_long <span class="ot">&lt;-</span> combined_portfolios <span class="sc">|&gt;</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(equally_weighted, nvda_only), <span class="at">names_to =</span> <span class="st">"Portfolio"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(combined_portfolios_long, <span class="st">"line"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> date, <span class="at">y =</span> Value, <span class="at">group =</span> Portfolio)) <span class="sc">|&gt;</span> </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Equally Weighted vs. 100% NVDA Portfolio"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Portfolio Value ($)"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Date"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">"{series.name}: ${point.y:,.0f}"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_add_theme</span>(<span class="fu">hc_theme_smpl</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-2da0304c5deec6f66e71" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-2da0304c5deec6f66e71">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Equally Weighted vs. 100% NVDA Portfolio"},"yAxis":{"title":{"text":"Portfolio Value ($)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":true},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"name":"equally_weighted","data":[{"date":"2023-01-03","Portfolio":"equally_weighted","Value":999916.8239536285,"x":1672704000000,"y":999916.8239536285},{"date":"2023-01-04","Portfolio":"equally_weighted","Value":1011080.489063263,"x":1672790400000,"y":1011080.489063263},{"date":"2023-01-05","Portfolio":"equally_weighted","Value":1004705.184082031,"x":1672876800000,"y":1004705.184082031},{"date":"2023-01-06","Portfolio":"equally_weighted","Value":1033481.144237518,"x":1672963200000,"y":1033481.144237518},{"date":"2023-01-09","Portfolio":"equally_weighted","Value":1039950.050420761,"x":1673222400000,"y":1039950.050420761},{"date":"2023-01-10","Portfolio":"equally_weighted","Value":1049661.443561554,"x":1673308800000,"y":1049661.443561554},{"date":"2023-01-11","Portfolio":"equally_weighted","Value":1061999.392940521,"x":1673395200000,"y":1061999.392940521},{"date":"2023-01-12","Portfolio":"equally_weighted","Value":1072789.266887665,"x":1673481600000,"y":1072789.266887665},{"date":"2023-01-13","Portfolio":"equally_weighted","Value":1082934.924411774,"x":1673568000000,"y":1082934.924411774},{"date":"2023-01-17","Portfolio":"equally_weighted","Value":1097268.582904816,"x":1673913600000,"y":1097268.582904816},{"date":"2023-01-18","Portfolio":"equally_weighted","Value":1078474.424751282,"x":1674000000000,"y":1078474.424751282},{"date":"2023-01-19","Portfolio":"equally_weighted","Value":1066073.321414948,"x":1674086400000,"y":1066073.321414948},{"date":"2023-01-20","Portfolio":"equally_weighted","Value":1097766.882408142,"x":1674172800000,"y":1097766.882408142},{"date":"2023-01-23","Portfolio":"equally_weighted","Value":1130160.150039673,"x":1674432000000,"y":1130160.150039673},{"date":"2023-01-24","Portfolio":"equally_weighted","Value":1137381.261405945,"x":1674518400000,"y":1137381.261405945},{"date":"2023-01-25","Portfolio":"equally_weighted","Value":1134463.129096985,"x":1674604800000,"y":1134463.129096985},{"date":"2023-01-26","Portfolio":"equally_weighted","Value":1157476.622299194,"x":1674691200000,"y":1157476.622299194},{"date":"2023-01-27","Portfolio":"equally_weighted","Value":1168098.52274704,"x":1674777600000,"y":1168098.52274704},{"date":"2023-01-30","Portfolio":"equally_weighted","Value":1134420.687107086,"x":1675036800000,"y":1134420.687107086},{"date":"2023-01-31","Portfolio":"equally_weighted","Value":1152291.640823364,"x":1675123200000,"y":1152291.640823364},{"date":"2023-02-01","Portfolio":"equally_weighted","Value":1177536.584766388,"x":1675209600000,"y":1177536.584766388},{"date":"2023-02-02","Portfolio":"equally_weighted","Value":1191434.654563904,"x":1675296000000,"y":1191434.654563904},{"date":"2023-02-03","Portfolio":"equally_weighted","Value":1186636.49691391,"x":1675382400000,"y":1186636.49691391},{"date":"2023-02-06","Portfolio":"equally_weighted","Value":1178668.822502136,"x":1675641600000,"y":1178668.822502136},{"date":"2023-02-07","Portfolio":"equally_weighted","Value":1211443.952289581,"x":1675728000000,"y":1211443.952289581},{"date":"2023-02-08","Portfolio":"equally_weighted","Value":1202876.450656891,"x":1675814400000,"y":1202876.450656891},{"date":"2023-02-09","Portfolio":"equally_weighted","Value":1206355.156570435,"x":1675900800000,"y":1206355.156570435},{"date":"2023-02-10","Portfolio":"equally_weighted","Value":1203515.699943542,"x":1675987200000,"y":1203515.699943542},{"date":"2023-02-13","Portfolio":"equally_weighted","Value":1221059.26651001,"x":1676246400000,"y":1221059.26651001},{"date":"2023-02-14","Portfolio":"equally_weighted","Value":1236423.122821808,"x":1676332800000,"y":1236423.122821808},{"date":"2023-02-15","Portfolio":"equally_weighted","Value":1238124.499816895,"x":1676419200000,"y":1238124.499816895},{"date":"2023-02-16","Portfolio":"equally_weighted","Value":1216766.110588074,"x":1676505600000,"y":1216766.110588074},{"date":"2023-02-17","Portfolio":"equally_weighted","Value":1196976.217655182,"x":1676592000000,"y":1196976.217655182},{"date":"2023-02-21","Portfolio":"equally_weighted","Value":1177317.170654297,"x":1676937600000,"y":1177317.170654297},{"date":"2023-02-22","Portfolio":"equally_weighted","Value":1171122.28004837,"x":1677024000000,"y":1171122.28004837},{"date":"2023-02-23","Portfolio":"equally_weighted","Value":1221567.7460289,"x":1677110400000,"y":1221567.7460289},{"date":"2023-02-24","Portfolio":"equally_weighted","Value":1210266.923664093,"x":1677196800000,"y":1210266.923664093},{"date":"2023-02-27","Portfolio":"equally_weighted","Value":1214177.673542023,"x":1677456000000,"y":1214177.673542023},{"date":"2023-02-28","Portfolio":"equally_weighted","Value":1207867.400390625,"x":1677542400000,"y":1207867.400390625},{"date":"2023-03-01","Portfolio":"equally_weighted","Value":1193487.793136597,"x":1677628800000,"y":1193487.793136597},{"date":"2023-03-02","Portfolio":"equally_weighted","Value":1207261.856903076,"x":1677715200000,"y":1207261.856903076},{"date":"2023-03-03","Portfolio":"equally_weighted","Value":1231200.357753754,"x":1677801600000,"y":1231200.357753754},{"date":"2023-03-06","Portfolio":"equally_weighted","Value":1233267.591827393,"x":1678060800000,"y":1233267.591827393},{"date":"2023-03-07","Portfolio":"equally_weighted","Value":1216587.640838623,"x":1678147200000,"y":1216587.640838623},{"date":"2023-03-08","Portfolio":"equally_weighted","Value":1228871.084632874,"x":1678233600000,"y":1228871.084632874},{"date":"2023-03-09","Portfolio":"equally_weighted","Value":1207665.204418182,"x":1678320000000,"y":1207665.204418182},{"date":"2023-03-10","Portfolio":"equally_weighted","Value":1191714.144645691,"x":1678406400000,"y":1191714.144645691},{"date":"2023-03-13","Portfolio":"equally_weighted","Value":1193439.261199951,"x":1678665600000,"y":1193439.261199951},{"date":"2023-03-14","Portfolio":"equally_weighted","Value":1219060.773227692,"x":1678752000000,"y":1219060.773227692},{"date":"2023-03-15","Portfolio":"equally_weighted","Value":1212844.307891846,"x":1678838400000,"y":1212844.307891846},{"date":"2023-03-16","Portfolio":"equally_weighted","Value":1238727.047420502,"x":1678924800000,"y":1238727.047420502},{"date":"2023-03-17","Portfolio":"equally_weighted","Value":1239383.269126892,"x":1679011200000,"y":1239383.269126892},{"date":"2023-03-20","Portfolio":"equally_weighted","Value":1256038.203128815,"x":1679270400000,"y":1256038.203128815},{"date":"2023-03-21","Portfolio":"equally_weighted","Value":1275039.072006226,"x":1679356800000,"y":1275039.072006226},{"date":"2023-03-22","Portfolio":"equally_weighted","Value":1269468.151504517,"x":1679443200000,"y":1269468.151504517},{"date":"2023-03-23","Portfolio":"equally_weighted","Value":1283483.532539368,"x":1679529600000,"y":1283483.532539368},{"date":"2023-03-24","Portfolio":"equally_weighted","Value":1281223.696105957,"x":1679616000000,"y":1281223.696105957},{"date":"2023-03-27","Portfolio":"equally_weighted","Value":1282459.259559631,"x":1679875200000,"y":1282459.259559631},{"date":"2023-03-28","Portfolio":"equally_weighted","Value":1281227.06072998,"x":1679961600000,"y":1281227.06072998},{"date":"2023-03-29","Portfolio":"equally_weighted","Value":1302933.514183044,"x":1680048000000,"y":1302933.514183044},{"date":"2023-03-30","Portfolio":"equally_weighted","Value":1316856.03036499,"x":1680134400000,"y":1316856.03036499},{"date":"2023-03-31","Portfolio":"equally_weighted","Value":1332336.06426239,"x":1680220800000,"y":1332336.06426239},{"date":"2023-04-03","Portfolio":"equally_weighted","Value":1355629.32006073,"x":1680480000000,"y":1355629.32006073},{"date":"2023-04-04","Portfolio":"equally_weighted","Value":1340428.462356567,"x":1680566400000,"y":1340428.462356567},{"date":"2023-04-05","Portfolio":"equally_weighted","Value":1335617.933628082,"x":1680652800000,"y":1335617.933628082},{"date":"2023-04-06","Portfolio":"equally_weighted","Value":1337532.145709991,"x":1680739200000,"y":1337532.145709991},{"date":"2023-04-10","Portfolio":"equally_weighted","Value":1340021.370922089,"x":1681084800000,"y":1340021.370922089},{"date":"2023-04-11","Portfolio":"equally_weighted","Value":1331544.096740723,"x":1681171200000,"y":1331544.096740723},{"date":"2023-04-12","Portfolio":"equally_weighted","Value":1316810.399772644,"x":1681257600000,"y":1316810.399772644},{"date":"2023-04-13","Portfolio":"equally_weighted","Value":1328720.511169434,"x":1681344000000,"y":1328720.511169434},{"date":"2023-04-14","Portfolio":"equally_weighted","Value":1332069.196529388,"x":1681430400000,"y":1332069.196529388},{"date":"2023-04-17","Portfolio":"equally_weighted","Value":1334996.620853424,"x":1681689600000,"y":1334996.620853424},{"date":"2023-04-18","Portfolio":"equally_weighted","Value":1354968.087242126,"x":1681776000000,"y":1354968.087242126},{"date":"2023-04-19","Portfolio":"equally_weighted","Value":1361306.042434692,"x":1681862400000,"y":1361306.042434692},{"date":"2023-04-20","Portfolio":"equally_weighted","Value":1344378.371974945,"x":1681948800000,"y":1344378.371974945},{"date":"2023-04-21","Portfolio":"equally_weighted","Value":1343580.772705078,"x":1682035200000,"y":1343580.772705078},{"date":"2023-04-24","Portfolio":"equally_weighted","Value":1349835.675392151,"x":1682294400000,"y":1349835.675392151},{"date":"2023-04-25","Portfolio":"equally_weighted","Value":1326669.113544464,"x":1682380800000,"y":1326669.113544464},{"date":"2023-04-26","Portfolio":"equally_weighted","Value":1335453.795383453,"x":1682467200000,"y":1335453.795383453},{"date":"2023-04-27","Portfolio":"equally_weighted","Value":1353563.197395325,"x":1682553600000,"y":1353563.197395325},{"date":"2023-04-28","Portfolio":"equally_weighted","Value":1368094.558246613,"x":1682640000000,"y":1368094.558246613}],"type":"line"},{"name":"nvda_only","data":[{"date":"2023-01-03","Portfolio":"nvda_only","Value":999999.4426250458,"x":1672704000000,"y":999999.4426250458},{"date":"2023-01-04","Portfolio":"nvda_only","Value":1030317.383197784,"x":1672790400000,"y":1030317.383197784},{"date":"2023-01-05","Portfolio":"nvda_only","Value":996506.7963485718,"x":1672876800000,"y":996506.7963485718},{"date":"2023-01-06","Portfolio":"nvda_only","Value":1038001.565052032,"x":1672963200000,"y":1038001.565052032},{"date":"2023-01-09","Portfolio":"nvda_only","Value":1091721.429162979,"x":1673222400000,"y":1091721.429162979},{"date":"2023-01-10","Portfolio":"nvda_only","Value":1111351.204044342,"x":1673308800000,"y":1111351.204044342},{"date":"2023-01-11","Portfolio":"nvda_only","Value":1117777.891887665,"x":1673395200000,"y":1117777.891887665},{"date":"2023-01-12","Portfolio":"nvda_only","Value":1153404.844158173,"x":1673481600000,"y":1153404.844158173},{"date":"2023-01-13","Portfolio":"nvda_only","Value":1180509.374134064,"x":1673568000000,"y":1180509.374134064},{"date":"2023-01-17","Portfolio":"nvda_only","Value":1236604.275051117,"x":1673913600000,"y":1236604.275051117},{"date":"2023-01-18","Portfolio":"nvda_only","Value":1213900.974113464,"x":1674000000000,"y":1213900.974113464},{"date":"2023-01-19","Portfolio":"nvda_only","Value":1171148.444698334,"x":1674086400000,"y":1171148.444698334},{"date":"2023-01-20","Portfolio":"nvda_only","Value":1246174.697921753,"x":1674172800000,"y":1246174.697921753},{"date":"2023-01-23","Portfolio":"nvda_only","Value":1340760.917106628,"x":1674432000000,"y":1340760.917106628},{"date":"2023-01-24","Portfolio":"nvda_only","Value":1345790.35974884,"x":1674518400000,"y":1345790.35974884},{"date":"2023-01-25","Portfolio":"nvda_only","Value":1349842.077461243,"x":1674604800000,"y":1349842.077461243},{"date":"2023-01-26","Portfolio":"nvda_only","Value":1383303.419685364,"x":1674691200000,"y":1383303.419685364},{"date":"2023-01-27","Portfolio":"nvda_only","Value":1422632.845043182,"x":1674777600000,"y":1422632.845043182},{"date":"2023-01-30","Portfolio":"nvda_only","Value":1338595.173709869,"x":1675036800000,"y":1338595.173709869},{"date":"2023-01-31","Portfolio":"nvda_only","Value":1364791.721000671,"x":1675123200000,"y":1364791.721000671},{"date":"2023-02-01","Portfolio":"nvda_only","Value":1463010.004276276,"x":1675209600000,"y":1463010.004276276},{"date":"2023-02-02","Portfolio":"nvda_only","Value":1516520.174926758,"x":1675296000000,"y":1516520.174926758},{"date":"2023-02-03","Portfolio":"nvda_only","Value":1473977.53899765,"x":1675382400000,"y":1473977.53899765},{"date":"2023-02-06","Portfolio":"nvda_only","Value":1473209.307502747,"x":1675641600000,"y":1473209.307502747},{"date":"2023-02-07","Portfolio":"nvda_only","Value":1548934.049976349,"x":1675728000000,"y":1548934.049976349},{"date":"2023-02-08","Portfolio":"nvda_only","Value":1551169.268917084,"x":1675814400000,"y":1551169.268917084},{"date":"2023-02-09","Portfolio":"nvda_only","Value":1560390.313812256,"x":1675900800000,"y":1560390.313812256},{"date":"2023-02-10","Portfolio":"nvda_only","Value":1485503.945129395,"x":1675987200000,"y":1485503.945129395},{"date":"2023-02-13","Portfolio":"nvda_only","Value":1522039.013435364,"x":1676246400000,"y":1522039.013435364},{"date":"2023-02-14","Portfolio":"nvda_only","Value":1604679.839618683,"x":1676332800000,"y":1604679.839618683},{"date":"2023-02-15","Portfolio":"nvda_only","Value":1590219.191894531,"x":1676419200000,"y":1590219.191894531},{"date":"2023-02-16","Portfolio":"nvda_only","Value":1536988.390274048,"x":1676505600000,"y":1536988.390274048},{"date":"2023-02-17","Portfolio":"nvda_only","Value":1494096.376369476,"x":1676592000000,"y":1494096.376369476},{"date":"2023-02-21","Portfolio":"nvda_only","Value":1442891.300254822,"x":1676937600000,"y":1442891.300254822},{"date":"2023-02-22","Portfolio":"nvda_only","Value":1449807.250614166,"x":1677024000000,"y":1449807.250614166},{"date":"2023-02-23","Portfolio":"nvda_only","Value":1653090.291980743,"x":1677110400000,"y":1653090.291980743},{"date":"2023-02-24","Portfolio":"nvda_only","Value":1626684.51795578,"x":1677196800000,"y":1626684.51795578},{"date":"2023-02-27","Portfolio":"nvda_only","Value":1641703.503688812,"x":1677456000000,"y":1641703.503688812},{"date":"2023-02-28","Portfolio":"nvda_only","Value":1621794.426452637,"x":1677542400000,"y":1621794.426452637},{"date":"2023-03-01","Portfolio":"nvda_only","Value":1585608.469421387,"x":1677628800000,"y":1585608.469421387},{"date":"2023-03-02","Portfolio":"nvda_only","Value":1628640.367866516,"x":1677715200000,"y":1628640.367866516},{"date":"2023-03-03","Portfolio":"nvda_only","Value":1668877.909259796,"x":1677801600000,"y":1668877.909259796},{"date":"2023-03-06","Portfolio":"nvda_only","Value":1645406.243476868,"x":1678060800000,"y":1645406.243476868},{"date":"2023-03-07","Portfolio":"nvda_only","Value":1627100.437767029,"x":1678147200000,"y":1627100.437767029},{"date":"2023-03-08","Portfolio":"nvda_only","Value":1689493.210067749,"x":1678233600000,"y":1689493.210067749},{"date":"2023-03-09","Portfolio":"nvda_only","Value":1637441.092388153,"x":1678320000000,"y":1637441.092388153},{"date":"2023-03-10","Portfolio":"nvda_only","Value":1604533.020858765,"x":1678406400000,"y":1604533.020858765},{"date":"2023-03-13","Portfolio":"nvda_only","Value":1604602.896453857,"x":1678665600000,"y":1604602.896453857},{"date":"2023-03-14","Portfolio":"nvda_only","Value":1681248.556598663,"x":1678752000000,"y":1681248.556598663},{"date":"2023-03-15","Portfolio":"nvda_only","Value":1692777.096336365,"x":1678838400000,"y":1692777.096336365},{"date":"2023-03-16","Portfolio":"nvda_only","Value":1784514.551517487,"x":1678924800000,"y":1784514.551517487},{"date":"2023-03-17","Portfolio":"nvda_only","Value":1797370.460861206,"x":1679011200000,"y":1797370.460861206},{"date":"2023-03-20","Portfolio":"nvda_only","Value":1809597.489849091,"x":1679270400000,"y":1809597.489849091},{"date":"2023-03-21","Portfolio":"nvda_only","Value":1830488.0258255,"x":1679356800000,"y":1830488.0258255},{"date":"2023-03-22","Portfolio":"nvda_only","Value":1849282.694000244,"x":1679443200000,"y":1849282.694000244},{"date":"2023-03-23","Portfolio":"nvda_only","Value":1899797.681938171,"x":1679529600000,"y":1899797.681938171},{"date":"2023-03-24","Portfolio":"nvda_only","Value":1871011.87046814,"x":1679616000000,"y":1871011.87046814},{"date":"2023-03-27","Portfolio":"nvda_only","Value":1853684.589790344,"x":1679875200000,"y":1853684.589790344},{"date":"2023-03-28","Portfolio":"nvda_only","Value":1845230.442886353,"x":1679961600000,"y":1845230.442886353},{"date":"2023-03-29","Portfolio":"nvda_only","Value":1885335.033958435,"x":1680048000000,"y":1885335.033958435},{"date":"2023-03-30","Portfolio":"nvda_only","Value":1913212.462692261,"x":1680134400000,"y":1913212.462692261},{"date":"2023-03-31","Portfolio":"nvda_only","Value":1940740.780151367,"x":1680220800000,"y":1940740.780151367},{"date":"2023-04-03","Portfolio":"nvda_only","Value":1953876.058525085,"x":1680480000000,"y":1953876.058525085},{"date":"2023-04-04","Portfolio":"nvda_only","Value":1918103.220947266,"x":1680566400000,"y":1918103.220947266},{"date":"2023-04-05","Portfolio":"nvda_only","Value":1878138.514415741,"x":1680652800000,"y":1878138.514415741},{"date":"2023-04-06","Portfolio":"nvda_only","Value":1889038.040447235,"x":1680739200000,"y":1889038.040447235},{"date":"2023-04-10","Portfolio":"nvda_only","Value":1926906.879177094,"x":1681084800000,"y":1926906.879177094},{"date":"2023-04-11","Portfolio":"nvda_only","Value":1898260.685546875,"x":1681171200000,"y":1898260.685546875},{"date":"2023-04-12","Portfolio":"nvda_only","Value":1851169.068367004,"x":1681257600000,"y":1851169.068367004},{"date":"2023-04-13","Portfolio":"nvda_only","Value":1848933.31602478,"x":1681344000000,"y":1848933.31602478},{"date":"2023-04-14","Portfolio":"nvda_only","Value":1869544.616321564,"x":1681430400000,"y":1869544.616321564},{"date":"2023-04-17","Portfolio":"nvda_only","Value":1886592.661319733,"x":1681689600000,"y":1886592.661319733},{"date":"2023-04-18","Portfolio":"nvda_only","Value":1933055.264793396,"x":1681776000000,"y":1933055.264793396},{"date":"2023-04-19","Portfolio":"nvda_only","Value":1951500.288291931,"x":1681862400000,"y":1951500.288291931},{"date":"2023-04-20","Portfolio":"nvda_only","Value":1893719.171916962,"x":1681948800000,"y":1893719.171916962},{"date":"2023-04-21","Portfolio":"nvda_only","Value":1894766.905792236,"x":1682035200000,"y":1894766.905792236},{"date":"2023-04-24","Portfolio":"nvda_only","Value":1889387.285072327,"x":1682294400000,"y":1889387.285072327},{"date":"2023-04-25","Portfolio":"nvda_only","Value":1833422.40076828,"x":1682380800000,"y":1833422.40076828},{"date":"2023-04-26","Portfolio":"nvda_only","Value":1883378.383945465,"x":1682467200000,"y":1883378.383945465},{"date":"2023-04-27","Portfolio":"nvda_only","Value":1902243.327766418,"x":1682553600000,"y":1902243.327766418},{"date":"2023-04-28","Portfolio":"nvda_only","Value":1938784.396839142,"x":1682640000000,"y":1938784.396839142}],"type":"line"}],"xAxis":{"type":"datetime","title":{"text":"Date"}},"tooltip":{"pointFormat":"{series.name}: ${point.y:,.0f}"}},"theme":{"colors":["#d35400","#2980b9","#2ecc71","#f1c40f","#2c3e50","#7f8c8d"],"chart":{"style":{"fontFamily":"Roboto","color":"#666666"}},"title":{"align":"left","style":{"fontFamily":"Roboto Condensed","fontWeight":"bold"}},"subtitle":{"align":"left","style":{"fontFamily":"Roboto Condensed"}},"legend":{"align":"right","verticalAlign":"bottom"},"xAxis":{"gridLineWidth":1,"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"yAxis":{"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"plotOptions":{"line":{"marker":{"enabled":false}},"spline":{"marker":{"enabled":false}},"area":{"marker":{"enabled":false}},"areaspline":{"marker":{"enabled":false}},"arearange":{"marker":{"enabled":false}},"bubble":{"maxSize":"10%"}}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":["Roboto","Roboto+Condensed"],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="exercises" class="level2">
<h2 class="anchored" data-anchor-id="exercises">Exercises</h2>
<ol type="1">
<li><p>Suppose we use the following portfolio weights: XOM (20%), WMT (30%), NVDA (30%), and AAPL (20%).</p>
<ul>
<li>Recalculate how many shares you would purchase initially.</li>
<li>Compute and visualize the portfolio value and returns.</li>
</ul></li>
<li><p>Change the budget to $500,000 and use portfolio weights: XOM (25%), WMT (25%), NVDA (25%), and AAPL (25%).</p>
<ul>
<li>Recalculate the shares purchased, portfolio value, and returns.</li>
<li>Provide an interactive visualization for this scenario.</li>
</ul></li>
</ol>
<hr>
<p>Happy coding! 🚀 This version will be continuously updated.</p>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This website is built with <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>
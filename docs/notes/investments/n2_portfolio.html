<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Asst. Prof.&nbsp;Calvin J. Chiou">

<title>R Note 2 - Portfolio Formation using R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../..//img/nccu_logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/quarto-contrib/academicons-1.9.2/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/academicons-1.9.2/size.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="application/json" class="js-hypothesis-config">
{
  "theme": "clean"
}
</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<link href="../../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../../site_libs/datatables-binding-0.33/datatables.js"></script>
<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<script src="../../site_libs/proj4js-2.3.15/proj4.js"></script>
<link href="../../site_libs/highcharts-9.3.1/css/motion.css" rel="stylesheet">
<script src="../../site_libs/highcharts-9.3.1/highcharts.js"></script>
<script src="../../site_libs/highcharts-9.3.1/highcharts-3d.js"></script>
<script src="../../site_libs/highcharts-9.3.1/highcharts-more.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/stock.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/map.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/data.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/exporting.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/offline-exporting.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/drilldown.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/item-series.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/annotations.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/export-data.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/funnel.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/heatmap.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/treemap.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/sankey.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/dependency-wheel.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/organization.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/solid-gauge.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/streamgraph.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/sunburst.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/vector.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/wordcloud.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/xrange.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/tilemap.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/venn.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/gantt.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/timeline.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/bullet.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/coloraxis.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/dumbbell.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/lollipop.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/series-label.js"></script>
<script src="../../site_libs/highcharts-9.3.1/plugins/motion.js"></script>
<script src="../../site_libs/highcharts-9.3.1/custom/reset.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/boost.js"></script>
<script src="../../site_libs/highchart-binding-0.9.4/highchart.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../img/nccu_logo.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">Resume</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources.html"> 
<span class="menu-text">Resources</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/calvinchiou1992/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/calvinchiou"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:jjchiou@nccu.edu.tw"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://scholar.google.com.tw/citations?user=WvORrXMAAAAJ&amp;hl=en"> 
<span class="menu-text"><i class="ai  ai-google-scholar"></i></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#fetching-stock-data" id="toc-fetching-stock-data" class="nav-link active" data-scroll-target="#fetching-stock-data">1. Fetching Stock Data</a></li>
  <li><a href="#constructing-an-equally-weighted-portfolio" id="toc-constructing-an-equally-weighted-portfolio" class="nav-link" data-scroll-target="#constructing-an-equally-weighted-portfolio">2. Constructing an Equally Weighted Portfolio</a></li>
  <li><a href="#portfolio-valuation-and-return-calculation" id="toc-portfolio-valuation-and-return-calculation" class="nav-link" data-scroll-target="#portfolio-valuation-and-return-calculation">3. Portfolio Valuation and Return Calculation</a>
  <ul class="collapse">
  <li><a href="#portfolio-value" id="toc-portfolio-value" class="nav-link" data-scroll-target="#portfolio-value">Portfolio Value</a></li>
  <li><a href="#portfolio-returns" id="toc-portfolio-returns" class="nav-link" data-scroll-target="#portfolio-returns">Portfolio Returns</a></li>
  </ul></li>
  <li><a href="#visualizing-portfolio-value-with-highcharter" id="toc-visualizing-portfolio-value-with-highcharter" class="nav-link" data-scroll-target="#visualizing-portfolio-value-with-highcharter">4. Visualizing Portfolio Value with <code>highcharter</code></a></li>
  <li><a href="#buy-and-hold-returns" id="toc-buy-and-hold-returns" class="nav-link" data-scroll-target="#buy-and-hold-returns">5. Buy-and-Hold Returns</a>
  <ul class="collapse">
  <li><a href="#calculation" id="toc-calculation" class="nav-link" data-scroll-target="#calculation">Calculation</a></li>
  </ul></li>
  <li><a href="#portfolio-comparison-equally-weighted-portfolio-vs.-100-nvda-portfolio" id="toc-portfolio-comparison-equally-weighted-portfolio-vs.-100-nvda-portfolio" class="nav-link" data-scroll-target="#portfolio-comparison-equally-weighted-portfolio-vs.-100-nvda-portfolio">6. Portfolio Comparison: Equally Weighted Portfolio vs.&nbsp;100% NVDA Portfolio</a>
  <ul class="collapse">
  <li><a href="#visualization-of-both-portfolios" id="toc-visualization-of-both-portfolios" class="nav-link" data-scroll-target="#visualization-of-both-portfolios">Visualization of Both Portfolios</a></li>
  </ul></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">R Note 2 - Portfolio Formation using R</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Asst. Prof.&nbsp;Calvin J. Chiou <a href="mailto:jjchiou@nccu.edu.tw" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            National Chengchi University (NCCU)
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  


</header>


<section id="fetching-stock-data" class="level2">
<h2 class="anchored" data-anchor-id="fetching-stock-data">1. Fetching Stock Data</h2>
<p>We use R to create an equally weighted portfolio consisting of four stocks: ExxonMobil (XOM), Walmart (WMT), NVIDIA (NVDA), and Apple (AAPL).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyquant)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define stock tickers and date range</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>stocks <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"XOM"</span>, <span class="st">"WMT"</span>, <span class="st">"NVDA"</span>, <span class="st">"AAPL"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>start_date <span class="ot">&lt;-</span> <span class="st">"2023-01-01"</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>end_date <span class="ot">&lt;-</span> <span class="st">"2023-04-30"</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Download stock prices</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>prices <span class="ot">&lt;-</span> <span class="fu">tq_get</span>(stocks, <span class="at">from =</span> start_date, <span class="at">to =</span> end_date)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print out interactive table</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(prices) <span class="sc">|&gt;</span> </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"open"</span>,<span class="st">"high"</span>,<span class="st">"low"</span>,<span class="st">"close"</span>,<span class="st">"adjusted"</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-eb63faf8ec231099f11c" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-eb63faf8ec231099f11c">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324"],["XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","XOM","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","WMT","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","NVDA","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL"],["2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-01-23","2023-01-24","2023-01-25","2023-01-26","2023-01-27","2023-01-30","2023-01-31","2023-02-01","2023-02-02","2023-02-03","2023-02-06","2023-02-07","2023-02-08","2023-02-09","2023-02-10","2023-02-13","2023-02-14","2023-02-15","2023-02-16","2023-02-17","2023-02-21","2023-02-22","2023-02-23","2023-02-24","2023-02-27","2023-02-28","2023-03-01","2023-03-02","2023-03-03","2023-03-06","2023-03-07","2023-03-08","2023-03-09","2023-03-10","2023-03-13","2023-03-14","2023-03-15","2023-03-16","2023-03-17","2023-03-20","2023-03-21","2023-03-22","2023-03-23","2023-03-24","2023-03-27","2023-03-28","2023-03-29","2023-03-30","2023-03-31","2023-04-03","2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28"],[109.7799987792969,104.8000030517578,106.3399963378906,110.0800018310547,111.6399993896484,109.7900009155273,110.9899978637695,111.8199996948242,113.1100006103516,113.4100036621094,113.2600021362305,110.0699996948242,111.3600006103516,113.6399993896484,109.1600036621094,113.2300033569336,114.7200012207031,116.9499969482422,115.0899963378906,112.0999984741211,115.8300018310547,114.8499984741211,111.9000015258789,112.3600006103516,112.3899993896484,115.0500030517578,114.620002746582,116.5100021362305,117.7200012207031,117.0100021362305,115.7200012207031,115.3099975585938,114.1900024414062,110.8099975585938,110.4800033569336,110.7300033569336,109.3300018310547,110.8000030517578,111.2399978637695,109.3099975585938,110.620002746582,110.0500030517578,111.9899978637695,112.8099975585938,111.2300033569336,110.870002746582,109.5599975585938,105.3399963378906,106.3499984741211,102.8199996948242,99.11000061035156,100.5999984741211,99.62999725341797,104.1699981689453,106.8000030517578,105.3600006103516,101.4700012207031,104.7399978637695,105.4400024414062,108.0599975585938,109.5500030517578,109.6800003051758,113.3899993896484,116.2600021362305,115.3499984741211,116.8600006103516,114.7799987792969,114.9599990844727,116.1600036621094,114.5999984741211,115.9000015258789,115.4899978637695,114.3899993896484,116.0800018310547,115.129997253418,116.4899978637695,115.9199981689453,117.5500030517578,116.0299987792969,115.620002746582,117.25,47.51666641235352,47.80666732788086,47.81999969482422,48.20000076293945,48.77333450317383,48.31333160400391,48.58000183105469,48.8033332824707,48.5099983215332,48.43000030517578,48.06666564941406,47.13000106811523,46.46666717529297,46.81999969482422,48.84999847412109,47.41333389282227,47.67666625976562,47.53333282470703,47.37333297729492,47.43999862670898,47.88666534423828,48.13666534423828,47.78666687011719,47.27333450317383,46.59000015258789,46.77666854858398,46.95666885375977,47.6966667175293,48.23666763305664,48.57666778564453,48.31999969482422,48.49333190917969,48.36999893188477,47.62666702270508,48.92333221435547,48.12333297729492,46.9466667175293,47.56999969482422,47,47.02000045776367,46.61333465576172,47.01333236694336,46.83333206176758,47.06000137329102,46.18666839599609,46.27666854858398,45.67333221435547,45.56000137329102,45.89666748046875,45.63000106811523,46.47666549682617,46.06333160400391,46.70000076293945,47.13000106811523,46.88000106811523,46.73333358764648,47.00333404541016,47.5966682434082,47.88333129882812,48.12333297729492,48.5,48.86000061035156,49.24333190917969,49.5099983215332,49.05666732788086,49.59999847412109,50.11999893188477,50.33333206176758,49.93000030517578,49.88333129882812,49.67666625976562,49.54666519165039,49.92666625976562,50.27999877929688,50.06999969482422,50.6533317565918,50.56999969482422,51.0966682434082,50.32666778564453,50.2599983215332,50.43000030517578,14.85099983215332,14.56700038909912,14.49100017547607,14.47399997711182,15.28400039672852,15.50699996948242,15.84000015258789,16.10000038146973,16.27799987792969,16.89900016784668,17.66699981689453,17.0359992980957,17.01099967956543,18.06399917602539,18.82699966430664,18.91300010681152,19.70100021362305,19.46199989318848,19.95000076293945,19.17000007629395,19.69099998474121,21,21,20.80599975585938,21.38199996948242,22.38699913024902,22.60600090026855,21.69000053405762,21.53800010681152,21.57799911499023,22.54899978637695,22.13299942016602,21.63100051879883,21,20.70700073242188,23.44000053405762,23.22500038146973,23.67000007629395,23.37199974060059,23.1919994354248,22.48800086975098,23.31999969482422,23.89100074768066,23.60000038146973,23.48699951171875,24.17499923706055,23.40900039672852,22.75200080871582,23.49600028991699,23.76099967956543,24.02700042724609,25.98200035095215,25.61499977111816,26.18000030517578,26.42499923706055,27.11499977111816,27.0310001373291,26.83699989318848,26.44700050354004,26.82500076293945,27.22900009155273,27.13999938964844,27.50900077819824,27.96599960327148,26.82900047302246,26.58399963378906,26.82299995422363,27.72400093078613,27.3700008392334,26.73399925231934,26.50399971008301,26.56500053405762,27.53300094604492,27.36100006103516,27.67099952697754,26.95199966430664,27.01300048828125,27.07799911499023,27.00200080871582,27.36300086975098,27.22500038146973,130.2799987792969,126.8899993896484,127.129997253418,126.0100021362305,130.4700012207031,130.2599945068359,131.25,133.8800048828125,132.0299987792969,134.8300018310547,136.8200073242188,134.0800018310547,135.2799987792969,138.1199951171875,140.3099975585938,140.8899993896484,143.1699981689453,143.1600036621094,144.9600067138672,142.6999969482422,143.9700012207031,148.8999938964844,148.0299987792969,152.5700073242188,150.6399993896484,153.8800048828125,153.7799987792969,149.4600067138672,150.9499969482422,152.1199951171875,153.1100006103516,153.5099945068359,152.3500061035156,150.1999969482422,148.8699951171875,150.0899963378906,147.1100006103516,147.7100067138672,147.0500030517578,146.8300018310547,144.3800048828125,148.0399932861328,153.7899932861328,153.6999969482422,152.8099975585938,153.5599975585938,150.2100067138672,147.8099975585938,151.2799987792969,151.1900024414062,152.1600036621094,156.0800018310547,155.0700073242188,157.3200073242188,159.3000030517578,158.8300018310547,158.8600006103516,159.9400024414062,157.9700012207031,159.3699951171875,161.5299987792969,162.4400024414062,164.2700042724609,166.6000061035156,164.7400054931641,162.4299926757812,161.4199981689453,162.3500061035156,161.2200012207031,161.6300048828125,164.5899963378906,165.0899963378906,166.1000061035156,165.8000030517578,166.0899963378906,165.0500030517578,165,165.1900024414062,163.0599975585938,165.1900024414062,168.4900054931641],[110.0199966430664,107.1600036621094,109.9499969482422,111.9899978637695,111.6399993896484,110.3300018310547,111.4499969482422,113.7399978637695,113.4899978637695,114.0800018310547,114.120002746582,112.129997253418,113.4400024414062,114.5899963378906,114.0199966430664,113.6500015258789,117.7799987792969,117.6699981689453,115.4899978637695,116.4000015258789,117.379997253418,115.0699996948242,114.1100006103516,113.0899963378906,115.3099975585938,115.8300018310547,116.2399978637695,119.629997253418,118.1800003051758,117.8099975585938,116.0899963378906,116.7799987792969,114.1900024414062,112.379997253418,110.9700012207031,111.8300018310547,110.9599990844727,111.2600021362305,111.3600006103516,111.8600006103516,111.6999969482422,113.370002746582,113.8399963378906,113.1699981689453,112.4199981689453,112.2300033569336,111.0400009155273,107.8600006103516,109.0100021362305,104.1999969482422,101.6800003051758,101.6100006103516,102.4800033569336,107.2799987792969,107.1800003051758,106.3399963378906,103.8499984741211,106.4800033569336,107.6500015258789,109.1600036621094,109.5699996948242,110.1699981689453,116.8499984741211,116.6999969482422,117,117.1800003051758,116.1800003051758,116.1999969482422,116.5899963378906,115.8899993896484,116.6600036621094,116.5100021362305,117.2099990844727,116.9000015258789,115.6800003051758,116.879997253418,118.8899993896484,117.7399978637695,117.0899963378906,117.0100021362305,119.9199981689453,47.9033317565918,48.01666641235352,48.04333114624023,49.18333435058594,49.28666687011719,48.48333358764648,48.72666549682617,48.80666732788086,48.60666656494141,48.56999969482422,48.08333206176758,47.17666625976562,46.92666625976562,47.66999816894531,48.84999847412109,47.61333465576172,47.91666793823242,48.15666580200195,47.48333358764648,47.95999908447266,48.53666687011719,48.28666687011719,47.98666763305664,47.36666870117188,47.09999847412109,47.03333282470703,47.31333160400391,47.97999954223633,48.70666885375977,49.04333114624023,48.86666870117188,48.66333389282227,48.89666748046875,49.4466667175293,49.18999862670898,48.12333297729492,47.58000183105469,47.6966667175293,47.54999923706055,47.09333419799805,46.91333389282227,47.06333160400391,46.99333190917969,47.22666549682617,46.30666732788086,46.32666778564453,46.09333419799805,46.16666793823242,46.09000015258789,46.60333251953125,46.54999923706055,46.49666595458984,47.30666732788086,47.13000106811523,47.07333374023438,47.20333480834961,47.4900016784668,48.32666778564453,48.13666534423828,48.31999969482422,48.86666870117188,49.47999954223633,49.65000152587891,49.5966682434082,49.95999908447266,50.3466682434082,50.37333297729492,50.33333206176758,50.32333374023438,50,49.96333312988281,49.88999938964844,50.11333465576172,50.47000122070312,50.46333312988281,50.76666641235352,50.98333358764648,51.25,50.47000122070312,50.64666748046875,50.72333145141602,14.99600028991699,14.85299968719482,14.56400012969971,15.01000022888184,16.05599975585938,15.96199989318848,16.02799987792969,16.63699913024902,16.92200088500977,17.72800064086914,17.87299919128418,17.19700050354004,17.85600090026855,19.2450008392334,19.4950008392334,19.3700008392334,20.16600036621094,20.62800025939941,20.13999938964844,19.6870002746582,21.1919994354248,21.94899940490723,21.7450008392334,21.56999969482422,22.25900077819824,22.87800025939941,23.02000045776367,22.07799911499023,22.04800033569336,23.04899978637695,22.85499954223633,22.54999923706055,21.73999977111816,21.49399948120117,21.10400009155273,23.88800048828125,23.47400093078613,23.8799991607666,23.82500076293945,23.25600051879883,23.3799991607666,23.89999961853027,24.24799919128418,24.125,24.20000076293945,24.45400047302246,23.62700080871582,23.29800033569336,24.2189998626709,24.2859992980957,25.58799934387207,26.39900016784668,26.02400016784668,26.39200019836426,27.5890007019043,27.49900054931641,27.16699981689453,27,26.51300048828125,27.07799911499023,27.49900054931641,27.83399963378906,28,28,26.99799919128418,27.07999992370605,27.62100028991699,27.79000091552734,27.4680004119873,26.88699913024902,26.88299942016602,27.00600051879883,28.11000061035156,28,28.03000068664551,27.1830005645752,27.36599922180176,27.24699974060059,27.32999992370605,27.4950008392334,27.75799942016602,130.8999938964844,128.6600036621094,127.7699966430664,130.2899932861328,133.4100036621094,131.2599945068359,133.5099945068359,134.2599945068359,134.9199981689453,137.2899932861328,138.6100006103516,136.25,138.0200042724609,143.3200073242188,143.1600036621094,142.4299926757812,144.25,147.2299957275391,145.5500030517578,144.3399963378906,146.6100006103516,151.1799926757812,157.3800048828125,153.1000061035156,155.2299957275391,154.5800018310547,154.3300018310547,151.3399963378906,154.2599945068359,153.7700042724609,155.5,156.3300018310547,153,151.3000030517578,149.9499969482422,150.3399963378906,147.1900024414062,149.1699981689453,149.0800018310547,147.2299957275391,146.7100067138672,151.1100006103516,156.3000030517578,154.0299987792969,153.4700012207031,154.5399932861328,150.9400024414062,153.1399993896484,153.3999938964844,153.25,156.4600067138672,156.7400054931641,157.8200073242188,159.3999938964844,162.1399993896484,161.5500030517578,160.3399963378906,160.7700042724609,158.4900054931641,161.0500030517578,162.4700012207031,165,166.2899932861328,166.8399963378906,165.0500030517578,164.9600067138672,162.0299987792969,162.3600006103516,162.0599975585938,165.8000030517578,166.3200073242188,165.3899993896484,167.4100036621094,168.1600036621094,167.8699951171875,166.4499969482422,165.6000061035156,166.3099975585938,165.2799987792969,168.5599975585938,169.8500061035156],[105.4899978637695,104.7600021362305,106.3099975585938,109.6699981689453,107.8099975585938,108.0100021362305,109.0899963378906,111.7399978637695,112.1600036621094,112.6699981689453,110.4000015258789,109.5800018310547,110.6100006103516,112.6399993896484,104.870002746582,111.3899993896484,114.3399963378906,115.3899993896484,113.1500015258789,110.4300003051758,113.3399963378906,109.8300018310547,111.5599975585938,110.3199996948242,112.0199966430664,113.8499984741211,114.1800003051758,116.1600036621094,115.9000015258789,116.0199966430664,114.1399993896484,114.8000030517578,110.9800033569336,110.8099975585938,108.6399993896484,109.9000015258789,109.0199966430664,109.9599990844727,109.2200012207031,109.2399978637695,110.1699981689453,109.9499969482422,111.870002746582,111.1699981689453,109.0699996948242,109.0299987792969,107.1500015258789,103.7200012207031,104.9599990844727,100.2200012207031,98.01999664306641,99.13999938964844,99.5,104.129997253418,104.5599975585938,102.4400024414062,100.9100036621094,103.9100036621094,105.1900024414062,107.4899978637695,108.5199966430664,109.0500030517578,113.120002746582,114.1699981689453,114.3099975585938,114.7699966430664,114.1699981689453,114.379997253418,114.9300003051758,114.129997253418,115.120002746582,114.4199981689453,114.3000030517578,115.7699966430664,113.2300033569336,115.2600021362305,115.879997253418,115.629997253418,114.6800003051758,114.879997253418,116.8300018310547,47.36333465576172,47.35666656494141,47.54999923706055,48.08000183105469,48.26666641235352,47.90999984741211,48.24333190917969,48.13000106811523,47.95333480834961,48.06666564941406,46.82666778564453,46.26333236694336,46.05666732788086,46.73333358764648,47,46.79666519165039,47.25333404541016,47.25,47.09000015258789,47.22000122070312,47.56666564941406,47.64666748046875,46.95333480834961,46.67666625976562,46.22999954223633,46.66333389282227,46.85666656494141,47.38999938964844,48.16999816894531,48.18666839599609,48.18666839599609,48.06000137329102,48.18999862670898,47.38333129882812,47.58666610717773,46.9033317565918,46.5099983215332,46.88666534423828,46.98333358764648,46.45666885375977,46.5,46.59000015258789,46.67333221435547,46.26333236694336,45.7599983215332,45.63999938964844,45.36333465576172,45.52666854858398,45.66666793823242,45.56999969482422,45.95999908447266,45.86333465576172,46.60333251953125,46.5099983215332,46.48666763305664,46.49666595458984,46.86666870117188,47.59333419799805,47.68333435058594,47.81666564941406,48.34000015258789,48.82333374023438,49.16666793823242,49.00666809082031,49.04666519165039,49.50666809082031,49.92333221435547,49.87333297729492,49.72333145141602,49.40000152587891,49.38333129882812,49.5,49.81333160400391,49.92333221435547,49.86666870117188,50.39333343505859,50.56999969482422,50.44333267211914,50.07333374023438,50.2599983215332,50.06000137329102,14.0959997177124,14.24100017547607,14.14799976348877,14.03400039672852,15.14099979400635,15.47200012207031,15.5629997253418,15.49199962615967,16.16500091552734,16.89900016784668,17.2819995880127,16.73100090026855,16.82500076293945,17.81800079345703,18.81999969482422,18.57999992370605,19.27799987792969,19.40500068664551,19.14999961853027,18.95000076293945,19.61100006103516,20.70000076293945,20.78899955749512,20.7859992980957,21.14999961853027,22.00799942016602,22.1200008392334,20.81100082397461,20.96199989318848,21.36599922180176,22.10600090026855,21.92700004577637,20.97500038146973,20.61800003051758,20.42099952697754,23.02499961853027,22.94700050354004,23.45400047302246,23.20599937438965,22.50799942016602,22.43199920654297,23.1299991607666,23.48699951171875,23.24099922180176,23.42399978637695,23.38299942016602,22.72599983215332,22.29700088500977,23.45999908447266,23.36000061035156,23.89399909973145,25.66799926757812,25.1299991607666,25.38100051879883,26.23699951171875,26.69000053405762,26.35499954223633,26.36499977111816,25.85000038146973,26.59700012207031,27.10199928283691,27.10499954223633,27.33600044250488,27.30699920654297,26.39500045776367,26.42700004577637,26.66900062561035,27.12599945068359,26.44799995422363,26.32900047302246,26.21999931335449,26.4330005645752,27.35700035095215,27.23200035095215,27,26.72200012207031,26.67099952697754,26.22500038146973,26.70499992370605,26.625,27.07099914550781,124.1699981689453,125.0800018310547,124.7600021362305,124.8899993896484,129.8899993896484,128.1199951171875,130.4600067138672,131.4400024414062,131.6600036621094,134.1300048828125,135.0299987792969,133.7700042724609,134.2200012207031,137.8999938964844,140.3000030517578,138.8099975585938,141.8999938964844,143.0800018310547,142.8500061035156,142.2799987792969,141.3200073242188,148.1699981689453,147.8300018310547,150.7799987792969,150.6399993896484,151.1699981689453,150.4199981689453,149.2200012207031,150.9199981689453,150.8600006103516,152.8800048828125,153.3500061035156,150.8500061035156,148.4100036621094,147.1600036621094,147.2400054931641,145.7200012207031,147.4499969482422,146.8300018310547,145.0099945068359,143.8999938964844,147.3300018310547,153.4600067138672,151.1300048828125,151.8300018310547,150.2299957275391,147.6100006103516,147.6999969482422,150.1000061035156,149.9199981689453,151.6399993896484,154.2799987792969,154.1499938964844,156.5399932861328,157.8099975585938,157.6799926757812,157.8500061035156,157.8699951171875,155.9799957275391,159.3500061035156,161.2700042724609,161.9100036621094,164.2200012207031,165.1100006103516,161.8000030517578,162,160.0800018310547,160.5099945068359,159.7799987792969,161.4199981689453,163.8200073242188,164.0299987792969,165.6499938964844,165.5399932861328,165.5599975585938,164.4900054931641,163.8899993896484,163.7299957275391,162.8000030517578,165.1900024414062,167.8800048828125],[106.5100021362305,106.8199996948242,109.2099990844727,110.5299987792969,108.4700012207031,110.0899963378906,111.370002746582,113.2200012207031,113.1500015258789,112.9300003051758,110.6100006103516,111.3199996948242,113.3499984741211,112.7600021362305,113.8099975585938,113.2099990844727,117.7600021362305,115.6100006103516,113.5599975585938,116.0100021362305,114.7399978637695,111.1500015258789,111.9199981689453,111.7300033569336,114.9199981689453,113.9199981689453,114.3499984741211,119.1699981689453,117.8000030517578,116.4199981689453,116.0699996948242,115.7300033569336,111.2799987792969,111.1699981689453,109.7300033569336,110.7399978637695,110.75,110.5500030517578,109.9100036621094,110.8899993896484,111.4000015258789,112.8099975585938,113.8099975585938,111.6100006103516,109.9800033569336,109.129997253418,107.7799987792969,106.5400009155273,106.9400024414062,101.620002746582,101.0299987792969,99.83999633789062,102.4499969482422,107.0400009155273,104.5899963378906,103.4100036621094,103.5299987792969,105.8000030517578,107.120002746582,108.9599990844727,109.4899978637695,109.6600036621094,116.129997253418,115.0199966430664,116.9899978637695,115.0500030517578,114.5400009155273,115.3499984741211,115.2300033569336,115.7699966430664,116.0500030517578,114.6999969482422,116.9400024414062,116.5699996948242,115.6399993896484,116.0100021362305,118.1999969482422,116.5199966430664,115.4499969482422,116.8300018310547,118.3399963378906,47.86666870117188,47.91999816894531,47.75666809082031,48.92666625976562,48.31666564941406,48.28666687011719,48.70999908447266,48.27000045776367,48.43000030517578,48.13666534423828,46.9466667175293,46.27666854858398,46.8466682434082,47.54666519165039,47.67333221435547,47.4466667175293,47.4033317565918,47.76666641235352,47.38333129882812,47.95666885375977,48.22333145141602,47.87333297729492,47.23666763305664,46.89333343505859,46.99333190917969,46.7400016784668,47.17333221435547,47.90666580200195,48.63666534423828,48.49666595458984,48.85666656494141,48.09000015258789,48.81333160400391,49.11000061035156,48.08000183105469,47.36333465576172,47.4900016784668,47.14666748046875,47.37666702270508,46.71666717529297,46.83333206176758,46.88999938964844,46.88333129882812,46.41666793823242,46.03333282470703,45.72333145141602,45.65666580200195,45.79000091552734,46.03333282470703,46.54666519165039,46.09333419799805,46.46666717529297,46.96666717529297,46.80666732788086,46.50666809082031,46.88333129882812,47.26666641235352,48.05666732788086,47.86999893188477,48.07666778564453,48.55666732788086,49.15000152587891,49.56333160400391,49.07666778564453,49.88999938964844,50.26666641235352,50.16999816894531,50.02333450317383,49.77999877929688,49.83000183105469,49.49333190917969,49.84000015258789,49.95000076293945,50.00333404541016,50.32333374023438,50.57666778564453,50.91999816894531,50.52333450317383,50.3033332824707,50.45999908447266,50.32333374023438,14.3149995803833,14.74899959564209,14.26500034332275,14.85900020599365,15.62800025939941,15.90900039672852,16.00099945068359,16.51099967956543,16.89900016784668,17.70199966430664,17.37700080871582,16.76499938964844,17.8390007019043,19.19300079345703,19.26499938964844,19.32299995422363,19.80200004577637,20.36499977111816,19.16200065612793,19.53700065612793,20.94300079345703,21.70899963378906,21.10000038146973,21.0890007019043,22.17300033569336,22.20499992370605,22.33699989318848,21.26499938964844,21.78800010681152,22.97100067138672,22.76399993896484,22.00200080871582,21.38800048828125,20.65500068664551,20.75399971008301,23.66399955749512,23.2859992980957,23.50099945068359,23.21599960327148,22.69799995422363,23.31399917602539,23.88999938964844,23.55400085449219,23.28800010681152,24.18099975585938,23.43600082397461,22.96500015258789,22.96599960327148,24.0629997253418,24.22800064086914,25.54100036621094,25.72500038146973,25.89999961853027,26.19899940490723,26.4680004119873,27.19099998474121,26.77899932861328,26.5310001373291,26.40999984741211,26.98399925231934,27.38299942016602,27.77700042724609,27.96500015258789,27.45299911499023,26.88100051879883,27.03700065612793,27.57900047302246,27.16900062561035,26.4950008392334,26.46299934387207,26.75799942016602,27.00200080871582,27.66699981689453,27.93099975585938,27.10400009155273,27.11899948120117,27.04199981689453,26.24099922180176,26.95599937438965,27.22599983215332,27.74900054931641,125.0699996948242,126.3600006103516,125.0199966430664,129.6199951171875,130.1499938964844,130.7299957275391,133.4900054931641,133.4100036621094,134.7599945068359,135.9400024414062,135.2100067138672,135.2700042724609,137.8699951171875,141.1100006103516,142.5299987792969,141.8600006103516,143.9600067138672,145.9299926757812,143,144.2899932861328,145.4299926757812,150.8200073242188,154.5,151.7299957275391,154.6499938964844,151.9199981689453,150.8699951171875,151.0099945068359,153.8500061035156,153.1999969482422,155.3300018310547,153.7100067138672,152.5500030517578,148.4799957275391,148.9100036621094,149.3999938964844,146.7100067138672,147.9199981689453,147.4100036621094,145.3099975585938,145.9100036621094,151.0299987792969,153.8300018310547,151.6000061035156,152.8699951171875,150.5899963378906,148.5,150.4700012207031,152.5899963378906,152.9900054931641,155.8500061035156,155,157.3999938964844,159.2799987792969,157.8300018310547,158.9299926757812,160.25,158.2799987792969,157.6499938964844,160.7700042724609,162.3600006103516,164.8999938964844,166.1699981689453,165.6300048828125,163.7599945068359,164.6600036621094,162.0299987792969,160.8000030517578,160.1000061035156,165.5599975585938,165.2100067138672,165.2299957275391,166.4700012207031,167.6300048828125,166.6499938964844,165.0200042724609,165.3300018310547,163.7700042724609,163.7599945068359,168.4100036621094,169.6799926757812],[15146200,18058400,15946600,16348100,17964600,15104600,16710400,15357300,12011400,16542200,16399700,12928000,16515600,16584400,13583000,11914700,21019700,15179200,18672100,27861800,19464900,24562100,20226600,13855200,16013300,18459700,17439300,24918600,14536200,12079000,13663400,11360600,20758300,14469400,13973800,11289400,14351000,11710500,18107000,13200000,10339900,13006700,14347400,11525300,13509800,12961200,15795700,20745600,18263500,25733800,27465200,43199500,32042100,31592300,14952700,14385900,13401600,14805900,11047600,14219100,11578200,14418000,28087700,16365500,16479500,15778000,13006600,11758500,10919000,12399700,11530800,13260400,17436100,10682600,17038700,14315300,15831300,12179800,15566100,16279200,24374000,17249700,13338300,13274400,21231900,17756700,11970600,14834700,12472800,13699800,15122400,22674300,17342100,29543100,13149900,13669200,12491700,15819000,18412800,15897600,14103600,12849300,17806800,17155500,17454000,16341300,11691300,13064400,15002700,16015800,13831200,14674200,16312200,24770700,54393900,29844000,22021200,20623500,16647300,18054000,14180100,14785500,16888800,16720800,17387400,19090800,15415800,20065200,28142100,25542600,33133500,28905600,43081200,33928500,19013400,18548400,22044300,22752300,26775600,21282900,24216900,21879000,20868000,19766700,18113700,26540700,17891700,14519100,18370500,11209800,13272600,10464900,16166700,13482300,12433500,13641600,25335000,13579500,17246700,12910200,12861000,14088600,401277000,431324000,389168000,405044000,504231000,384101000,353285000,551409000,447287000,511102000,439624000,452932000,564967000,655163000,496204000,449537000,489535000,542142000,488611000,498017000,660477000,564276000,429366000,452197000,664150000,559651000,523876000,550737000,474919000,675474000,420575000,412026000,465888000,410015000,513184000,1117995000,589716000,452994000,455963000,460026000,389415000,412393000,437429000,515154000,513573000,501257000,474866000,421890000,474910000,524486000,583253000,848547000,432747000,547408000,797295000,564889000,454920000,361026000,356104000,393694000,364516000,433933000,398716000,368592000,515015000,397654000,395279000,314378000,446259000,353615000,395660000,321471000,604812000,358660000,427713000,345103000,339282000,378527000,406337000,377161000,292216000,112117500,89113600,80962700,87754700,70790800,63896200,69458900,71379600,57809700,63646600,69672800,58280400,80223600,81760300,66435100,65799300,54105100,70555800,64015300,65874500,77663600,118339000,154357300,69858300,83322600,64120100,56007100,57450700,62199000,61707600,65573800,68167900,59144100,58867200,51011300,48394200,55469600,44998500,50547000,55479000,52238100,70732300,87558000,56182000,47204800,53833600,68572400,84457100,73695900,77167900,76161100,98944600,73641400,73938300,75701800,67622100,59196500,52390300,45992200,51305700,49501700,68749800,56976200,46278300,51511700,45390100,47716900,47644200,50133100,68445600,49386500,41516200,49923000,47720200,52456400,58337300,41949600,48714100,45498800,64902300,55209200],[98.7132568359375,99.00056457519531,101.2156066894531,102.4389801025391,100.5297775268555,102.0311889648438,103.2174835205078,104.9320678710938,104.8671951293945,104.6633071899414,102.5131225585938,103.1711578369141,105.0525588989258,104.5057373046875,105.4788818359375,104.9227905273438,109.1397399902344,107.1471099853516,105.2471923828125,107.5178298950195,106.3408050537109,103.0135955810547,103.7272338867188,103.551155090332,106.5076217651367,105.5808334350586,105.9793472290039,110.4465179443359,110.0169143676758,108.7280654907227,108.4011993408203,108.0836868286133,103.9276733398438,103.824951171875,102.480094909668,103.4233627319336,103.4326858520508,103.2459182739258,102.6482086181641,103.5634613037109,104.0397567749023,105.3565826416016,106.29052734375,104.2358779907227,102.7135848999023,101.9197311401367,100.6589279174805,99.5008544921875,99.87443542480469,94.90592956542969,94.35491943359375,93.24353790283203,95.68108367919922,99.96782684326172,97.67969512939453,96.57765960693359,96.68972778320312,98.80975341796875,100.0425491333008,101.7609710693359,102.2559509277344,102.4147186279297,108.4572448730469,107.4205780029297,109.2604217529297,107.448600769043,106.9723052978516,107.7287750244141,107.6167068481445,108.1210327148438,108.3825454711914,107.1217193603516,109.2137222290039,108.8681869506836,107.999626159668,108.3451614379883,110.3904876708984,108.8214797973633,107.8221664428711,109.1110000610352,110.5212173461914,46.589111328125,46.64101791381836,46.4820442199707,47.62081527709961,47.027099609375,46.99790191650391,47.40993118286133,46.9816780090332,47.13741302490234,46.85189819335938,45.69366836547852,45.04154586791992,45.59633636474609,46.27765274047852,46.40093994140625,46.18031692504883,46.13813781738281,46.49178314208984,46.11867904663086,46.67671203613281,46.93625259399414,46.59559631347656,45.97592926025391,45.64175796508789,45.73908233642578,45.49251556396484,45.91428375244141,46.6280403137207,47.33855819702148,47.20229339599609,47.55268859863281,46.80648040771484,47.51051330566406,47.79925918579102,46.7967529296875,46.09921646118164,46.22249603271484,45.88832473754883,46.11219024658203,45.46980285644531,45.58335113525391,45.63851165771484,45.63202285766602,45.17781448364258,44.80471038818359,44.50297927856445,44.43809127807617,44.56787109375,44.80471038818359,45.30434036254883,45.0469856262207,45.41184616088867,45.90049362182617,45.74412536621094,45.45093154907227,45.81904983520508,46.19367980957031,46.96574783325195,46.78332138061523,46.98529815673828,47.45440673828125,48.03426361083984,48.43820953369141,47.96259307861328,48.75747299194336,49.12557983398438,49.03110885620117,48.88777542114258,48.64996337890625,48.69882965087891,48.36980056762695,48.70859909057617,48.81610488891602,48.86822509765625,49.18096160888672,49.42854690551758,49.76408386230469,49.37641906738281,49.16141510009766,49.31452178955078,49.18096160888672,14.30459499359131,14.73828029632568,14.25463199615479,14.84819984436035,15.61664199829102,15.89743804931641,15.98936939239502,16.49899864196777,16.88671875,17.68913459777832,17.36437034606934,16.7528133392334,17.8260326385498,19.17905235290527,19.2509937286377,19.30895614624023,19.78760719299316,20.35019874572754,19.14807510375977,19.52280044555664,20.92777824401855,21.69322204589844,21.08466339111328,21.07367134094238,22.15688514709473,22.1888599395752,22.32076454162598,21.24954223632812,21.77216339111328,22.95430183410645,22.74745178222656,21.98600769042969,21.37245559692383,20.63998794555664,20.73891448974609,23.64680099487305,23.26907730102539,23.48391723632812,23.19912528991699,22.6815013885498,23.29705619812012,23.87263679504395,23.53688049316406,23.27502822875977,24.16752815246582,23.42294311523438,22.95220565795898,22.95320320129395,24.04959297180176,24.21450424194336,25.52676963806152,25.71067237854004,25.88556861877441,26.18440437316895,26.4532527923584,27.17585372924805,26.76408004760742,26.51622009277344,26.39528656005859,26.96896743774414,27.36774444580078,27.76152610778809,27.94941902160645,27.43770408630371,26.86602592468262,27.02193641662598,27.56363487243652,27.15386581420898,26.4802417755127,26.44825744628906,26.74308967590332,26.98695755004883,27.65158843994141,27.91543960571289,27.08890151977539,27.10388946533203,27.02693557739258,26.22638130187988,26.94098091125488,27.21083068847656,27.73354339599609,123.6325302124023,124.9077072143555,123.5831069946289,128.1302185058594,128.6541442871094,129.2274627685547,131.9557647705078,131.8766784667969,133.2111358642578,134.3775787353516,133.6559906005859,133.7153167724609,136.285400390625,139.4881744384766,140.891845703125,140.2295684814453,142.3054046630859,144.2527770996094,141.3564758300781,142.6316223144531,143.7585144042969,149.0865783691406,152.7242736816406,149.9861145019531,152.87255859375,150.1739196777344,149.1359710693359,149.5022888183594,152.3139495849609,151.6704406738281,153.7791900634766,152.1753540039062,151.0269470214844,146.99755859375,147.4232635498047,147.9083709716797,145.2452545166016,146.4431762695312,145.9382476806641,143.8592071533203,144.4532165527344,149.5221099853516,152.2941741943359,150.08642578125,151.34375,149.0865020751953,147.0173797607422,148.9677124023438,151.0665435791016,151.4625396728516,154.2939758300781,153.4524688720703,155.8284912109375,157.6897277832031,156.2542114257812,157.3432312011719,158.6500396728516,156.69970703125,156.0760192871094,159.1648406982422,160.7389831542969,163.2536163330078,164.5109558105469,163.9763336181641,162.125,163.0160369873047,160.4122924804688,159.1945953369141,158.5015869140625,163.9070281982422,163.560546875,163.5803375244141,164.8079681396484,165.9563598632812,164.9861450195312,163.3724365234375,163.6793212890625,162.1349182128906,162.125,166.7285766601562,167.9859161376953]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>symbol<\/th>\n      <th>date<\/th>\n      <th>open<\/th>\n      <th>high<\/th>\n      <th>low<\/th>\n      <th>close<\/th>\n      <th>volume<\/th>\n      <th>adjusted<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":8,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[3,4,5,6,7,8]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"symbol","targets":1},{"name":"date","targets":2},{"name":"open","targets":3},{"name":"high","targets":4},{"name":"low","targets":5},{"name":"close","targets":6},{"name":"volume","targets":7},{"name":"adjusted","targets":8}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.columnDefs.4.render"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="constructing-an-equally-weighted-portfolio" class="level2">
<h2 class="anchored" data-anchor-id="constructing-an-equally-weighted-portfolio">2. Constructing an Equally Weighted Portfolio</h2>
<p>Assuming a $1,000,000 budget divided equally among the four stocks, we calculate how many shares we can purchase on the first business day in January 2023.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assigned budget</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>budget <span class="ot">&lt;-</span> <span class="dv">1000000</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>num_stocks <span class="ot">&lt;-</span> <span class="fu">length</span>(stocks)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>budget_per_stock <span class="ot">&lt;-</span> budget <span class="sc">/</span> <span class="fu">length</span>(stocks)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Positions for each stock</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>initial_positions <span class="ot">&lt;-</span> prices <span class="sc">|&gt;</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">==</span> <span class="fu">min</span>(date)) <span class="sc">|&gt;</span> </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shares =</span> <span class="fu">floor</span>(budget_per_stock <span class="sc">/</span> adjusted)) <span class="sc">|&gt;</span> </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(symbol, shares)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>initial_positions</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  symbol shares
  &lt;chr&gt;   &lt;dbl&gt;
1 XOM      2532
2 WMT      5366
3 NVDA    17476
4 AAPL     2022</code></pre>
</div>
</div>
</section>
<section id="portfolio-valuation-and-return-calculation" class="level2">
<h2 class="anchored" data-anchor-id="portfolio-valuation-and-return-calculation">3. Portfolio Valuation and Return Calculation</h2>
<section id="portfolio-value" class="level3">
<h3 class="anchored" data-anchor-id="portfolio-value">Portfolio Value</h3>
<p>Calculate the portfolio value for each trading day:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>portfolio <span class="ot">&lt;-</span> prices <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(initial_positions, <span class="at">by =</span> <span class="st">"symbol"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">position_value =</span> shares <span class="sc">*</span> adjusted) <span class="sc">|&gt;</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">|&gt;</span> </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_value =</span> <span class="fu">sum</span>(position_value)) <span class="sc">|&gt;</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(portfolio)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  date       total_value
  &lt;date&gt;           &lt;dbl&gt;
1 2023-01-03     999911.
2 2023-01-04    1011075.
3 2023-01-05    1004700.
4 2023-01-06    1033475.
5 2023-01-09    1039944.
6 2023-01-10    1049655.</code></pre>
</div>
</div>
</section>
<section id="portfolio-returns" class="level3">
<h3 class="anchored" data-anchor-id="portfolio-returns">Portfolio Returns</h3>
<p>Calculate discrete and continuous returns for the portfolio:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>portfolio <span class="ot">&lt;-</span> portfolio <span class="sc">|&gt;</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">discrete_return =</span> <span class="dv">100</span><span class="sc">*</span>(total_value <span class="sc">/</span> <span class="fu">lag</span>(total_value) <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">continuous_return =</span> <span class="dv">100</span><span class="sc">*</span><span class="fu">log</span>(total_value <span class="sc">/</span> <span class="fu">lag</span>(total_value)))</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(portfolio)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  date       total_value discrete_return continuous_return
  &lt;date&gt;           &lt;dbl&gt;           &lt;dbl&gt;             &lt;dbl&gt;
1 2023-01-03     999911.          NA                NA    
2 2023-01-04    1011075.           1.12              1.11 
3 2023-01-05    1004700.          -0.631            -0.633
4 2023-01-06    1033475.           2.86              2.82 
5 2023-01-09    1039944.           0.626             0.624
6 2023-01-10    1049655.           0.934             0.929</code></pre>
</div>
</div>
</section>
</section>
<section id="visualizing-portfolio-value-with-highcharter" class="level2">
<h2 class="anchored" data-anchor-id="visualizing-portfolio-value-with-highcharter">4. Visualizing Portfolio Value with <code>highcharter</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Portfolio value</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(portfolio, <span class="at">type =</span> <span class="st">"area"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> date, <span class="at">y =</span> total_value)) <span class="sc">|&gt;</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Portfolio Value Over Time"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Total Portfolio Value ($)"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Date"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_add_theme</span>(<span class="fu">hc_theme_smpl</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-96dde25bdf72ebd49af6" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-96dde25bdf72ebd49af6">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Portfolio Value Over Time"},"yAxis":{"title":{"text":"Total Portfolio Value ($)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"date":"2023-01-03","total_value":999911.2158927917,"discrete_return":null,"continuous_return":null,"x":1672704000000,"y":999911.2158927917},{"date":"2023-01-04","total_value":1011074.702075958,"discrete_return":1.116447741132598,"continuous_return":1.110261465113268,"x":1672790400000,"y":1011074.702075958},{"date":"2023-01-05","total_value":1004699.556529999,"discrete_return":-0.6305316049219578,"continuous_return":-0.6325278511790697,"x":1672876800000,"y":1004699.556529999},{"date":"2023-01-06","total_value":1033475.234695435,"discrete_return":2.864107780122893,"continuous_return":2.823858920314366,"x":1672963200000,"y":1033475.234695435},{"date":"2023-01-09","total_value":1039943.928512573,"discrete_return":0.6259166741470201,"continuous_return":0.6239659514329828,"x":1673222400000,"y":1039943.928512573},{"date":"2023-01-10","total_value":1049655.269210815,"discrete_return":0.9338331069572492,"continuous_return":0.9294998416867419,"x":1673308800000,"y":1049655.269210815},{"date":"2023-01-11","total_value":1061993.134868622,"discrete_return":1.175420732854771,"continuous_return":1.168566323175706,"x":1673395200000,"y":1061993.134868622},{"date":"2023-01-12","total_value":1072782.824172974,"discrete_return":1.015984844919604,"continuous_return":1.010858412174221,"x":1673481600000,"y":1072782.824172974},{"date":"2023-01-13","total_value":1082928.309951782,"discrete_return":0.9457166492789382,"continuous_return":0.9412727452322112,"x":1673568000000,"y":1082928.309951782},{"date":"2023-01-17","total_value":1097261.559944153,"discrete_return":1.323564067967609,"continuous_return":1.314881487854165,"x":1673913600000,"y":1097261.559944153},{"date":"2023-01-18","total_value":1078467.59992981,"discrete_return":-1.712805834125808,"continuous_return":-1.727644030318369,"x":1674000000000,"y":1078467.59992981},{"date":"2023-01-19","total_value":1066066.843200684,"discrete_return":-1.149849724732854,"continuous_return":-1.15651161372427,"x":1674086400000,"y":1066066.843200684},{"date":"2023-01-20","total_value":1097759.846046448,"discrete_return":2.972890775836468,"continuous_return":2.929557124820392,"x":1674172800000,"y":1097759.846046448},{"date":"2023-01-23","total_value":1130152.619094849,"discrete_return":2.950806878668644,"continuous_return":2.908108503312499,"x":1674432000000,"y":1130152.619094849},{"date":"2023-01-24","total_value":1137373.650947571,"discrete_return":0.6389430711142063,"continuous_return":0.6369104833317583,"x":1674518400000,"y":1137373.650947571},{"date":"2023-01-25","total_value":1134455.591316223,"discrete_return":-0.2565612126601113,"continuous_return":-0.2568908949513014,"x":1674604800000,"y":1134455.591316223},{"date":"2023-01-26","total_value":1157468.820716858,"discrete_return":2.028570318379264,"continuous_return":2.008268923575438,"x":1674691200000,"y":1157468.820716858},{"date":"2023-01-27","total_value":1168090.579399109,"discrete_return":0.9176712575007073,"continuous_return":0.913486238476832,"x":1674777600000,"y":1168090.579399109},{"date":"2023-01-30","total_value":1134413.277519226,"discrete_return":-2.883107052982758,"continuous_return":-2.925485108510008,"x":1675036800000,"y":1134413.277519226},{"date":"2023-01-31","total_value":1152283.98298645,"discrete_return":1.575325837714492,"continuous_return":1.563046373400696,"x":1675123200000,"y":1152283.98298645},{"date":"2023-02-01","total_value":1177528.418533325,"discrete_return":2.190817187395711,"continuous_return":2.167163634928896,"x":1675209600000,"y":1177528.418533325},{"date":"2023-02-02","total_value":1191426.203765869,"discrete_return":1.180250515724657,"continuous_return":1.173339881377463,"x":1675296000000,"y":1191426.203765869},{"date":"2023-02-03","total_value":1186628.251419067,"discrete_return":-0.4027066327428663,"continuous_return":-0.4035196794325387,"x":1675382400000,"y":1186628.251419067},{"date":"2023-02-06","total_value":1178660.601806641,"discrete_return":-0.671452883655721,"continuous_return":-0.6737172704160813,"x":1675641600000,"y":1178660.601806641},{"date":"2023-02-07","total_value":1211435.252433777,"discrete_return":2.780669055782425,"continuous_return":2.742710514599407,"x":1675728000000,"y":1211435.252433777},{"date":"2023-02-08","total_value":1202867.690666199,"discrete_return":-0.7072240757701187,"continuous_return":-0.70973675911301,"x":1675814400000,"y":1202867.690666199},{"date":"2023-02-09","total_value":1206346.368431091,"discrete_return":0.2891987033890597,"continuous_return":0.288781328440511,"x":1675900800000,"y":1206346.368431091},{"date":"2023-02-10","total_value":1203507.275871277,"discrete_return":-0.2353463842649783,"continuous_return":-0.235623759147875,"x":1675987200000,"y":1203507.275871277},{"date":"2023-02-13","total_value":1221050.663948059,"discrete_return":1.457688576421923,"continuous_return":1.447166426687806,"x":1676246400000,"y":1221050.663948059},{"date":"2023-02-14","total_value":1236413.97808075,"discrete_return":1.258204478020253,"continuous_return":1.250354859733308,"x":1676332800000,"y":1236413.97808075},{"date":"2023-02-15","total_value":1238115.553405762,"discrete_return":0.1376218123684936,"continuous_return":0.137527200346867,"x":1676419200000,"y":1238115.553405762},{"date":"2023-02-16","total_value":1216757.505111694,"discrete_return":-1.725044826011313,"continuous_return":-1.740097080859814,"x":1676505600000,"y":1216757.505111694},{"date":"2023-02-17","total_value":1196967.80418396,"discrete_return":-1.626429329147039,"continuous_return":-1.639800875020166,"x":1676592000000,"y":1196967.80418396},{"date":"2023-02-21","total_value":1177309.093971252,"discrete_return":-1.642375855389855,"continuous_return":-1.656012362265693,"x":1676937600000,"y":1177309.093971252},{"date":"2023-02-22","total_value":1171114.08505249,"discrete_return":-0.5262007191217277,"continuous_return":-0.5275900309614873,"x":1677024000000,"y":1171114.08505249},{"date":"2023-02-23","total_value":1221558.570259094,"discrete_return":4.307392921872588,"continuous_return":4.217205482855803,"x":1677110400000,"y":1221558.570259094},{"date":"2023-02-24","total_value":1210257.773834229,"discrete_return":-0.925112941778039,"continuous_return":-0.9294186874675312,"x":1677196800000,"y":1210257.773834229},{"date":"2023-02-27","total_value":1214168.45565033,"discrete_return":0.3231280063346942,"continuous_return":0.3226070696854535,"x":1677456000000,"y":1214168.45565033},{"date":"2023-02-28","total_value":1207858.327461243,"discrete_return":-0.5197078016416667,"continuous_return":-0.5210629799879779,"x":1677542400000,"y":1207858.327461243},{"date":"2023-03-01","total_value":1193478.881278992,"discrete_return":-1.190491124275694,"continuous_return":-1.19763421839751,"x":1677628800000,"y":1193478.881278992},{"date":"2023-03-02","total_value":1207252.684333801,"discrete_return":1.154088544914078,"continuous_return":1.147479742087379,"x":1677715200000,"y":1207252.684333801},{"date":"2023-03-03","total_value":1231191.027824402,"discrete_return":1.982877636243185,"continuous_return":1.963474689371218,"x":1677801600000,"y":1231191.027824402},{"date":"2023-03-06","total_value":1233258.393608093,"discrete_return":0.1679159234407868,"continuous_return":0.1677751022727994,"x":1678060800000,"y":1233258.393608093},{"date":"2023-03-07","total_value":1216578.541847229,"discrete_return":-1.352502593723659,"continuous_return":-1.361732225203274,"x":1678147200000,"y":1216578.541847229},{"date":"2023-03-08","total_value":1228861.657402039,"discrete_return":1.009644271397314,"continuous_return":1.004581413011188,"x":1678233600000,"y":1228861.657402039},{"date":"2023-03-09","total_value":1207656.007133484,"discrete_return":-1.725633649713343,"continuous_return":-1.740696242126274,"x":1678320000000,"y":1207656.007133484},{"date":"2023-03-10","total_value":1191705.091239929,"discrete_return":-1.320816176074513,"continuous_return":-1.329616529825486,"x":1678406400000,"y":1191705.091239929},{"date":"2023-03-13","total_value":1193430.253486633,"discrete_return":0.1447641920291787,"continuous_return":0.1446595096888938,"x":1678665600000,"y":1193430.253486633},{"date":"2023-03-14","total_value":1219051.38433075,"discrete_return":2.146847775080563,"continuous_return":2.124127601408738,"x":1678752000000,"y":1219051.38433075},{"date":"2023-03-15","total_value":1212834.835395813,"discrete_return":-0.5099497047328594,"continuous_return":-0.5112543856071914,"x":1678838400000,"y":1212834.835395813},{"date":"2023-03-16","total_value":1238717.026199341,"discrete_return":2.134024357494746,"continuous_return":2.111572908971026,"x":1678924800000,"y":1238717.026199341},{"date":"2023-03-17","total_value":1239373.207015991,"discrete_return":0.05297261624501726,"continuous_return":0.05295859070756888,"x":1679011200000,"y":1239373.207015991},{"date":"2023-03-20","total_value":1256027.959060669,"discrete_return":1.343804428754503,"continuous_return":1.334855459001389,"x":1679270400000,"y":1256027.959060669},{"date":"2023-03-21","total_value":1275028.794685364,"discrete_return":1.512771709230476,"continuous_return":1.501443422545547,"x":1679356800000,"y":1275028.794685364},{"date":"2023-03-22","total_value":1269457.748062134,"discrete_return":-0.4369349654259946,"continuous_return":-0.4378923159298768,"x":1679443200000,"y":1269457.748062134},{"date":"2023-03-23","total_value":1283472.888801575,"discrete_return":1.104025774850359,"continuous_return":1.097975897700746,"x":1679529600000,"y":1283472.888801575},{"date":"2023-03-24","total_value":1281213.119735718,"discrete_return":-0.1760667549407291,"continuous_return":-0.1762219346250123,"x":1679616000000,"y":1281213.119735718},{"date":"2023-03-27","total_value":1282448.768486023,"discrete_return":0.09644365416427991,"continuous_return":0.09639717715248904,"x":1679875200000,"y":1282448.768486023},{"date":"2023-03-28","total_value":1281216.775856018,"discrete_return":-0.09606564100484993,"continuous_return":-0.0961118136148026,"x":1679961600000,"y":1281216.775856018},{"date":"2023-03-29","total_value":1302922.871490479,"discrete_return":1.694178225223286,"continuous_return":1.679987083814731,"x":1680048000000,"y":1302922.871490479},{"date":"2023-03-30","total_value":1316845.340179443,"discrete_return":1.068556627073258,"continuous_return":1.06288790731193,"x":1680134400000,"y":1316845.340179443},{"date":"2023-03-31","total_value":1332325.168586731,"discrete_return":1.175523649966226,"continuous_return":1.168668044580337,"x":1680220800000,"y":1332325.168586731},{"date":"2023-04-03","total_value":1355618.375846863,"discrete_return":1.748312484769787,"continuous_return":1.733205328081431,"x":1680480000000,"y":1355618.375846863},{"date":"2023-04-04","total_value":1340417.641151428,"discrete_return":-1.121313709393956,"continuous_return":-1.12764782629435,"x":1680566400000,"y":1340417.641151428},{"date":"2023-04-05","total_value":1335607.407012939,"discrete_return":-0.3588608498435453,"continuous_return":-0.3595063000326604,"x":1680652800000,"y":1335607.407012939},{"date":"2023-04-06","total_value":1337521.506141663,"discrete_return":0.1433130064023791,"continuous_return":0.1432104113230562,"x":1680739200000,"y":1337521.506141663},{"date":"2023-04-10","total_value":1340010.545562744,"discrete_return":0.1860934130518466,"continuous_return":0.1859204737790976,"x":1681084800000,"y":1340010.545562744},{"date":"2023-04-11","total_value":1331533.492012024,"discrete_return":-0.6326109580846784,"continuous_return":-0.6346204204081628,"x":1681171200000,"y":1331533.492012024},{"date":"2023-04-12","total_value":1316800.119239807,"discrete_return":-1.106496596638651,"continuous_return":-1.112663805734173,"x":1681257600000,"y":1316800.119239807},{"date":"2023-04-13","total_value":1328710.132888794,"discrete_return":0.9044663252204543,"continuous_return":0.900400526020057,"x":1681344000000,"y":1328710.132888794},{"date":"2023-04-14","total_value":1332058.615936279,"discrete_return":0.2520100482868548,"continuous_return":0.2516930354557586,"x":1681430400000,"y":1332058.615936279},{"date":"2023-04-17","total_value":1334986.04875946,"discrete_return":0.2197675678951683,"continuous_return":0.21952643220308,"x":1681689600000,"y":1334986.04875946},{"date":"2023-04-18","total_value":1354957.234672546,"discrete_return":1.495984615842549,"continuous_return":1.484905127616723,"x":1681776000000,"y":1354957.234672546},{"date":"2023-04-19","total_value":1361295.127426147,"discrete_return":0.4677559255316766,"continuous_return":0.4666653470104287,"x":1681862400000,"y":1361295.127426147},{"date":"2023-04-20","total_value":1344367.721618652,"discrete_return":-1.243478028126088,"continuous_return":-1.251273910295481,"x":1681948800000,"y":1344367.721618652},{"date":"2023-04-21","total_value":1343570.170402527,"discrete_return":-0.05932537677750815,"continuous_return":-0.05934298124211141,"x":1682035200000,"y":1343570.170402527},{"date":"2023-04-24","total_value":1349825.102584839,"discrete_return":0.4655456276197345,"continuous_return":0.4644653155622354,"x":1682294400000,"y":1349825.102584839},{"date":"2023-04-25","total_value":1326658.895820618,"discrete_return":-1.716237660705766,"continuous_return":-1.731135722724329,"x":1682380800000,"y":1326658.895820618},{"date":"2023-04-26","total_value":1335443.211265564,"discrete_return":0.662138208443741,"continuous_return":0.6599557022493623,"x":1682467200000,"y":1335443.211265564},{"date":"2023-04-27","total_value":1353552.435195923,"discrete_return":1.356045976166764,"continuous_return":1.346933955756754,"x":1682553600000,"y":1353552.435195923},{"date":"2023-04-28","total_value":1368083.68913269,"discrete_return":1.07356416780886,"continuous_return":1.067842382625571,"x":1682640000000,"y":1368083.68913269}],"type":"area"}],"xAxis":{"type":"datetime","title":{"text":"Date"}}},"theme":{"colors":["#d35400","#2980b9","#2ecc71","#f1c40f","#2c3e50","#7f8c8d"],"chart":{"style":{"fontFamily":"Roboto","color":"#666666"}},"title":{"align":"left","style":{"fontFamily":"Roboto Condensed","fontWeight":"bold"}},"subtitle":{"align":"left","style":{"fontFamily":"Roboto Condensed"}},"legend":{"align":"right","verticalAlign":"bottom"},"xAxis":{"gridLineWidth":1,"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"yAxis":{"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"plotOptions":{"line":{"marker":{"enabled":false}},"spline":{"marker":{"enabled":false}},"area":{"marker":{"enabled":false}},"areaspline":{"marker":{"enabled":false}},"arearange":{"marker":{"enabled":false}},"bubble":{"maxSize":"10%"}}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":["Roboto","Roboto+Condensed"],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Portfolio returns (continous returns)</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(portfolio, <span class="at">type =</span> <span class="st">"line"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> date, <span class="at">y =</span> continuous_return)) <span class="sc">|&gt;</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Portfolio Returns Over Time"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Portfolio Return (%)"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Date"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_add_theme</span>(<span class="fu">hc_theme_smpl</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-2fad99bccb61febe2673" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-2fad99bccb61febe2673">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Portfolio Returns Over Time"},"yAxis":{"title":{"text":"Portfolio Return (%)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"date":"2023-01-03","total_value":999911.2158927917,"discrete_return":null,"continuous_return":null,"x":1672704000000,"y":null},{"date":"2023-01-04","total_value":1011074.702075958,"discrete_return":1.116447741132598,"continuous_return":1.110261465113268,"x":1672790400000,"y":1.110261465113268},{"date":"2023-01-05","total_value":1004699.556529999,"discrete_return":-0.6305316049219578,"continuous_return":-0.6325278511790697,"x":1672876800000,"y":-0.6325278511790697},{"date":"2023-01-06","total_value":1033475.234695435,"discrete_return":2.864107780122893,"continuous_return":2.823858920314366,"x":1672963200000,"y":2.823858920314366},{"date":"2023-01-09","total_value":1039943.928512573,"discrete_return":0.6259166741470201,"continuous_return":0.6239659514329828,"x":1673222400000,"y":0.6239659514329828},{"date":"2023-01-10","total_value":1049655.269210815,"discrete_return":0.9338331069572492,"continuous_return":0.9294998416867419,"x":1673308800000,"y":0.9294998416867419},{"date":"2023-01-11","total_value":1061993.134868622,"discrete_return":1.175420732854771,"continuous_return":1.168566323175706,"x":1673395200000,"y":1.168566323175706},{"date":"2023-01-12","total_value":1072782.824172974,"discrete_return":1.015984844919604,"continuous_return":1.010858412174221,"x":1673481600000,"y":1.010858412174221},{"date":"2023-01-13","total_value":1082928.309951782,"discrete_return":0.9457166492789382,"continuous_return":0.9412727452322112,"x":1673568000000,"y":0.9412727452322112},{"date":"2023-01-17","total_value":1097261.559944153,"discrete_return":1.323564067967609,"continuous_return":1.314881487854165,"x":1673913600000,"y":1.314881487854165},{"date":"2023-01-18","total_value":1078467.59992981,"discrete_return":-1.712805834125808,"continuous_return":-1.727644030318369,"x":1674000000000,"y":-1.727644030318369},{"date":"2023-01-19","total_value":1066066.843200684,"discrete_return":-1.149849724732854,"continuous_return":-1.15651161372427,"x":1674086400000,"y":-1.15651161372427},{"date":"2023-01-20","total_value":1097759.846046448,"discrete_return":2.972890775836468,"continuous_return":2.929557124820392,"x":1674172800000,"y":2.929557124820392},{"date":"2023-01-23","total_value":1130152.619094849,"discrete_return":2.950806878668644,"continuous_return":2.908108503312499,"x":1674432000000,"y":2.908108503312499},{"date":"2023-01-24","total_value":1137373.650947571,"discrete_return":0.6389430711142063,"continuous_return":0.6369104833317583,"x":1674518400000,"y":0.6369104833317583},{"date":"2023-01-25","total_value":1134455.591316223,"discrete_return":-0.2565612126601113,"continuous_return":-0.2568908949513014,"x":1674604800000,"y":-0.2568908949513014},{"date":"2023-01-26","total_value":1157468.820716858,"discrete_return":2.028570318379264,"continuous_return":2.008268923575438,"x":1674691200000,"y":2.008268923575438},{"date":"2023-01-27","total_value":1168090.579399109,"discrete_return":0.9176712575007073,"continuous_return":0.913486238476832,"x":1674777600000,"y":0.913486238476832},{"date":"2023-01-30","total_value":1134413.277519226,"discrete_return":-2.883107052982758,"continuous_return":-2.925485108510008,"x":1675036800000,"y":-2.925485108510008},{"date":"2023-01-31","total_value":1152283.98298645,"discrete_return":1.575325837714492,"continuous_return":1.563046373400696,"x":1675123200000,"y":1.563046373400696},{"date":"2023-02-01","total_value":1177528.418533325,"discrete_return":2.190817187395711,"continuous_return":2.167163634928896,"x":1675209600000,"y":2.167163634928896},{"date":"2023-02-02","total_value":1191426.203765869,"discrete_return":1.180250515724657,"continuous_return":1.173339881377463,"x":1675296000000,"y":1.173339881377463},{"date":"2023-02-03","total_value":1186628.251419067,"discrete_return":-0.4027066327428663,"continuous_return":-0.4035196794325387,"x":1675382400000,"y":-0.4035196794325387},{"date":"2023-02-06","total_value":1178660.601806641,"discrete_return":-0.671452883655721,"continuous_return":-0.6737172704160813,"x":1675641600000,"y":-0.6737172704160813},{"date":"2023-02-07","total_value":1211435.252433777,"discrete_return":2.780669055782425,"continuous_return":2.742710514599407,"x":1675728000000,"y":2.742710514599407},{"date":"2023-02-08","total_value":1202867.690666199,"discrete_return":-0.7072240757701187,"continuous_return":-0.70973675911301,"x":1675814400000,"y":-0.70973675911301},{"date":"2023-02-09","total_value":1206346.368431091,"discrete_return":0.2891987033890597,"continuous_return":0.288781328440511,"x":1675900800000,"y":0.288781328440511},{"date":"2023-02-10","total_value":1203507.275871277,"discrete_return":-0.2353463842649783,"continuous_return":-0.235623759147875,"x":1675987200000,"y":-0.235623759147875},{"date":"2023-02-13","total_value":1221050.663948059,"discrete_return":1.457688576421923,"continuous_return":1.447166426687806,"x":1676246400000,"y":1.447166426687806},{"date":"2023-02-14","total_value":1236413.97808075,"discrete_return":1.258204478020253,"continuous_return":1.250354859733308,"x":1676332800000,"y":1.250354859733308},{"date":"2023-02-15","total_value":1238115.553405762,"discrete_return":0.1376218123684936,"continuous_return":0.137527200346867,"x":1676419200000,"y":0.137527200346867},{"date":"2023-02-16","total_value":1216757.505111694,"discrete_return":-1.725044826011313,"continuous_return":-1.740097080859814,"x":1676505600000,"y":-1.740097080859814},{"date":"2023-02-17","total_value":1196967.80418396,"discrete_return":-1.626429329147039,"continuous_return":-1.639800875020166,"x":1676592000000,"y":-1.639800875020166},{"date":"2023-02-21","total_value":1177309.093971252,"discrete_return":-1.642375855389855,"continuous_return":-1.656012362265693,"x":1676937600000,"y":-1.656012362265693},{"date":"2023-02-22","total_value":1171114.08505249,"discrete_return":-0.5262007191217277,"continuous_return":-0.5275900309614873,"x":1677024000000,"y":-0.5275900309614873},{"date":"2023-02-23","total_value":1221558.570259094,"discrete_return":4.307392921872588,"continuous_return":4.217205482855803,"x":1677110400000,"y":4.217205482855803},{"date":"2023-02-24","total_value":1210257.773834229,"discrete_return":-0.925112941778039,"continuous_return":-0.9294186874675312,"x":1677196800000,"y":-0.9294186874675312},{"date":"2023-02-27","total_value":1214168.45565033,"discrete_return":0.3231280063346942,"continuous_return":0.3226070696854535,"x":1677456000000,"y":0.3226070696854535},{"date":"2023-02-28","total_value":1207858.327461243,"discrete_return":-0.5197078016416667,"continuous_return":-0.5210629799879779,"x":1677542400000,"y":-0.5210629799879779},{"date":"2023-03-01","total_value":1193478.881278992,"discrete_return":-1.190491124275694,"continuous_return":-1.19763421839751,"x":1677628800000,"y":-1.19763421839751},{"date":"2023-03-02","total_value":1207252.684333801,"discrete_return":1.154088544914078,"continuous_return":1.147479742087379,"x":1677715200000,"y":1.147479742087379},{"date":"2023-03-03","total_value":1231191.027824402,"discrete_return":1.982877636243185,"continuous_return":1.963474689371218,"x":1677801600000,"y":1.963474689371218},{"date":"2023-03-06","total_value":1233258.393608093,"discrete_return":0.1679159234407868,"continuous_return":0.1677751022727994,"x":1678060800000,"y":0.1677751022727994},{"date":"2023-03-07","total_value":1216578.541847229,"discrete_return":-1.352502593723659,"continuous_return":-1.361732225203274,"x":1678147200000,"y":-1.361732225203274},{"date":"2023-03-08","total_value":1228861.657402039,"discrete_return":1.009644271397314,"continuous_return":1.004581413011188,"x":1678233600000,"y":1.004581413011188},{"date":"2023-03-09","total_value":1207656.007133484,"discrete_return":-1.725633649713343,"continuous_return":-1.740696242126274,"x":1678320000000,"y":-1.740696242126274},{"date":"2023-03-10","total_value":1191705.091239929,"discrete_return":-1.320816176074513,"continuous_return":-1.329616529825486,"x":1678406400000,"y":-1.329616529825486},{"date":"2023-03-13","total_value":1193430.253486633,"discrete_return":0.1447641920291787,"continuous_return":0.1446595096888938,"x":1678665600000,"y":0.1446595096888938},{"date":"2023-03-14","total_value":1219051.38433075,"discrete_return":2.146847775080563,"continuous_return":2.124127601408738,"x":1678752000000,"y":2.124127601408738},{"date":"2023-03-15","total_value":1212834.835395813,"discrete_return":-0.5099497047328594,"continuous_return":-0.5112543856071914,"x":1678838400000,"y":-0.5112543856071914},{"date":"2023-03-16","total_value":1238717.026199341,"discrete_return":2.134024357494746,"continuous_return":2.111572908971026,"x":1678924800000,"y":2.111572908971026},{"date":"2023-03-17","total_value":1239373.207015991,"discrete_return":0.05297261624501726,"continuous_return":0.05295859070756888,"x":1679011200000,"y":0.05295859070756888},{"date":"2023-03-20","total_value":1256027.959060669,"discrete_return":1.343804428754503,"continuous_return":1.334855459001389,"x":1679270400000,"y":1.334855459001389},{"date":"2023-03-21","total_value":1275028.794685364,"discrete_return":1.512771709230476,"continuous_return":1.501443422545547,"x":1679356800000,"y":1.501443422545547},{"date":"2023-03-22","total_value":1269457.748062134,"discrete_return":-0.4369349654259946,"continuous_return":-0.4378923159298768,"x":1679443200000,"y":-0.4378923159298768},{"date":"2023-03-23","total_value":1283472.888801575,"discrete_return":1.104025774850359,"continuous_return":1.097975897700746,"x":1679529600000,"y":1.097975897700746},{"date":"2023-03-24","total_value":1281213.119735718,"discrete_return":-0.1760667549407291,"continuous_return":-0.1762219346250123,"x":1679616000000,"y":-0.1762219346250123},{"date":"2023-03-27","total_value":1282448.768486023,"discrete_return":0.09644365416427991,"continuous_return":0.09639717715248904,"x":1679875200000,"y":0.09639717715248904},{"date":"2023-03-28","total_value":1281216.775856018,"discrete_return":-0.09606564100484993,"continuous_return":-0.0961118136148026,"x":1679961600000,"y":-0.0961118136148026},{"date":"2023-03-29","total_value":1302922.871490479,"discrete_return":1.694178225223286,"continuous_return":1.679987083814731,"x":1680048000000,"y":1.679987083814731},{"date":"2023-03-30","total_value":1316845.340179443,"discrete_return":1.068556627073258,"continuous_return":1.06288790731193,"x":1680134400000,"y":1.06288790731193},{"date":"2023-03-31","total_value":1332325.168586731,"discrete_return":1.175523649966226,"continuous_return":1.168668044580337,"x":1680220800000,"y":1.168668044580337},{"date":"2023-04-03","total_value":1355618.375846863,"discrete_return":1.748312484769787,"continuous_return":1.733205328081431,"x":1680480000000,"y":1.733205328081431},{"date":"2023-04-04","total_value":1340417.641151428,"discrete_return":-1.121313709393956,"continuous_return":-1.12764782629435,"x":1680566400000,"y":-1.12764782629435},{"date":"2023-04-05","total_value":1335607.407012939,"discrete_return":-0.3588608498435453,"continuous_return":-0.3595063000326604,"x":1680652800000,"y":-0.3595063000326604},{"date":"2023-04-06","total_value":1337521.506141663,"discrete_return":0.1433130064023791,"continuous_return":0.1432104113230562,"x":1680739200000,"y":0.1432104113230562},{"date":"2023-04-10","total_value":1340010.545562744,"discrete_return":0.1860934130518466,"continuous_return":0.1859204737790976,"x":1681084800000,"y":0.1859204737790976},{"date":"2023-04-11","total_value":1331533.492012024,"discrete_return":-0.6326109580846784,"continuous_return":-0.6346204204081628,"x":1681171200000,"y":-0.6346204204081628},{"date":"2023-04-12","total_value":1316800.119239807,"discrete_return":-1.106496596638651,"continuous_return":-1.112663805734173,"x":1681257600000,"y":-1.112663805734173},{"date":"2023-04-13","total_value":1328710.132888794,"discrete_return":0.9044663252204543,"continuous_return":0.900400526020057,"x":1681344000000,"y":0.900400526020057},{"date":"2023-04-14","total_value":1332058.615936279,"discrete_return":0.2520100482868548,"continuous_return":0.2516930354557586,"x":1681430400000,"y":0.2516930354557586},{"date":"2023-04-17","total_value":1334986.04875946,"discrete_return":0.2197675678951683,"continuous_return":0.21952643220308,"x":1681689600000,"y":0.21952643220308},{"date":"2023-04-18","total_value":1354957.234672546,"discrete_return":1.495984615842549,"continuous_return":1.484905127616723,"x":1681776000000,"y":1.484905127616723},{"date":"2023-04-19","total_value":1361295.127426147,"discrete_return":0.4677559255316766,"continuous_return":0.4666653470104287,"x":1681862400000,"y":0.4666653470104287},{"date":"2023-04-20","total_value":1344367.721618652,"discrete_return":-1.243478028126088,"continuous_return":-1.251273910295481,"x":1681948800000,"y":-1.251273910295481},{"date":"2023-04-21","total_value":1343570.170402527,"discrete_return":-0.05932537677750815,"continuous_return":-0.05934298124211141,"x":1682035200000,"y":-0.05934298124211141},{"date":"2023-04-24","total_value":1349825.102584839,"discrete_return":0.4655456276197345,"continuous_return":0.4644653155622354,"x":1682294400000,"y":0.4644653155622354},{"date":"2023-04-25","total_value":1326658.895820618,"discrete_return":-1.716237660705766,"continuous_return":-1.731135722724329,"x":1682380800000,"y":-1.731135722724329},{"date":"2023-04-26","total_value":1335443.211265564,"discrete_return":0.662138208443741,"continuous_return":0.6599557022493623,"x":1682467200000,"y":0.6599557022493623},{"date":"2023-04-27","total_value":1353552.435195923,"discrete_return":1.356045976166764,"continuous_return":1.346933955756754,"x":1682553600000,"y":1.346933955756754},{"date":"2023-04-28","total_value":1368083.68913269,"discrete_return":1.07356416780886,"continuous_return":1.067842382625571,"x":1682640000000,"y":1.067842382625571}],"type":"line"}],"xAxis":{"type":"datetime","title":{"text":"Date"}}},"theme":{"colors":["#d35400","#2980b9","#2ecc71","#f1c40f","#2c3e50","#7f8c8d"],"chart":{"style":{"fontFamily":"Roboto","color":"#666666"}},"title":{"align":"left","style":{"fontFamily":"Roboto Condensed","fontWeight":"bold"}},"subtitle":{"align":"left","style":{"fontFamily":"Roboto Condensed"}},"legend":{"align":"right","verticalAlign":"bottom"},"xAxis":{"gridLineWidth":1,"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"yAxis":{"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"plotOptions":{"line":{"marker":{"enabled":false}},"spline":{"marker":{"enabled":false}},"area":{"marker":{"enabled":false}},"areaspline":{"marker":{"enabled":false}},"arearange":{"marker":{"enabled":false}},"bubble":{"maxSize":"10%"}}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":["Roboto","Roboto+Condensed"],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>This interactive visualization shows how the value of your equally weighted portfolio changes throughout sample period.</p>
</section>
<section id="buy-and-hold-returns" class="level2">
<h2 class="anchored" data-anchor-id="buy-and-hold-returns">5. Buy-and-Hold Returns</h2>
<p>Buy-and-hold returns represent the total return from buying a stock and holding it over a specified period, without any transactions in between.</p>
<section id="calculation" class="level3">
<h3 class="anchored" data-anchor-id="calculation">Calculation</h3>
<p>To calculate buy-and-hold returns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>buy_hold_returns <span class="ot">&lt;-</span> portfolio <span class="sc">|&gt;</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">buy_hold_return =</span> <span class="dv">100</span><span class="sc">*</span>(total_value <span class="sc">/</span> <span class="fu">first</span>(total_value) <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">cumulative_return =</span> <span class="fu">cumsum</span>(<span class="fu">coalesce</span>(discrete_return, <span class="dv">0</span>)))</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(buy_hold_returns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  date       total_value discrete_return continuous_return buy_hold_return
  &lt;date&gt;           &lt;dbl&gt;           &lt;dbl&gt;             &lt;dbl&gt;           &lt;dbl&gt;
1 2023-01-03     999911.          NA                NA               0    
2 2023-01-04    1011075.           1.12              1.11            1.12 
3 2023-01-05    1004700.          -0.631            -0.633           0.479
4 2023-01-06    1033475.           2.86              2.82            3.36 
5 2023-01-09    1039944.           0.626             0.624           4.00 
6 2023-01-10    1049655.           0.934             0.929           4.97 
# ℹ 1 more variable: cumulative_return &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
</section>
<section id="portfolio-comparison-equally-weighted-portfolio-vs.-100-nvda-portfolio" class="level2">
<h2 class="anchored" data-anchor-id="portfolio-comparison-equally-weighted-portfolio-vs.-100-nvda-portfolio">6. Portfolio Comparison: Equally Weighted Portfolio vs.&nbsp;100% NVDA Portfolio</h2>
<p>Let’s compare our equally weighted portfolio against a portfolio fully invested in NVDA.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># NVDA only portfolio: see how many shares we can purchase at most</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>nvda_only_position <span class="ot">&lt;-</span> prices <span class="sc">|&gt;</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(symbol <span class="sc">==</span> <span class="st">"NVDA"</span>, date <span class="sc">==</span> <span class="fu">min</span>(date)) <span class="sc">|&gt;</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shares =</span> <span class="fu">floor</span>(budget <span class="sc">/</span> adjusted)) <span class="sc">|&gt;</span> </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(symbol, shares)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Hold such shares of Nvdia</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>nvda_portfolio <span class="ot">&lt;-</span> prices <span class="sc">|&gt;</span> </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(symbol <span class="sc">==</span> <span class="st">"NVDA"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(nvda_only_position, <span class="at">by =</span> <span class="st">"symbol"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_value =</span> shares <span class="sc">*</span> adjusted) <span class="sc">|&gt;</span> </span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, total_value)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine both portfolios for comparison</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>combined_portfolios <span class="ot">&lt;-</span> portfolio <span class="sc">|&gt;</span> </span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, <span class="at">equally_weighted =</span> total_value) <span class="sc">|&gt;</span> </span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(nvda_portfolio <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="at">nvda_only =</span> total_value), <span class="at">by =</span> <span class="st">"date"</span>)</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(combined_portfolios)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  date       equally_weighted nvda_only
  &lt;date&gt;                &lt;dbl&gt;     &lt;dbl&gt;
1 2023-01-03          999911.   999991.
2 2023-01-04         1011075.  1030309.
3 2023-01-05         1004700.   996499.
4 2023-01-06         1033475.  1037993.
5 2023-01-09         1039944.  1091713.
6 2023-01-10         1049655.  1111342.</code></pre>
</div>
</div>
<section id="visualization-of-both-portfolios" class="level3">
<h3 class="anchored" data-anchor-id="visualization-of-both-portfolios">Visualization of Both Portfolios</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>combined_portfolios_long <span class="ot">&lt;-</span> combined_portfolios <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(equally_weighted, nvda_only), <span class="at">names_to =</span> <span class="st">"Portfolio"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(combined_portfolios_long, <span class="st">"line"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> date, <span class="at">y =</span> Value, <span class="at">group =</span> Portfolio)) <span class="sc">|&gt;</span> </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Equally Weighted vs. 100% NVDA Portfolio"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Portfolio Value ($)"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Date"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_add_theme</span>(<span class="fu">hc_theme_smpl</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-b7fdf747e57df3b49d5c" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-b7fdf747e57df3b49d5c">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Equally Weighted vs. 100% NVDA Portfolio"},"yAxis":{"title":{"text":"Portfolio Value ($)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":true},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"name":"equally_weighted","data":[{"date":"2023-01-03","Portfolio":"equally_weighted","Value":999911.2158927917,"x":1672704000000,"y":999911.2158927917},{"date":"2023-01-04","Portfolio":"equally_weighted","Value":1011074.702075958,"x":1672790400000,"y":1011074.702075958},{"date":"2023-01-05","Portfolio":"equally_weighted","Value":1004699.556529999,"x":1672876800000,"y":1004699.556529999},{"date":"2023-01-06","Portfolio":"equally_weighted","Value":1033475.234695435,"x":1672963200000,"y":1033475.234695435},{"date":"2023-01-09","Portfolio":"equally_weighted","Value":1039943.928512573,"x":1673222400000,"y":1039943.928512573},{"date":"2023-01-10","Portfolio":"equally_weighted","Value":1049655.269210815,"x":1673308800000,"y":1049655.269210815},{"date":"2023-01-11","Portfolio":"equally_weighted","Value":1061993.134868622,"x":1673395200000,"y":1061993.134868622},{"date":"2023-01-12","Portfolio":"equally_weighted","Value":1072782.824172974,"x":1673481600000,"y":1072782.824172974},{"date":"2023-01-13","Portfolio":"equally_weighted","Value":1082928.309951782,"x":1673568000000,"y":1082928.309951782},{"date":"2023-01-17","Portfolio":"equally_weighted","Value":1097261.559944153,"x":1673913600000,"y":1097261.559944153},{"date":"2023-01-18","Portfolio":"equally_weighted","Value":1078467.59992981,"x":1674000000000,"y":1078467.59992981},{"date":"2023-01-19","Portfolio":"equally_weighted","Value":1066066.843200684,"x":1674086400000,"y":1066066.843200684},{"date":"2023-01-20","Portfolio":"equally_weighted","Value":1097759.846046448,"x":1674172800000,"y":1097759.846046448},{"date":"2023-01-23","Portfolio":"equally_weighted","Value":1130152.619094849,"x":1674432000000,"y":1130152.619094849},{"date":"2023-01-24","Portfolio":"equally_weighted","Value":1137373.650947571,"x":1674518400000,"y":1137373.650947571},{"date":"2023-01-25","Portfolio":"equally_weighted","Value":1134455.591316223,"x":1674604800000,"y":1134455.591316223},{"date":"2023-01-26","Portfolio":"equally_weighted","Value":1157468.820716858,"x":1674691200000,"y":1157468.820716858},{"date":"2023-01-27","Portfolio":"equally_weighted","Value":1168090.579399109,"x":1674777600000,"y":1168090.579399109},{"date":"2023-01-30","Portfolio":"equally_weighted","Value":1134413.277519226,"x":1675036800000,"y":1134413.277519226},{"date":"2023-01-31","Portfolio":"equally_weighted","Value":1152283.98298645,"x":1675123200000,"y":1152283.98298645},{"date":"2023-02-01","Portfolio":"equally_weighted","Value":1177528.418533325,"x":1675209600000,"y":1177528.418533325},{"date":"2023-02-02","Portfolio":"equally_weighted","Value":1191426.203765869,"x":1675296000000,"y":1191426.203765869},{"date":"2023-02-03","Portfolio":"equally_weighted","Value":1186628.251419067,"x":1675382400000,"y":1186628.251419067},{"date":"2023-02-06","Portfolio":"equally_weighted","Value":1178660.601806641,"x":1675641600000,"y":1178660.601806641},{"date":"2023-02-07","Portfolio":"equally_weighted","Value":1211435.252433777,"x":1675728000000,"y":1211435.252433777},{"date":"2023-02-08","Portfolio":"equally_weighted","Value":1202867.690666199,"x":1675814400000,"y":1202867.690666199},{"date":"2023-02-09","Portfolio":"equally_weighted","Value":1206346.368431091,"x":1675900800000,"y":1206346.368431091},{"date":"2023-02-10","Portfolio":"equally_weighted","Value":1203507.275871277,"x":1675987200000,"y":1203507.275871277},{"date":"2023-02-13","Portfolio":"equally_weighted","Value":1221050.663948059,"x":1676246400000,"y":1221050.663948059},{"date":"2023-02-14","Portfolio":"equally_weighted","Value":1236413.97808075,"x":1676332800000,"y":1236413.97808075},{"date":"2023-02-15","Portfolio":"equally_weighted","Value":1238115.553405762,"x":1676419200000,"y":1238115.553405762},{"date":"2023-02-16","Portfolio":"equally_weighted","Value":1216757.505111694,"x":1676505600000,"y":1216757.505111694},{"date":"2023-02-17","Portfolio":"equally_weighted","Value":1196967.80418396,"x":1676592000000,"y":1196967.80418396},{"date":"2023-02-21","Portfolio":"equally_weighted","Value":1177309.093971252,"x":1676937600000,"y":1177309.093971252},{"date":"2023-02-22","Portfolio":"equally_weighted","Value":1171114.08505249,"x":1677024000000,"y":1171114.08505249},{"date":"2023-02-23","Portfolio":"equally_weighted","Value":1221558.570259094,"x":1677110400000,"y":1221558.570259094},{"date":"2023-02-24","Portfolio":"equally_weighted","Value":1210257.773834229,"x":1677196800000,"y":1210257.773834229},{"date":"2023-02-27","Portfolio":"equally_weighted","Value":1214168.45565033,"x":1677456000000,"y":1214168.45565033},{"date":"2023-02-28","Portfolio":"equally_weighted","Value":1207858.327461243,"x":1677542400000,"y":1207858.327461243},{"date":"2023-03-01","Portfolio":"equally_weighted","Value":1193478.881278992,"x":1677628800000,"y":1193478.881278992},{"date":"2023-03-02","Portfolio":"equally_weighted","Value":1207252.684333801,"x":1677715200000,"y":1207252.684333801},{"date":"2023-03-03","Portfolio":"equally_weighted","Value":1231191.027824402,"x":1677801600000,"y":1231191.027824402},{"date":"2023-03-06","Portfolio":"equally_weighted","Value":1233258.393608093,"x":1678060800000,"y":1233258.393608093},{"date":"2023-03-07","Portfolio":"equally_weighted","Value":1216578.541847229,"x":1678147200000,"y":1216578.541847229},{"date":"2023-03-08","Portfolio":"equally_weighted","Value":1228861.657402039,"x":1678233600000,"y":1228861.657402039},{"date":"2023-03-09","Portfolio":"equally_weighted","Value":1207656.007133484,"x":1678320000000,"y":1207656.007133484},{"date":"2023-03-10","Portfolio":"equally_weighted","Value":1191705.091239929,"x":1678406400000,"y":1191705.091239929},{"date":"2023-03-13","Portfolio":"equally_weighted","Value":1193430.253486633,"x":1678665600000,"y":1193430.253486633},{"date":"2023-03-14","Portfolio":"equally_weighted","Value":1219051.38433075,"x":1678752000000,"y":1219051.38433075},{"date":"2023-03-15","Portfolio":"equally_weighted","Value":1212834.835395813,"x":1678838400000,"y":1212834.835395813},{"date":"2023-03-16","Portfolio":"equally_weighted","Value":1238717.026199341,"x":1678924800000,"y":1238717.026199341},{"date":"2023-03-17","Portfolio":"equally_weighted","Value":1239373.207015991,"x":1679011200000,"y":1239373.207015991},{"date":"2023-03-20","Portfolio":"equally_weighted","Value":1256027.959060669,"x":1679270400000,"y":1256027.959060669},{"date":"2023-03-21","Portfolio":"equally_weighted","Value":1275028.794685364,"x":1679356800000,"y":1275028.794685364},{"date":"2023-03-22","Portfolio":"equally_weighted","Value":1269457.748062134,"x":1679443200000,"y":1269457.748062134},{"date":"2023-03-23","Portfolio":"equally_weighted","Value":1283472.888801575,"x":1679529600000,"y":1283472.888801575},{"date":"2023-03-24","Portfolio":"equally_weighted","Value":1281213.119735718,"x":1679616000000,"y":1281213.119735718},{"date":"2023-03-27","Portfolio":"equally_weighted","Value":1282448.768486023,"x":1679875200000,"y":1282448.768486023},{"date":"2023-03-28","Portfolio":"equally_weighted","Value":1281216.775856018,"x":1679961600000,"y":1281216.775856018},{"date":"2023-03-29","Portfolio":"equally_weighted","Value":1302922.871490479,"x":1680048000000,"y":1302922.871490479},{"date":"2023-03-30","Portfolio":"equally_weighted","Value":1316845.340179443,"x":1680134400000,"y":1316845.340179443},{"date":"2023-03-31","Portfolio":"equally_weighted","Value":1332325.168586731,"x":1680220800000,"y":1332325.168586731},{"date":"2023-04-03","Portfolio":"equally_weighted","Value":1355618.375846863,"x":1680480000000,"y":1355618.375846863},{"date":"2023-04-04","Portfolio":"equally_weighted","Value":1340417.641151428,"x":1680566400000,"y":1340417.641151428},{"date":"2023-04-05","Portfolio":"equally_weighted","Value":1335607.407012939,"x":1680652800000,"y":1335607.407012939},{"date":"2023-04-06","Portfolio":"equally_weighted","Value":1337521.506141663,"x":1680739200000,"y":1337521.506141663},{"date":"2023-04-10","Portfolio":"equally_weighted","Value":1340010.545562744,"x":1681084800000,"y":1340010.545562744},{"date":"2023-04-11","Portfolio":"equally_weighted","Value":1331533.492012024,"x":1681171200000,"y":1331533.492012024},{"date":"2023-04-12","Portfolio":"equally_weighted","Value":1316800.119239807,"x":1681257600000,"y":1316800.119239807},{"date":"2023-04-13","Portfolio":"equally_weighted","Value":1328710.132888794,"x":1681344000000,"y":1328710.132888794},{"date":"2023-04-14","Portfolio":"equally_weighted","Value":1332058.615936279,"x":1681430400000,"y":1332058.615936279},{"date":"2023-04-17","Portfolio":"equally_weighted","Value":1334986.04875946,"x":1681689600000,"y":1334986.04875946},{"date":"2023-04-18","Portfolio":"equally_weighted","Value":1354957.234672546,"x":1681776000000,"y":1354957.234672546},{"date":"2023-04-19","Portfolio":"equally_weighted","Value":1361295.127426147,"x":1681862400000,"y":1361295.127426147},{"date":"2023-04-20","Portfolio":"equally_weighted","Value":1344367.721618652,"x":1681948800000,"y":1344367.721618652},{"date":"2023-04-21","Portfolio":"equally_weighted","Value":1343570.170402527,"x":1682035200000,"y":1343570.170402527},{"date":"2023-04-24","Portfolio":"equally_weighted","Value":1349825.102584839,"x":1682294400000,"y":1349825.102584839},{"date":"2023-04-25","Portfolio":"equally_weighted","Value":1326658.895820618,"x":1682380800000,"y":1326658.895820618},{"date":"2023-04-26","Portfolio":"equally_weighted","Value":1335443.211265564,"x":1682467200000,"y":1335443.211265564},{"date":"2023-04-27","Portfolio":"equally_weighted","Value":1353552.435195923,"x":1682553600000,"y":1353552.435195923},{"date":"2023-04-28","Portfolio":"equally_weighted","Value":1368083.68913269,"x":1682640000000,"y":1368083.68913269}],"type":"line"},{"name":"nvda_only","data":[{"date":"2023-01-03","Portfolio":"nvda_only","Value":999991.3222169876,"x":1672704000000,"y":999991.3222169876},{"date":"2023-01-04","Portfolio":"nvda_only","Value":1030308.96067524,"x":1672790400000,"y":1030308.96067524},{"date":"2023-01-05","Portfolio":"nvda_only","Value":996498.5589551926,"x":1672876800000,"y":996498.5589551926},{"date":"2023-01-06","Portfolio":"nvda_only","Value":1037993.106519699,"x":1672963200000,"y":1037993.106519699},{"date":"2023-01-09","Portfolio":"nvda_only","Value":1091712.59217453,"x":1673222400000,"y":1091712.59217453},{"date":"2023-01-10","Portfolio":"nvda_only","Value":1111342.201713562,"x":1673308800000,"y":1111342.201713562},{"date":"2023-01-11","Portfolio":"nvda_only","Value":1117768.846114159,"x":1673395200000,"y":1117768.846114159},{"date":"2023-01-12","Portfolio":"nvda_only","Value":1153395.498064041,"x":1673481600000,"y":1153395.498064041},{"date":"2023-01-13","Portfolio":"nvda_only","Value":1180499.84765625,"x":1673568000000,"y":1180499.84765625},{"date":"2023-01-17","Portfolio":"nvda_only","Value":1236594.332326889,"x":1673913600000,"y":1236594.332326889},{"date":"2023-01-18","Portfolio":"nvda_only","Value":1213891.037782669,"x":1674000000000,"y":1213891.037782669},{"date":"2023-01-19","Portfolio":"nvda_only","Value":1171138.922105789,"x":1674086400000,"y":1171138.922105789},{"date":"2023-01-20","Portfolio":"nvda_only","Value":1246164.463663101,"x":1674172800000,"y":1246164.463663101},{"date":"2023-01-23","Portfolio":"nvda_only","Value":1340750.012834549,"x":1674432000000,"y":1340750.012834549},{"date":"2023-01-24","Portfolio":"nvda_only","Value":1345779.218587875,"x":1674518400000,"y":1345779.218587875},{"date":"2023-01-25","Portfolio":"nvda_only","Value":1349831.197315216,"x":1674604800000,"y":1349831.197315216},{"date":"2023-01-26","Portfolio":"nvda_only","Value":1383292.256040573,"x":1674691200000,"y":1383292.256040573},{"date":"2023-01-27","Portfolio":"nvda_only","Value":1422621.343717575,"x":1674777600000,"y":1422621.343717575},{"date":"2023-01-30","Portfolio":"nvda_only","Value":1338584.486278534,"x":1675036800000,"y":1338584.486278534},{"date":"2023-01-31","Portfolio":"nvda_only","Value":1364780.410747528,"x":1675123200000,"y":1364780.410747528},{"date":"2023-02-01","Portfolio":"nvda_only","Value":1462998.193704605,"x":1675209600000,"y":1462998.193704605},{"date":"2023-02-02","Portfolio":"nvda_only","Value":1516508.073562622,"x":1675296000000,"y":1516508.073562622},{"date":"2023-02-03","Portfolio":"nvda_only","Value":1473965.563682556,"x":1675382400000,"y":1473965.563682556},{"date":"2023-02-06","Portfolio":"nvda_only","Value":1473197.142431259,"x":1675641600000,"y":1473197.142431259},{"date":"2023-02-07","Portfolio":"nvda_only","Value":1548921.369977951,"x":1675728000000,"y":1548921.369977951},{"date":"2023-02-08","Portfolio":"nvda_only","Value":1551156.631795883,"x":1675814400000,"y":1551156.631795883},{"date":"2023-02-09","Portfolio":"nvda_only","Value":1560377.686811447,"x":1675900800000,"y":1560377.686811447},{"date":"2023-02-10","Portfolio":"nvda_only","Value":1485491.74911499,"x":1675987200000,"y":1485491.74911499},{"date":"2023-02-13","Portfolio":"nvda_only","Value":1522026.626182556,"x":1676246400000,"y":1522026.626182556},{"date":"2023-02-14","Portfolio":"nvda_only","Value":1604666.378316879,"x":1676332800000,"y":1604666.378316879},{"date":"2023-02-15","Portfolio":"nvda_only","Value":1590206.111740112,"x":1676419200000,"y":1590206.111740112},{"date":"2023-02-16","Portfolio":"nvda_only","Value":1536975.839614868,"x":1676505600000,"y":1536975.839614868},{"date":"2023-02-17","Portfolio":"nvda_only","Value":1494084.253414154,"x":1676592000000,"y":1494084.253414154},{"date":"2023-02-21","Portfolio":"nvda_only","Value":1442879.637310028,"x":1676937600000,"y":1442879.637310028},{"date":"2023-02-22","Portfolio":"nvda_only","Value":1449795.29523468,"x":1677024000000,"y":1449795.29523468},{"date":"2023-02-23","Portfolio":"nvda_only","Value":1653076.91714859,"x":1677110400000,"y":1653076.91714859},{"date":"2023-02-24","Portfolio":"nvda_only","Value":1626671.386882782,"x":1677196800000,"y":1626671.386882782},{"date":"2023-02-27","Portfolio":"nvda_only","Value":1641690.20223999,"x":1677456000000,"y":1641690.20223999},{"date":"2023-02-28","Portfolio":"nvda_only","Value":1621781.251642227,"x":1677542400000,"y":1621781.251642227},{"date":"2023-03-01","Portfolio":"nvda_only","Value":1585595.717569351,"x":1677628800000,"y":1585595.717569351},{"date":"2023-03-02","Portfolio":"nvda_only","Value":1628627.307641983,"x":1677715200000,"y":1628627.307641983},{"date":"2023-03-03","Portfolio":"nvda_only","Value":1668864.420431137,"x":1677801600000,"y":1668864.420431137},{"date":"2023-03-06","Portfolio":"nvda_only","Value":1645392.70463562,"x":1678060800000,"y":1645392.70463562},{"date":"2023-03-07","Portfolio":"nvda_only","Value":1627087.398387909,"x":1678147200000,"y":1627087.398387909},{"date":"2023-03-08","Portfolio":"nvda_only","Value":1689479.390554428,"x":1678233600000,"y":1689479.390554428},{"date":"2023-03-09","Portfolio":"nvda_only","Value":1637427.684356689,"x":1678320000000,"y":1637427.684356689},{"date":"2023-03-10","Portfolio":"nvda_only","Value":1604519.840930939,"x":1678406400000,"y":1604519.840930939},{"date":"2023-03-13","Portfolio":"nvda_only","Value":1604589.576192856,"x":1678665600000,"y":1604589.576192856},{"date":"2023-03-14","Portfolio":"nvda_only","Value":1681234.895879745,"x":1678752000000,"y":1681234.895879745},{"date":"2023-03-15","Portfolio":"nvda_only","Value":1692763.348041534,"x":1678838400000,"y":1692763.348041534},{"date":"2023-03-16","Portfolio":"nvda_only","Value":1784499.885087967,"x":1678924800000,"y":1784499.885087967},{"date":"2023-03-17","Portfolio":"nvda_only","Value":1797355.973966599,"x":1679011200000,"y":1797355.973966599},{"date":"2023-03-20","Portfolio":"nvda_only","Value":1809582.445432663,"x":1679270400000,"y":1809582.445432663},{"date":"2023-03-21","Portfolio":"nvda_only","Value":1830473.156515121,"x":1679356800000,"y":1830473.156515121},{"date":"2023-03-22","Portfolio":"nvda_only","Value":1849267.542955399,"x":1679443200000,"y":1849267.542955399},{"date":"2023-03-23","Portfolio":"nvda_only","Value":1899782.406650543,"x":1679529600000,"y":1899782.406650543},{"date":"2023-03-24","Portfolio":"nvda_only","Value":1870996.543888092,"x":1679616000000,"y":1870996.543888092},{"date":"2023-03-27","Portfolio":"nvda_only","Value":1853669.398025513,"x":1679875200000,"y":1853669.398025513},{"date":"2023-03-28","Portfolio":"nvda_only","Value":1845215.297554016,"x":1679961600000,"y":1845215.297554016},{"date":"2023-03-29","Portfolio":"nvda_only","Value":1885319.60667038,"x":1680048000000,"y":1885319.60667038},{"date":"2023-03-30","Portfolio":"nvda_only","Value":1913196.910972595,"x":1680134400000,"y":1913196.910972595},{"date":"2023-03-31","Portfolio":"nvda_only","Value":1940725.005617142,"x":1680220800000,"y":1940725.005617142},{"date":"2023-04-03","Portfolio":"nvda_only","Value":1953860.035543442,"x":1680480000000,"y":1953860.035543442},{"date":"2023-04-04","Portfolio":"nvda_only","Value":1918087.579561234,"x":1680566400000,"y":1918087.579561234},{"date":"2023-04-05","Portfolio":"nvda_only","Value":1878123.274316788,"x":1680652800000,"y":1878123.274316788},{"date":"2023-04-06","Portfolio":"nvda_only","Value":1889022.509077072,"x":1680739200000,"y":1889022.509077072},{"date":"2023-04-10","Portfolio":"nvda_only","Value":1926891.02302742,"x":1681084800000,"y":1926891.02302742},{"date":"2023-04-11","Portfolio":"nvda_only","Value":1898245.297473907,"x":1681171200000,"y":1898245.297473907},{"date":"2023-04-12","Portfolio":"nvda_only","Value":1851154.261800766,"x":1681257600000,"y":1851154.261800766},{"date":"2023-04-13","Portfolio":"nvda_only","Value":1848918.333297729,"x":1681344000000,"y":1848918.333297729},{"date":"2023-04-14","Portfolio":"nvda_only","Value":1869529.169973373,"x":1681430400000,"y":1869529.169973373},{"date":"2023-04-17","Portfolio":"nvda_only","Value":1886577.241451263,"x":1681689600000,"y":1886577.241451263},{"date":"2023-04-18","Portfolio":"nvda_only","Value":1933039.593070984,"x":1681776000000,"y":1933039.593070984},{"date":"2023-04-19","Portfolio":"nvda_only","Value":1951484.636516571,"x":1681862400000,"y":1951484.636516571},{"date":"2023-04-20","Portfolio":"nvda_only","Value":1893703.838542938,"x":1681948800000,"y":1893703.838542938},{"date":"2023-04-21","Portfolio":"nvda_only","Value":1894751.600852966,"x":1682035200000,"y":1894751.600852966},{"date":"2023-04-24","Portfolio":"nvda_only","Value":1889371.985408783,"x":1682294400000,"y":1889371.985408783},{"date":"2023-04-25","Portfolio":"nvda_only","Value":1833407.637670517,"x":1682380800000,"y":1833407.637670517},{"date":"2023-04-26","Portfolio":"nvda_only","Value":1883363.152563095,"x":1682467200000,"y":1883363.152563095},{"date":"2023-04-27","Portfolio":"nvda_only","Value":1902227.540939331,"x":1682553600000,"y":1902227.540939331},{"date":"2023-04-28","Portfolio":"nvda_only","Value":1938768.818183899,"x":1682640000000,"y":1938768.818183899}],"type":"line"}],"xAxis":{"type":"datetime","title":{"text":"Date"}}},"theme":{"colors":["#d35400","#2980b9","#2ecc71","#f1c40f","#2c3e50","#7f8c8d"],"chart":{"style":{"fontFamily":"Roboto","color":"#666666"}},"title":{"align":"left","style":{"fontFamily":"Roboto Condensed","fontWeight":"bold"}},"subtitle":{"align":"left","style":{"fontFamily":"Roboto Condensed"}},"legend":{"align":"right","verticalAlign":"bottom"},"xAxis":{"gridLineWidth":1,"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"yAxis":{"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"plotOptions":{"line":{"marker":{"enabled":false}},"spline":{"marker":{"enabled":false}},"area":{"marker":{"enabled":false}},"areaspline":{"marker":{"enabled":false}},"arearange":{"marker":{"enabled":false}},"bubble":{"maxSize":"10%"}}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":["Roboto","Roboto+Condensed"],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="exercises" class="level2">
<h2 class="anchored" data-anchor-id="exercises">Exercises</h2>
<ol type="1">
<li><p>Suppose we use the following portfolio weights: XOM (20%), WMT (30%), NVDA (30%), and AAPL (20%).</p>
<ul>
<li>Recalculate how many shares you would purchase initially.</li>
<li>Compute and visualize the portfolio value and returns.</li>
</ul></li>
<li><p>Change the budget to $500,000 and use portfolio weights: XOM (25%), WMT (25%), NVDA (25%), and AAPL (25%).</p>
<ul>
<li>Recalculate the shares purchased, portfolio value, and returns.</li>
<li>Provide an interactive visualization for this scenario.</li>
</ul></li>
</ol>
<hr>
<p>Happy coding! 🚀 This version will be continuously updated.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This website is built with <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>